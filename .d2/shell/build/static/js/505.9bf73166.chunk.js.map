{"version":3,"file":"static/js/505.9bf73166.chunk.js","mappings":"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","sources":["../../../node_modules/@dhis2/ui-icons/build/es/react/ChevronUp16.js","../../../node_modules/@dhis2-ui/button/build/es/split-button/split-button.js","../../../node_modules/@dhis2-ui/node/build/es/leaves.js","../../../node_modules/@dhis2-ui/node/build/es/spacer.js","../../../node_modules/@dhis2-ui/node/build/es/toggle.js","../../../node_modules/@dhis2-ui/node/build/es/node.js","../../../node_modules/@dhis2-ui/organisation-unit-tree/build/es/locales/index.js","../../../node_modules/@dhis2-ui/organisation-unit-tree/build/es/prop-types.js","../../../node_modules/@dhis2-ui/organisation-unit-tree/build/es/organisation-unit-node/error-message.js","../../../node_modules/@dhis2-ui/organisation-unit-tree/build/es/organisation-unit-node/has-descendant-selected-paths.js","../../../node_modules/@dhis2-ui/organisation-unit-tree/build/es/organisation-unit-node/label/single-selection-label.js","../../../node_modules/@dhis2-ui/organisation-unit-tree/build/es/organisation-unit-node/label/disabled-selection-label.js","../../../node_modules/@dhis2-ui/checkbox/build/es/checkbox/checkbox-icon.js","../../../node_modules/@dhis2-ui/checkbox/build/es/checkbox/checkbox.js","../../../node_modules/@dhis2-ui/organisation-unit-tree/build/es/organisation-unit-node/label/icon-empty.js","../../../node_modules/@dhis2-ui/organisation-unit-tree/build/es/organisation-unit-node/label/icon-folder-closed.js","../../../node_modules/@dhis2-ui/organisation-unit-tree/build/es/organisation-unit-node/label/icon-folder-open.js","../../../node_modules/@dhis2-ui/organisation-unit-tree/build/es/organisation-unit-node/label/icon-single.js","../../../node_modules/@dhis2-ui/organisation-unit-tree/build/es/organisation-unit-node/label/icon.js","../../../node_modules/@dhis2-ui/organisation-unit-tree/build/es/organisation-unit-node/label/iconized-checkbox.js","../../../node_modules/@dhis2-ui/organisation-unit-tree/build/es/organisation-unit-node/label/label-container.js","../../../node_modules/@dhis2-ui/organisation-unit-tree/build/es/organisation-unit-node/label/label.js","../../../node_modules/@dhis2-ui/organisation-unit-tree/build/es/organisation-unit-node/loading-spinner.js","../../../node_modules/@dhis2-ui/organisation-unit-tree/build/es/helpers/is-path-included.js","../../../node_modules/@dhis2-ui/organisation-unit-tree/build/es/helpers/sort-node-children-alphabetically.js","../../../node_modules/@dhis2-ui/organisation-unit-tree/build/es/organisation-unit-node/use-org-children.js","../../../node_modules/@dhis2-ui/organisation-unit-tree/build/es/organisation-unit-node/organisation-unit-node-children.js","../../../node_modules/@dhis2-ui/organisation-unit-tree/build/es/organisation-unit-node/use-open-state.js","../../../node_modules/@dhis2-ui/organisation-unit-tree/build/es/organisation-unit-node/use-org-data/use-org-data.js","../../../node_modules/@dhis2-ui/organisation-unit-tree/build/es/organisation-unit-node/organisation-unit-node.js","../../../node_modules/@dhis2-ui/organisation-unit-tree/build/es/helpers/left-trim-to-root-id.js","../../../node_modules/@dhis2-ui/organisation-unit-tree/build/es/organisation-unit-tree/default-render-node-label/default-render-node-label.js","../../../node_modules/@dhis2-ui/organisation-unit-tree/build/es/organisation-unit-tree/root-error.js","../../../node_modules/@dhis2-ui/organisation-unit-tree/build/es/organisation-unit-tree/root-loading.js","../../../node_modules/@dhis2-ui/organisation-unit-tree/build/es/get-all-expanded-paths/get-all-expanded-paths.js","../../../node_modules/@dhis2-ui/organisation-unit-tree/build/es/organisation-unit-tree/use-expanded/use-expanded.js","../../../node_modules/@dhis2-ui/organisation-unit-tree/build/es/organisation-unit-tree/use-expanded/create-expand-handlers.js","../../../node_modules/@dhis2-ui/organisation-unit-tree/build/es/organisation-unit-tree/use-root-org-data/use-root-org-data.js","../../../node_modules/@dhis2-ui/organisation-unit-tree/build/es/organisation-unit-tree/use-root-org-data/patch-missing-display-name.js","../../../node_modules/@dhis2-ui/organisation-unit-tree/build/es/organisation-unit-tree/organisation-unit-tree.js","../../../node_modules/@dhis2-ui/organisation-unit-tree/build/es/organisation-unit-tree/filter-root-ids.js","../../../node_modules/@dhis2-ui/organisation-unit-tree/build/es/organisation-unit-tree/use-force-reload.js","../../../node_modules/@dhis2-ui/select/build/es/single-select-option/single-select-option.js","../../../node_modules/@dhis2-ui/select/build/es/select/input-wrapper.js","../../../node_modules/@dhis2-ui/select/build/es/select/menu-wrapper.js","../../../node_modules/@dhis2-ui/select/build/es/select/select.js","../../../node_modules/@dhis2-ui/select/build/es/select/debounce/debounce.js","../../../node_modules/@dhis2-ui/select/build/es/select/loading.js","../../../node_modules/@dhis2-ui/select/build/es/select/filter-input.js","../../../node_modules/@dhis2-ui/select/build/es/select/no-match.js","../../../node_modules/@dhis2-ui/select/build/es/select/option-helpers.js","../../../node_modules/@dhis2-ui/select/build/es/select/filterable-menu.js","../../../node_modules/@dhis2-ui/select/build/es/select/empty.js","../../../node_modules/@dhis2-ui/select/build/es/single-select/menu.js","../../../node_modules/@dhis2-ui/select/build/es/single-select/filterable-menu.js","../../../node_modules/@dhis2-ui/select/build/es/select/input-prefix.js","../../../node_modules/@dhis2-ui/select/build/es/select/input-placeholder.js","../../../node_modules/@dhis2-ui/select/build/es/select/input-clear-button.js","../../../node_modules/@dhis2-ui/select/build/es/single-select/selection.js","../../../node_modules/@dhis2-ui/select/build/es/single-select/input.js","../../../node_modules/@dhis2-ui/select/build/es/single-select/single-select.js","../../../node_modules/@dhis2-ui/transfer/build/es/actions.js","../../../node_modules/@dhis2-ui/transfer/build/es/icons.js","../../../node_modules/@dhis2-ui/transfer/build/es/add-all.js","../../../node_modules/@dhis2-ui/transfer/build/es/add-individual.js","../../../node_modules/@dhis2-ui/transfer/build/es/container.js","../../../node_modules/@dhis2-ui/transfer/build/es/filter.js","../../../node_modules/@dhis2-ui/transfer/build/es/common/styles.js","../../../node_modules/@dhis2-ui/transfer/build/es/left-footer.js","../../../node_modules/@dhis2-ui/transfer/build/es/left-header.js","../../../node_modules/@dhis2-ui/transfer/build/es/left-side.js","../../../node_modules/@dhis2-ui/intersection-detector/build/es/intersection-detector.js","../../../node_modules/@dhis2-ui/transfer/build/es/end-intersection-detector.js","../../../node_modules/@dhis2-ui/transfer/build/es/use-resize-counter.js","../../../node_modules/@dhis2-ui/transfer/build/es/options-container.js","../../../node_modules/@dhis2-ui/transfer/build/es/remove-all.js","../../../node_modules/@dhis2-ui/transfer/build/es/remove-individual.js","../../../node_modules/@dhis2-ui/transfer/build/es/reordering-actions.js","../../../node_modules/@dhis2-ui/transfer/build/es/right-footer.js","../../../node_modules/@dhis2-ui/transfer/build/es/right-header.js","../../../node_modules/@dhis2-ui/transfer/build/es/right-side.js","../../../node_modules/@dhis2-ui/transfer/build/es/transfer-option.js","../../../node_modules/@dhis2-ui/transfer/build/es/transfer/use-filter.js","../../../node_modules/@dhis2-ui/transfer/build/es/common/modes.js","../../../node_modules/@dhis2-ui/transfer/build/es/transfer/use-highlighted-options/create-toggle-highlighted-option.js","../../../node_modules/@dhis2-ui/transfer/build/es/transfer/use-highlighted-options/toggle-add.js","../../../node_modules/@dhis2-ui/transfer/build/es/common/toggle-value.js","../../../node_modules/@dhis2-ui/transfer/build/es/transfer/use-highlighted-options/toggle-range.js","../../../node_modules/@dhis2-ui/transfer/build/es/common/find-option-index.js","../../../node_modules/@dhis2-ui/transfer/build/es/common/is-option.js","../../../node_modules/@dhis2-ui/transfer/build/es/transfer/use-highlighted-options/toggle-replace.js","../../../node_modules/@dhis2-ui/transfer/build/es/transfer/use-highlighted-options.js","../../../node_modules/@dhis2-ui/transfer/build/es/transfer/get-option-click-handlers.js","../../../node_modules/@dhis2-ui/transfer/build/es/common/get-mode-by-modifier-key.js","../../../node_modules/@dhis2-ui/transfer/build/es/transfer/is-reorder-down-disabled.js","../../../node_modules/@dhis2-ui/transfer/build/es/transfer/is-reorder-up-disabled.js","../../../node_modules/@dhis2-ui/transfer/build/es/transfer/default-filter-callback.js","../../../node_modules/@dhis2-ui/transfer/build/es/transfer.js","../../../node_modules/@dhis2-ui/transfer/build/es/transfer/create-double-click-handlers.js","../../../node_modules/@dhis2-ui/transfer/build/es/transfer/add-all-selectable-source-options.js","../../../node_modules/@dhis2-ui/transfer/build/es/transfer/add-individual-source-options.js","../../../node_modules/@dhis2-ui/transfer/build/es/transfer/remove-all-picked-options.js","../../../node_modules/@dhis2-ui/transfer/build/es/transfer/remove-individual-picked-options.js","../../../node_modules/@dhis2-ui/transfer/build/es/transfer/move-highlighted-picked-option-up.js","../../../node_modules/@dhis2-ui/transfer/build/es/transfer/move-highlighted-picked-option-down.js","../../../node_modules/@dhis2/prop-types/build/es/requiredIf.js","../../../node_modules/@dhis2/ui-icons/build/es/react/ChevronDown16.js","../../../node_modules/q/q.js"],"sourcesContent":["import PropTypes from 'prop-types';\nimport * as React from 'react';\n\nfunction SvgChevronUp16(_ref) {\n  let {\n    color,\n    dataTest\n  } = _ref;\n  return /*#__PURE__*/React.createElement(\"svg\", {\n    height: 16,\n    viewBox: \"0 0 16 16\",\n    width: 16,\n    xmlns: \"http://www.w3.org/2000/svg\",\n    color: color,\n    \"data-test\": dataTest\n  }, /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M7.646 5.646a.5.5 0 01.638-.057l.07.057 3.5 3.5a.5.5 0 01-.638.765l-.07-.057L8 6.707 4.854 9.854a.5.5 0 01-.638.057l-.07-.057a.5.5 0 01-.057-.638l.057-.07z\",\n    fill: \"currentColor\"\n  }));\n}\n\nSvgChevronUp16.propTypes = {\n  color: PropTypes.string,\n  dataTest: PropTypes.string\n};\nexport default SvgChevronUp16;","import _JSXStyle from \"styled-jsx/style\";\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nimport { Layer } from '@dhis2-ui/layer';\nimport { Popper } from '@dhis2-ui/popper';\nimport { spacers, sharedPropTypes } from '@dhis2/ui-constants';\nimport { IconChevronUp16, IconChevronDown16 } from '@dhis2/ui-icons';\nimport cx from 'classnames';\nimport PropTypes from 'prop-types';\nimport React, { Component } from 'react';\nimport { Button } from '../index.js';\nconst rightButton = {\n  styles: /*#__PURE__*/React.createElement(_JSXStyle, {\n    id: \"2502148942\"\n  }, [\"button.jsx-2502148942{padding:0 \".concat(spacers.dp12, \";}\")]),\n  className: \"jsx-2502148942\"\n};\n\nclass SplitButton extends Component {\n  constructor() {\n    super(...arguments);\n\n    _defineProperty(this, \"state\", {\n      open: false\n    });\n\n    _defineProperty(this, \"anchorRef\", /*#__PURE__*/React.createRef());\n\n    _defineProperty(this, \"onClick\", (payload, event) => {\n      if (this.props.onClick) {\n        this.props.onClick({\n          name: payload.name,\n          value: payload.value,\n          open: this.state.open\n        }, event);\n      }\n    });\n\n    _defineProperty(this, \"onToggle\", () => this.setState({\n      open: !this.state.open\n    }));\n  }\n\n  render() {\n    const {\n      open\n    } = this.state;\n    const {\n      component,\n      children,\n      className,\n      name,\n      value,\n      icon,\n      small,\n      large,\n      primary,\n      secondary,\n      destructive,\n      disabled,\n      type,\n      tabIndex,\n      dataTest,\n      initialFocus\n    } = this.props;\n    const arrow = open ? /*#__PURE__*/React.createElement(IconChevronUp16, null) : /*#__PURE__*/React.createElement(IconChevronDown16, null);\n    return /*#__PURE__*/React.createElement(\"div\", {\n      ref: this.anchorRef,\n      \"data-test\": dataTest,\n      className: \"jsx-4268400365\"\n    }, /*#__PURE__*/React.createElement(Button, {\n      name: name,\n      value: value,\n      icon: icon,\n      small: small,\n      large: large,\n      primary: primary,\n      secondary: secondary,\n      destructive: destructive,\n      disabled: disabled,\n      onClick: this.onClick,\n      type: type,\n      tabIndex: tabIndex,\n      className: cx(className),\n      initialFocus: initialFocus,\n      dataTest: \"\".concat(dataTest, \"-button\")\n    }, children), /*#__PURE__*/React.createElement(Button, {\n      name: name,\n      value: value,\n      small: small,\n      large: large,\n      primary: primary,\n      secondary: secondary,\n      destructive: destructive,\n      disabled: disabled,\n      onClick: this.onToggle,\n      type: type,\n      tabIndex: tabIndex,\n      className: cx(className, rightButton.className),\n      dataTest: \"\".concat(dataTest, \"-toggle\")\n    }, arrow), open && /*#__PURE__*/React.createElement(Layer, {\n      onBackdropClick: this.onToggle,\n      transparent: true\n    }, /*#__PURE__*/React.createElement(Popper, {\n      dataTest: \"\".concat(dataTest, \"-menu\"),\n      placement: \"bottom-end\",\n      reference: this.anchorRef\n    }, component)), rightButton.styles, /*#__PURE__*/React.createElement(_JSXStyle, {\n      id: \"4268400365\"\n    }, [\"div.jsx-4268400365{display:-webkit-inline-box;display:-webkit-inline-flex;display:-ms-inline-flexbox;display:inline-flex;color:inherit;white-space:nowrap;position:relative;z-index:0;}\", \"div.jsx-4268400365>button:first-child{border-top-right-radius:0;border-bottom-right-radius:0;border-right:0;}\", \"div.jsx-4268400365>button:last-child{border-top-left-radius:0;border-bottom-left-radius:0;}\"]));\n  }\n\n}\n\nSplitButton.defaultProps = {\n  dataTest: 'dhis2-uicore-splitbutton'\n};\nSplitButton.propTypes = {\n  children: PropTypes.string,\n  className: PropTypes.string,\n\n  /** Component to render when the dropdown is opened */\n  component: PropTypes.element,\n  dataTest: PropTypes.string,\n\n  /** Applies 'destructive' appearance to indicate purpose. Mutually exclusive with `primary` and `secondary` props */\n  destructive: sharedPropTypes.buttonVariantPropType,\n\n  /** Disables the button and makes it uninteractive */\n  disabled: PropTypes.bool,\n\n  /** An icon to add inside the button */\n  icon: PropTypes.element,\n\n  /** Grants the button the initial focus */\n  initialFocus: PropTypes.bool,\n\n  /** Changes button size. Mutually exclusive with `small` prop */\n  large: sharedPropTypes.sizePropType,\n  name: PropTypes.string,\n\n  /** Applies 'primary' appearance to indicate purpose. Mutually exclusive with `destructive` and `secondary` props */\n  primary: sharedPropTypes.buttonVariantPropType,\n\n  /** Applies 'secondary' appearance to indicate purpose. Mutually exclusive with `primary` and `destructive` props */\n  secondary: sharedPropTypes.buttonVariantPropType,\n\n  /** Changes button size. Mutually exclusive with `large` prop */\n  small: sharedPropTypes.sizePropType,\n  tabIndex: PropTypes.string,\n\n  /** Type of button. Applied to html `button` element */\n  type: PropTypes.oneOf(['submit', 'reset', 'button']),\n\n  /** Value associated with the button. Passed in object to onClick handler */\n  value: PropTypes.string,\n  onClick: PropTypes.func\n};\nexport { SplitButton };","import _JSXStyle from \"styled-jsx/style\";\nimport cx from 'classnames';\nimport PropTypes from 'prop-types';\nimport React from 'react';\nexport const Leaves = _ref => {\n  let {\n    children,\n    open,\n    dataTest\n  } = _ref;\n  return /*#__PURE__*/React.createElement(\"div\", {\n    \"data-test\": dataTest,\n    className: \"jsx-3677374542\" + \" \" + (cx({\n      open\n    }) || \"\")\n  }, children, /*#__PURE__*/React.createElement(_JSXStyle, {\n    id: \"3677374542\"\n  }, [\"div.jsx-3677374542{height:0;overflow:hidden;-webkit-box-flex:1;-webkit-flex-grow:1;-ms-flex-positive:1;flex-grow:1;}\", \".open.jsx-3677374542{height:auto;}\"]));\n};\nLeaves.propTypes = {\n  children: PropTypes.node,\n  dataTest: PropTypes.string,\n  open: PropTypes.bool\n};","import _JSXStyle from \"styled-jsx/style\";\nimport React from 'react';\nexport const Spacer = () => /*#__PURE__*/React.createElement(\"div\", {\n  className: \"jsx-2503342345\"\n}, /*#__PURE__*/React.createElement(_JSXStyle, {\n  id: \"2503342345\"\n}, [\"div.jsx-2503342345{width:24px;}\"]));","import _JSXStyle from \"styled-jsx/style\";\nimport { colors } from '@dhis2/ui-constants';\nimport cx from 'classnames';\nimport PropTypes from 'prop-types';\nimport React from 'react';\n\nconst ArrowDown = () => /*#__PURE__*/React.createElement(\"svg\", {\n  xmlns: \"http://www.w3.org/2000/svg\",\n  viewBox: \"0 0 24 24\",\n  className: \"jsx-2769585603\"\n}, /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M15.7041 10.3329L12.1495 14.3318C12.0699 14.4213 11.9301 14.4213 11.8505 14.3318L8.29589 10.3329C8.18124 10.2039 8.2728 10 8.44537 10H15.5546C15.7272 10 15.8188 10.2039 15.7041 10.3329Z\",\n  className: \"jsx-2769585603\"\n}), /*#__PURE__*/React.createElement(_JSXStyle, {\n  id: \"2769585603\"\n}, [\"svg.jsx-2769585603{fill:inherit;height:24px;width:24px;vertical-align:middle;pointer-events:none;}\"]));\n\nexport const Toggle = _ref => {\n  let {\n    open,\n    onOpen,\n    onClose,\n    dataTest\n  } = _ref;\n  const onClick = open ? onClose : onOpen;\n  return /*#__PURE__*/React.createElement(\"div\", {\n    \"data-test\": dataTest,\n    onClick: event => onClick && onClick({\n      open: !open\n    }, event),\n    className: _JSXStyle.dynamic([[\"1793048903\", [colors.grey400, colors.grey900, colors.grey100]]]) + \" \" + (cx({\n      open\n    }) || \"\")\n  }, /*#__PURE__*/React.createElement(\"span\", {\n    className: _JSXStyle.dynamic([[\"1793048903\", [colors.grey400, colors.grey900, colors.grey100]]])\n  }, /*#__PURE__*/React.createElement(ArrowDown, null)), /*#__PURE__*/React.createElement(_JSXStyle, {\n    id: \"1793048903\",\n    dynamic: [colors.grey400, colors.grey900, colors.grey100]\n  }, [\"div.__jsx-style-dynamic-selector{width:24px;position:relative;-webkit-flex-shrink:0;-ms-flex-negative:0;flex-shrink:0;}\", \"div.__jsx-style-dynamic-selector:after{background:\".concat(colors.grey400, \";height:calc(100% - 24px);left:12px;position:absolute;top:15px;width:1px;z-index:1;}\"), \".open.__jsx-style-dynamic-selector:after{content:'';}\", \"span.__jsx-style-dynamic-selector{display:block;position:relative;z-index:2;fill:\".concat(colors.grey900, \";}\"), \"div.__jsx-style-dynamic-selector svg{vertical-align:top;-webkit-transform:rotate(-90deg);-ms-transform:rotate(-90deg);transform:rotate(-90deg);-webkit-transition:-webkit-transform 0.1s ease-out;-webkit-transition:transform 0.1s ease-out;transition:transform 0.1s ease-out;}\", \".open.__jsx-style-dynamic-selector svg{-webkit-transform:rotate(0);-ms-transform:rotate(0);transform:rotate(0);}\", \"div.__jsx-style-dynamic-selector:hover{cursor:pointer;border-radius:3px;background:\".concat(colors.grey100, \";}\"), \"div.__jsx-style-dynamic-selector:hover.__jsx-style-dynamic-selector:after{background:#bcc8d4;}\"]));\n};\nToggle.propTypes = {\n  dataTest: PropTypes.string.isRequired,\n  open: PropTypes.bool,\n  onClose: PropTypes.func,\n  onOpen: PropTypes.func\n};","import _JSXStyle from \"styled-jsx/style\";\nimport cx from 'classnames';\nimport PropTypes from 'prop-types';\nimport React from 'react';\nimport { Leaves } from './leaves.js';\nimport { Spacer } from './spacer.js';\nimport { Toggle } from './toggle.js';\nexport const Node = _ref => {\n  let {\n    open,\n    className,\n    component: label,\n    children,\n    icon,\n    onOpen,\n    onClose,\n    dataTest\n  } = _ref;\n  const hasLeaves = !!React.Children.toArray(children).filter(i => i).length;\n  const showArrow = !icon && hasLeaves;\n  const showSpacer = !icon && !hasLeaves;\n  return /*#__PURE__*/React.createElement(\"div\", {\n    \"data-test\": dataTest,\n    className: \"jsx-1433072554\" + \" \" + (cx('node', className) || \"\")\n  }, icon && /*#__PURE__*/React.createElement(\"div\", {\n    \"data-test\": \"\".concat(dataTest, \"-icon\"),\n    className: \"jsx-1433072554\"\n  }, icon), showArrow && /*#__PURE__*/React.createElement(Toggle, {\n    open: open,\n    onOpen: onOpen,\n    onClose: onClose,\n    dataTest: \"\".concat(dataTest, \"-toggle\")\n  }), showSpacer && /*#__PURE__*/React.createElement(Spacer, null), /*#__PURE__*/React.createElement(\"div\", {\n    \"data-test\": \"\".concat(dataTest, \"-content\"),\n    className: \"jsx-1433072554\"\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    \"data-test\": \"\".concat(dataTest, \"-label\"),\n    className: \"jsx-1433072554\"\n  }, label), /*#__PURE__*/React.createElement(Leaves, {\n    open: open,\n    dataTest: \"\".concat(dataTest, \"-leaves\")\n  }, children)), /*#__PURE__*/React.createElement(_JSXStyle, {\n    id: \"1433072554\"\n  }, [\".node.jsx-1433072554{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;}\"]));\n};\nNode.defaultProps = {\n  dataTest: 'dhis2-uicore-node'\n};\nNode.propTypes = {\n  /** Content below this level of the hierarchy; children are revealed when this leaf is 'open' */\n  children: PropTypes.node,\n  className: PropTypes.string,\n\n  /** Content/label for this leaf, for example a checkbox */\n  component: PropTypes.element,\n  dataTest: PropTypes.string,\n\n  /** A custom icon to use instead of a toggle arrow */\n  icon: PropTypes.node,\n  open: PropTypes.bool,\n  onClose: PropTypes.func,\n  onOpen: PropTypes.func\n};","//------------------------------------------------------------------------------\n// <auto-generated>\n// This code was generated by d2-i18n-generate.\n//\n// Changes to this file may cause incorrect behavior and will be lost if\n// the code is regenerated.\n// </auto-generated>\n//------------------------------------------------------------------------------\nimport i18n from '@dhis2/d2-i18n';\nimport arTranslations from './ar/translations.json';\nimport csTranslations from './cs/translations.json';\nimport enTranslations from './en/translations.json';\nimport esTranslations from './es/translations.json';\nimport nbTranslations from './nb/translations.json';\nimport nlTranslations from './nl/translations.json';\nimport ukTranslations from './uk/translations.json';\nimport uzTranslations from './uz/translations.json';\nimport uz_LatnTranslations from './uz_Latn/translations.json';\nimport viTranslations from './vi/translations.json';\nimport zhTranslations from './zh/translations.json';\nimport zh_CNTranslations from './zh_CN/translations.json';\nconst namespace = 'default';\ni18n.addResources('ar', namespace, arTranslations);\ni18n.addResources('cs', namespace, csTranslations);\ni18n.addResources('en', namespace, enTranslations);\ni18n.addResources('es', namespace, esTranslations);\ni18n.addResources('nb', namespace, nbTranslations);\ni18n.addResources('nl', namespace, nlTranslations);\ni18n.addResources('uk', namespace, ukTranslations);\ni18n.addResources('uz', namespace, uzTranslations);\ni18n.addResources('uz_Latn', namespace, uz_LatnTranslations);\ni18n.addResources('vi', namespace, viTranslations);\ni18n.addResources('zh', namespace, zhTranslations);\ni18n.addResources('zh_CN', namespace, zh_CNTranslations);\nexport default i18n;","/* eslint-disable max-params */\nconst UNIT_ID_PATTERN = '[a-zA-Z][a-zA-Z0-9]{10}';\nconst orgUnitIdRegExp = new RegExp(\"^\".concat(UNIT_ID_PATTERN, \"$\"));\nconst orgUnitPathRegExp = new RegExp(\"(/\".concat(UNIT_ID_PATTERN, \")+\"));\nexport const orgUnitPathPropType = (propValue, key, compName, location, propFullName) => {\n  if (!orgUnitPathRegExp.test(propValue[key])) {\n    return new Error(\"Invalid org unit path `\".concat(propValue[key], \"` supplied to `\").concat(compName, \".\").concat(propFullName, \"`\"));\n  }\n};\nexport const orgUnitIdPropType = (propValue, key, compName, location, propFullName) => {\n  if (!orgUnitIdRegExp.test(propValue[key])) {\n    return new Error(\"Invalid org unit id `\".concat(propValue[key], \"` supplied to `\").concat(compName, \".\").concat(propFullName, \"`\"));\n  }\n};","import _JSXStyle from \"styled-jsx/style\";\nimport { colors, spacers, theme } from '@dhis2/ui-constants';\nimport PropTypes from 'prop-types';\nimport React from 'react';\nexport const ErrorMessage = _ref => {\n  let {\n    children,\n    dataTest\n  } = _ref;\n  return /*#__PURE__*/React.createElement(\"span\", {\n    \"data-test\": \"\".concat(dataTest, \"-error\"),\n    className: _JSXStyle.dynamic([[\"3198585030\", [colors.grey800, spacers.dp4, theme.error]]])\n  }, children, /*#__PURE__*/React.createElement(_JSXStyle, {\n    id: \"3198585030\",\n    dynamic: [colors.grey800, spacers.dp4, theme.error]\n  }, [\"span.__jsx-style-dynamic-selector{font-size:14px;color:\".concat(colors.grey800, \";margin:\").concat(spacers.dp4, \";color:\").concat(theme.error, \";}\")]));\n};\nErrorMessage.propTypes = {\n  children: PropTypes.any.isRequired,\n  dataTest: PropTypes.string.isRequired\n};","/**\n * Checks wether there are descendants of a path in the\n * array of selected paths\n *\n * @param {string} path\n * @param {string[]} selected\n * @returns {bool}\n */\nexport const hasDescendantSelectedPaths = (path, selected) => {\n  return selected.some(selectedPath => {\n    const isNotPath = !selectedPath.match(new RegExp(\"\".concat(path, \"$\")));\n    const isSubPath = selectedPath.match(new RegExp(path));\n    return isNotPath && isSubPath;\n  });\n};","import _JSXStyle from \"styled-jsx/style\";\nimport { colors } from '@dhis2/ui-constants';\nimport cx from 'classnames';\nimport PropTypes from 'prop-types';\nimport React from 'react';\n/**\n * @param {Object} props\n * @param {string} props.label\n * @param {bool} [props.checked]\n * @param {bool} [props.loading]\n * @param {Function} [props.onChange]\n * @returns {React.Component}\n */\n\nexport const SingleSelectionLabel = _ref => {\n  let {\n    checked,\n    children,\n    onChange,\n    loading\n  } = _ref;\n  return /*#__PURE__*/React.createElement(\"span\", {\n    onClick: event => {\n      const payload = {\n        checked: !checked\n      };\n      onChange(payload, event);\n    },\n    className: _JSXStyle.dynamic([[\"321503310\", [colors.grey900, colors.teal700]]]) + \" \" + (cx({\n      checked,\n      loading\n    }) || \"\")\n  }, children, /*#__PURE__*/React.createElement(_JSXStyle, {\n    id: \"321503310\",\n    dynamic: [colors.grey900, colors.teal700]\n  }, [\"span.__jsx-style-dynamic-selector{background:transparent;border-radius:3px;color:\".concat(colors.grey900, \";cursor:pointer;display:inline-block;font-size:14px;line-height:24px;padding:0 5px;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;white-space:nowrap;}\"), \".checked.__jsx-style-dynamic-selector{background:\".concat(colors.teal700, \";color:white;}\"), \".loading.__jsx-style-dynamic-selector{cursor:auto;}\"]));\n};\nSingleSelectionLabel.propTypes = {\n  children: PropTypes.any.isRequired,\n  checked: PropTypes.bool,\n  loading: PropTypes.bool,\n  onChange: PropTypes.func\n};","import PropTypes from 'prop-types';\nimport React from 'react';\nimport { SingleSelectionLabel } from './single-selection-label.js';\n/**\n * @param {Object} props\n * @param {string} props.label\n * @param {Function} props.onToggleOpen\n * @param {bool} [props.loading]\n * @returns {React.Component}\n */\n\nexport const DisabledSelectionLabel = _ref => {\n  let {\n    children,\n    loading,\n    onToggleOpen\n  } = _ref;\n  return /*#__PURE__*/React.createElement(SingleSelectionLabel, {\n    checked: false,\n    loading: loading,\n    onChange: onToggleOpen\n  }, children);\n};\nDisabledSelectionLabel.propTypes = {\n  children: PropTypes.any.isRequired,\n  onToggleOpen: PropTypes.func.isRequired,\n  loading: PropTypes.bool\n};","import _JSXStyle from \"styled-jsx/style\";\nimport { colors } from '@dhis2/ui-constants';\nimport PropTypes from 'prop-types';\nimport React from 'react';\nconst commonStyles = [\"svg.jsx-4069423049{display:block;pointer-events:none;}\", \"svg.jsx-4069423049 .border.jsx-4069423049{fill:\".concat(colors.grey800, \";}\"), \"svg.jsx-4069423049 .background.jsx-4069423049,svg.jsx-4069423049 .indeterminate.jsx-4069423049,svg.jsx-4069423049 .checkmark.jsx-4069423049{fill:\".concat(colors.white, \";}\"), \"svg.checked.jsx-4069423049 .background.jsx-4069423049,svg.indeterminate.jsx-4069423049 .background.jsx-4069423049{fill:\".concat(colors.teal500, \";}\"), \"svg.valid.jsx-4069423049 .background.jsx-4069423049{fill:\".concat(colors.blue600, \";}\"), \"svg.warning.jsx-4069423049 .background.jsx-4069423049{fill:\".concat(colors.yellow700, \";}\"), \"svg.error.jsx-4069423049 .background.jsx-4069423049{fill:\".concat(colors.red500, \";}\"), \"svg.checked.jsx-4069423049 .border.jsx-4069423049,svg.indeterminate.jsx-4069423049 .border.jsx-4069423049{fill:\".concat(colors.teal900, \";}\"), \"svg.jsx-4069423049:not(.checked) .checkmark.jsx-4069423049,svg.jsx-4069423049:not(.indeterminate) .indeterminate.jsx-4069423049{fill:none;}\", \"svg.jsx-4069423049:not(.checked):not(.indeterminate) .background.jsx-4069423049{fill:\".concat(colors.white, \";}\")];\ncommonStyles.__hash = \"4069423049\";\nexport function CheckboxRegular(_ref) {\n  let {\n    className\n  } = _ref;\n  return /*#__PURE__*/React.createElement(\"svg\", {\n    viewBox: \"0 0 18 18\",\n    xmlns: \"http://www.w3.org/2000/svg\",\n    className: \"jsx-\".concat(commonStyles.__hash) + \" \" + _JSXStyle.dynamic([[\"2753140462\", [colors.grey300, colors.grey400, colors.blue600, colors.blue700, colors.yellow700, colors.yellow800, colors.red500, colors.red700]]]) + \" \" + (className || \"\")\n  }, /*#__PURE__*/React.createElement(\"rect\", {\n    x: \"0\",\n    y: \"0\",\n    width: \"18\",\n    height: \"18\",\n    rx: \"3\",\n    className: \"jsx-\".concat(commonStyles.__hash) + \" \" + _JSXStyle.dynamic([[\"2753140462\", [colors.grey300, colors.grey400, colors.blue600, colors.blue700, colors.yellow700, colors.yellow800, colors.red500, colors.red700]]]) + \" \" + \"background\"\n  }), /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M15,0 C16.6568542,0 18,1.34314575 18,3 L18,15 C18,16.6568542 16.6568542,18 15,18 L3,18 C1.34314575,18 0,16.6568542 0,15 L0,3 C0,1.34314575 1.34314575,0 3,0 L15,0 Z M15,1 L3,1 C1.9456382,1 1.08183488,1.81587779 1.00548574,2.85073766 L1,3 L1,15 C1,16.0543618 1.81587779,16.9181651 2.85073766,16.9945143 L3,17 L15,17 C16.0543618,17 16.9181651,16.1841222 16.9945143,15.1492623 L17,15 L17,3 C17,1.9456382 16.1841222,1.08183488 15.1492623,1.00548574 L15,1 Z\",\n    className: \"jsx-\".concat(commonStyles.__hash) + \" \" + _JSXStyle.dynamic([[\"2753140462\", [colors.grey300, colors.grey400, colors.blue600, colors.blue700, colors.yellow700, colors.yellow800, colors.red500, colors.red700]]]) + \" \" + \"border\"\n  }), /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M4.74451387,8.02852516 C4.39595738,8.11985643 4.12375034,8.39235188 4.03251575,8.74127768 C3.94128115,9.09020348 4.04521722,9.46125864 4.30437605,9.71182782 L7.29823844,12.7078028 C7.68753993,13.0973991 8.31859767,13.0973991 8.70789916,12.7078028 L13.695624,6.71585285 C13.9547828,6.46528367 14.0587189,6.09422851 13.9674843,5.74530271 C13.8762497,5.39637691 13.6040426,5.12388146 13.2554861,5.0325502 C12.9069296,4.94121893 12.5362672,5.04526513 12.2859632,5.30469855 L8.0030688,10.5910713 L5.71403676,8.30067351 C5.46373279,8.0412401 5.09307036,7.9371939 4.74451387,8.02852516 Z\",\n    className: \"jsx-\".concat(commonStyles.__hash) + \" \" + _JSXStyle.dynamic([[\"2753140462\", [colors.grey300, colors.grey400, colors.blue600, colors.blue700, colors.yellow700, colors.yellow800, colors.red500, colors.red700]]]) + \" \" + \"checkmark\"\n  }), /*#__PURE__*/React.createElement(\"rect\", {\n    x: \"4\",\n    y: \"8\",\n    width: \"10\",\n    height: \"2\",\n    rx: \"1\",\n    className: \"jsx-\".concat(commonStyles.__hash) + \" \" + _JSXStyle.dynamic([[\"2753140462\", [colors.grey300, colors.grey400, colors.blue600, colors.blue700, colors.yellow700, colors.yellow800, colors.red500, colors.red700]]]) + \" \" + \"indeterminate\"\n  }), /*#__PURE__*/React.createElement(_JSXStyle, {\n    id: commonStyles.__hash\n  }, commonStyles), /*#__PURE__*/React.createElement(_JSXStyle, {\n    id: \"2753140462\",\n    dynamic: [colors.grey300, colors.grey400, colors.blue600, colors.blue700, colors.yellow700, colors.yellow800, colors.red500, colors.red700]\n  }, [\"svg.__jsx-style-dynamic-selector{width:18px;height:18px;}\", \"svg.disabled.__jsx-style-dynamic-selector .background.__jsx-style-dynamic-selector{fill:\".concat(colors.grey300, \";}\"), \"svg.disabled.__jsx-style-dynamic-selector .border.__jsx-style-dynamic-selector{fill:\".concat(colors.grey400, \";}\"), \"svg.valid.__jsx-style-dynamic-selector .border.__jsx-style-dynamic-selector{fill:\".concat(colors.blue600, \";}\"), \"svg.valid.checked.__jsx-style-dynamic-selector .border.__jsx-style-dynamic-selector,svg.valid.indeterminate.__jsx-style-dynamic-selector .border.__jsx-style-dynamic-selector{fill:\".concat(colors.blue700, \";}\"), \"svg.warning.__jsx-style-dynamic-selector .border.__jsx-style-dynamic-selector{fill:\".concat(colors.yellow700, \";}\"), \"svg.warning.checked.__jsx-style-dynamic-selector .border.__jsx-style-dynamic-selector,svg.warning.indeterminate.__jsx-style-dynamic-selector .border.__jsx-style-dynamic-selector{fill:\".concat(colors.yellow800, \";}\"), \"svg.error.__jsx-style-dynamic-selector .border.__jsx-style-dynamic-selector{fill:\".concat(colors.red500, \";}\"), \"svg.error.checked.__jsx-style-dynamic-selector .border.__jsx-style-dynamic-selector,svg.error.indeterminate.__jsx-style-dynamic-selector .border.__jsx-style-dynamic-selector{fill:\".concat(colors.red700, \";}\")]));\n}\nCheckboxRegular.propTypes = {\n  className: PropTypes.string\n};\nexport function CheckboxDense(_ref2) {\n  let {\n    className\n  } = _ref2;\n  return /*#__PURE__*/React.createElement(\"svg\", {\n    viewBox: \"0 0 14 14\",\n    xmlns: \"http://www.w3.org/2000/svg\",\n    className: \"jsx-\".concat(commonStyles.__hash) + \" \" + _JSXStyle.dynamic([[\"86695588\", [colors.grey400, colors.grey400, colors.grey500, colors.blue600, colors.blue800, colors.yellow700, colors.yellow800, colors.red500, colors.red800]]]) + \" \" + (className || \"\")\n  }, /*#__PURE__*/React.createElement(\"rect\", {\n    x: \"0\",\n    y: \"0\",\n    width: \"14\",\n    height: \"14\",\n    rx: \"2\",\n    className: \"jsx-\".concat(commonStyles.__hash) + \" \" + _JSXStyle.dynamic([[\"86695588\", [colors.grey400, colors.grey400, colors.grey500, colors.blue600, colors.blue800, colors.yellow700, colors.yellow800, colors.red500, colors.red800]]]) + \" \" + \"background\"\n  }), /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M2,0 L12,0 C13.1045695,0 14,0.8954305 14,2 L14,12 C14,13.1045695 13.1045695,14 12,14 L2,14 C0.8954305,14 0,13.1045695 0,12 L0,2 C0,0.8954305 0.8954305,0 2,0 Z M2,1 C1.44771525,1 1,1.44771525 1,2 L1,12 C1,12.5522847 1.44771525,13 2,13 L12,13 C12.5522847,13 13,12.5522847 13,12 L13,2 C13,1.44771525 12.5522847,1 12,1 L2,1 Z\",\n    className: \"jsx-\".concat(commonStyles.__hash) + \" \" + _JSXStyle.dynamic([[\"86695588\", [colors.grey400, colors.grey400, colors.grey500, colors.blue600, colors.blue800, colors.yellow700, colors.yellow800, colors.red500, colors.red800]]]) + \" \" + \"border\"\n  }), /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M10.3520005,3.30015877 L5.54268293,8.03252726 L3.64634146,6.16652726 L2.28668615,7.5044281 L5.54310367,10.7010587 L11.7145993,4.628307 L10.3520005,3.30015877 Z M5.54268293,9.43547274 L5.61193184,9.36733181 L5.54226219,9.29894127 L5.47309681,9.367 L5.54268293,9.43547274 Z M10.6496329,4.41023392 L10.6495057,4.35652297 L10.5648412,4.35672356 L10.2854007,4.631693 L10.3553166,4.69984123 L10.6496329,4.41023392 Z M3.42891348,7.22439304 L3.35030905,7.22439304 L3.35034135,7.27820863 L3.64634146,7.56947274 L3.71331385,7.5035719 L3.42891348,7.22439304 Z\",\n    className: \"jsx-\".concat(commonStyles.__hash) + \" \" + _JSXStyle.dynamic([[\"86695588\", [colors.grey400, colors.grey400, colors.grey500, colors.blue600, colors.blue800, colors.yellow700, colors.yellow800, colors.red500, colors.red800]]]) + \" \" + \"checkmark\"\n  }), /*#__PURE__*/React.createElement(\"rect\", {\n    x: \"3\",\n    y: \"6\",\n    width: \"8\",\n    height: \"2\",\n    className: \"jsx-\".concat(commonStyles.__hash) + \" \" + _JSXStyle.dynamic([[\"86695588\", [colors.grey400, colors.grey400, colors.grey500, colors.blue600, colors.blue800, colors.yellow700, colors.yellow800, colors.red500, colors.red800]]]) + \" \" + \"indeterminate\"\n  }), /*#__PURE__*/React.createElement(_JSXStyle, {\n    id: commonStyles.__hash\n  }, commonStyles), /*#__PURE__*/React.createElement(_JSXStyle, {\n    id: \"86695588\",\n    dynamic: [colors.grey400, colors.grey400, colors.grey500, colors.blue600, colors.blue800, colors.yellow700, colors.yellow800, colors.red500, colors.red800]\n  }, [\"svg.__jsx-style-dynamic-selector{width:14px;height:14px;}\", \"svg.disabled.__jsx-style-dynamic-selector .background.__jsx-style-dynamic-selector{fill:\".concat(colors.grey400, \";}\"), \"svg.disabled.__jsx-style-dynamic-selector .border.__jsx-style-dynamic-selector{fill:\".concat(colors.grey400, \";}\"), \"svg.disabled.checked.__jsx-style-dynamic-selector .border.__jsx-style-dynamic-selector,svg.disabled.indeterminate.__jsx-style-dynamic-selector .border.__jsx-style-dynamic-selector{fill:\".concat(colors.grey500, \";}\"), \"svg.valid.__jsx-style-dynamic-selector .border.__jsx-style-dynamic-selector{fill:\".concat(colors.blue600, \";}\"), \"svg.valid.checked.__jsx-style-dynamic-selector .border.__jsx-style-dynamic-selector,svg.valid.indeterminate.__jsx-style-dynamic-selector .border.__jsx-style-dynamic-selector{fill:\".concat(colors.blue800, \";}\"), \"svg.warning.__jsx-style-dynamic-selector .border.__jsx-style-dynamic-selector{fill:\".concat(colors.yellow700, \";}\"), \"svg.warning.checked.__jsx-style-dynamic-selector .border.__jsx-style-dynamic-selector,svg.warning.indeterminate.__jsx-style-dynamic-selector .border.__jsx-style-dynamic-selector{fill:\".concat(colors.yellow800, \";}\"), \"svg.error.__jsx-style-dynamic-selector .border.__jsx-style-dynamic-selector{fill:\".concat(colors.red500, \";}\"), \"svg.error.checked.__jsx-style-dynamic-selector .border.__jsx-style-dynamic-selector,svg.error.indeterminate.__jsx-style-dynamic-selector .border.__jsx-style-dynamic-selector{fill:\".concat(colors.red800, \";}\")]));\n}\nCheckboxDense.propTypes = {\n  className: PropTypes.string\n};","import _JSXStyle from \"styled-jsx/style\";\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nimport { mutuallyExclusive } from '@dhis2/prop-types';\nimport { colors, spacers, theme, sharedPropTypes } from '@dhis2/ui-constants';\nimport cx from 'classnames';\nimport PropTypes from 'prop-types';\nimport React, { Component, createRef } from 'react';\nimport { CheckboxRegular, CheckboxDense } from './checkbox-icon.js';\n\nclass Checkbox extends Component {\n  constructor() {\n    super(...arguments);\n\n    _defineProperty(this, \"ref\", /*#__PURE__*/createRef());\n\n    _defineProperty(this, \"handleChange\", e => {\n      if (this.props.onChange) {\n        this.props.onChange(this.createHandlerPayload(), e);\n      }\n    });\n\n    _defineProperty(this, \"handleBlur\", e => {\n      if (this.props.onBlur) {\n        this.props.onBlur(this.createHandlerPayload(), e);\n      }\n    });\n\n    _defineProperty(this, \"handleFocus\", e => {\n      if (this.props.onFocus) {\n        this.props.onFocus(this.createHandlerPayload(), e);\n      }\n    });\n\n    _defineProperty(this, \"handleKeyDown\", e => {\n      if (this.props.onKeyDown) {\n        this.props.onKeyDown(this.createHandlerPayload(), e);\n      }\n    });\n  }\n\n  componentDidMount() {\n    if (this.props.initialFocus) {\n      this.ref.current.focus();\n    }\n\n    this.setIndeterminate(this.props.indeterminate);\n  }\n\n  componentDidUpdate(prevProps) {\n    if (prevProps.indeterminate !== this.props.indeterminate) {\n      this.setIndeterminate(this.props.indeterminate);\n    }\n  }\n\n  setIndeterminate(indeterminate) {\n    this.ref.current.indeterminate = indeterminate;\n  }\n\n  createHandlerPayload() {\n    return {\n      value: this.props.value,\n      name: this.props.name,\n      checked: !this.props.checked\n    };\n  }\n\n  render() {\n    const {\n      checked,\n      indeterminate,\n      className,\n      disabled,\n      error,\n      label,\n      name,\n      tabIndex,\n      valid,\n      value,\n      warning,\n      dense,\n      dataTest\n    } = this.props;\n    const classes = cx({\n      checked,\n      indeterminate,\n      disabled,\n      valid,\n      error,\n      warning\n    });\n    return /*#__PURE__*/React.createElement(\"label\", {\n      \"data-test\": dataTest,\n      className: _JSXStyle.dynamic([[\"1088888266\", [colors.grey900, theme.disabled, spacers.dp4, theme.focus]]]) + \" \" + (cx(className, {\n        disabled,\n        dense\n      }) || \"\")\n    }, /*#__PURE__*/React.createElement(\"input\", {\n      type: \"checkbox\",\n      ref: this.ref,\n      name: name,\n      value: value,\n      checked: checked,\n      disabled: disabled,\n      tabIndex: tabIndex,\n      onChange: this.handleChange,\n      onFocus: this.handleFocus,\n      onKeyDown: this.handleKeyDown,\n      onBlur: this.handleBlur,\n      className: _JSXStyle.dynamic([[\"1088888266\", [colors.grey900, theme.disabled, spacers.dp4, theme.focus]]])\n    }), /*#__PURE__*/React.createElement(\"div\", {\n      className: _JSXStyle.dynamic([[\"1088888266\", [colors.grey900, theme.disabled, spacers.dp4, theme.focus]]]) + \" \" + (cx('icon', {\n        dense\n      }) || \"\")\n    }, dense ? /*#__PURE__*/React.createElement(CheckboxDense, {\n      className: classes\n    }) : /*#__PURE__*/React.createElement(CheckboxRegular, {\n      className: classes\n    })), label, /*#__PURE__*/React.createElement(_JSXStyle, {\n      id: \"1088888266\",\n      dynamic: [colors.grey900, theme.disabled, spacers.dp4, theme.focus]\n    }, [\"label.__jsx-style-dynamic-selector{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;position:relative;-webkit-flex-direction:row;-ms-flex-direction:row;flex-direction:row;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:start;-webkit-justify-content:flex-start;-ms-flex-pack:start;justify-content:flex-start;cursor:pointer;color:\".concat(colors.grey900, \";font-size:14px;line-height:19px;}\"), \"label.dense.__jsx-style-dynamic-selector{font-size:14px;line-height:16px;}\", \"label.disabled.__jsx-style-dynamic-selector{cursor:not-allowed;color:\".concat(theme.disabled, \";}\"), \"input.__jsx-style-dynamic-selector{opacity:0;position:absolute;height:18px;width:18px;left:3px;}\", \"label.dense.__jsx-style-dynamic-selector input.__jsx-style-dynamic-selector{height:14px;width:14px;}\", \".icon.__jsx-style-dynamic-selector{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;margin-right:\".concat(spacers.dp4, \";border:2px solid transparent;padding:1px;border-radius:5px;}\"), \"label.dense.__jsx-style-dynamic-selector .icon.__jsx-style-dynamic-selector{margin-right:3px;border-radius:4px;}\", \"input.__jsx-style-dynamic-selector:focus+.icon.__jsx-style-dynamic-selector{outline:3px solid \".concat(theme.focus, \";outline-offset:-3px;}\")]));\n  }\n\n}\n\nCheckbox.defaultProps = {\n  checked: false,\n  indeterminate: false,\n  dataTest: 'dhis2-uicore-checkbox'\n};\nconst uniqueOnStatePropType = mutuallyExclusive(['checked', 'indeterminate'], PropTypes.bool);\nCheckbox.propTypes = {\n  checked: uniqueOnStatePropType,\n  className: PropTypes.string,\n  dataTest: PropTypes.string,\n  dense: PropTypes.bool,\n  disabled: PropTypes.bool,\n  error: sharedPropTypes.statusPropType,\n  indeterminate: uniqueOnStatePropType,\n  initialFocus: PropTypes.bool,\n  label: PropTypes.node,\n  name: PropTypes.string,\n  tabIndex: PropTypes.string,\n  valid: sharedPropTypes.statusPropType,\n  value: PropTypes.string,\n  warning: sharedPropTypes.statusPropType,\n  onBlur: PropTypes.func,\n\n  /** Called with signature `(object, event)` */\n  onChange: PropTypes.func,\n  onFocus: PropTypes.func,\n  onKeyDown: PropTypes.func\n};\nexport { Checkbox };","import _JSXStyle from \"styled-jsx/style\";\nimport PropTypes from 'prop-types';\nimport React from 'react';\nexport const IconEmpty = _ref => {\n  let {\n    dataTest\n  } = _ref;\n  return /*#__PURE__*/React.createElement(\"svg\", {\n    height: \"18px\",\n    version: \"1.1\",\n    viewBox: \"0 0 18 18\",\n    width: \"18px\",\n    \"data-test\": \"\".concat(dataTest, \"-iconempty\"),\n    className: \"jsx-3201893673\"\n  }, /*#__PURE__*/React.createElement(\"g\", {\n    fill: \"none\",\n    fillRule: \"evenodd\",\n    id: \"icon/empty\",\n    stroke: \"none\",\n    strokeWidth: \"1\",\n    className: \"jsx-3201893673\"\n  }), /*#__PURE__*/React.createElement(_JSXStyle, {\n    id: \"3201893673\"\n  }, [\"svg.jsx-3201893673{display:block;margin:3px 0;}\"]));\n};\nIconEmpty.propTypes = {\n  dataTest: PropTypes.string.isRequired\n};","import _JSXStyle from \"styled-jsx/style\";\nimport PropTypes from 'prop-types';\nimport React from 'react';\nexport const IconFolderClosed = _ref => {\n  let {\n    dataTest\n  } = _ref;\n  return /*#__PURE__*/React.createElement(\"svg\", {\n    width: \"18px\",\n    height: \"18px\",\n    viewBox: \"0 0 18 18\",\n    version: \"1.1\",\n    \"data-test\": \"\".concat(dataTest, \"-iconfolderclosed\"),\n    className: \"jsx-3201893673\"\n  }, /*#__PURE__*/React.createElement(\"g\", {\n    id: \"icon/folder/closed\",\n    stroke: \"none\",\n    strokeWidth: \"1\",\n    fill: \"none\",\n    fillRule: \"evenodd\",\n    className: \"jsx-3201893673\"\n  }, /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M2,3.5 C1.17157288,3.5 0.5,4.17157288 0.5,5 L0.5,13 C0.5,13.8284271 1.17157288,14.5 2,14.5 L12,14.5 C12.8284271,14.5 13.5,13.8284271 13.5,13 L13.5,7 C13.5,6.17157288 12.8284271,5.5 12,5.5 L6.69098301,5.5 L5.82917961,3.7763932 C5.7444836,3.60700119 5.57135204,3.5 5.38196601,3.5 L2,3.5 Z\",\n    id: \"Path-2\",\n    stroke: \"#6C7787\",\n    fill: \"#D5DDE5\",\n    className: \"jsx-3201893673\"\n  })), /*#__PURE__*/React.createElement(_JSXStyle, {\n    id: \"3201893673\"\n  }, [\"svg.jsx-3201893673{display:block;margin:3px 0;}\"]));\n};\nIconFolderClosed.propTypes = {\n  dataTest: PropTypes.string.isRequired\n};","import _JSXStyle from \"styled-jsx/style\";\nimport PropTypes from 'prop-types';\nimport React from 'react';\nexport const IconFolderOpen = _ref => {\n  let {\n    dataTest\n  } = _ref;\n  return /*#__PURE__*/React.createElement(\"svg\", {\n    width: \"18px\",\n    height: \"18px\",\n    viewBox: \"0 0 18 18\",\n    version: \"1.1\",\n    \"data-test\": \"\".concat(dataTest, \"-iconfolderopen\"),\n    className: \"jsx-2091325045\"\n  }, /*#__PURE__*/React.createElement(\"g\", {\n    id: \"icon/folder/open\",\n    stroke: \"none\",\n    strokeWidth: \"1\",\n    fill: \"none\",\n    fillRule: \"evenodd\",\n    className: \"jsx-2091325045\"\n  }, /*#__PURE__*/React.createElement(\"g\", {\n    id: \"Group\",\n    transform: \"translate(0.000000, 3.000000)\",\n    stroke: \"#6C7787\",\n    className: \"jsx-2091325045\"\n  }, /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M2,0.5 C1.17157288,0.5 0.5,1.17157288 0.5,2 L0.5,10 C0.5,10.8284271 1.17157288,11.5 2,11.5 L12,11.5 C12.8284271,11.5 13.5,10.8284271 13.5,10 L13.5,4 C13.5,3.17157288 12.8284271,2.5 12,2.5 L6.69098301,2.5 L5.82917961,0.776393202 C5.7444836,0.607001188 5.57135204,0.5 5.38196601,0.5 L2,0.5 Z\",\n    id: \"Path-2\",\n    fill: \"#A0ADBA\",\n    className: \"jsx-2091325045\"\n  }), /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M1.53632259,10.7093809 C1.47575089,10.7941813 1.44318932,10.8957885 1.44318932,11 C1.44318932,11.2761424 1.66704695,11.5 1.94318932,11.5 L12.4853821,11.5 C12.6468577,11.5 12.7983931,11.4220172 12.8922488,11.2906191 L16.4636774,6.2906191 C16.5242491,6.20581872 16.5568107,6.10421149 16.5568107,6 C16.5568107,5.72385763 16.3329531,5.5 16.0568107,5.5 L5.5146179,5.5 C5.35314234,5.5 5.20160692,5.57798284 5.10775116,5.7093809 L1.53632259,10.7093809 Z\",\n    id: \"Path-3\",\n    fill: \"#FBFCFD\",\n    className: \"jsx-2091325045\"\n  }))), /*#__PURE__*/React.createElement(_JSXStyle, {\n    id: \"2091325045\"\n  }, [\"svg.jsx-2091325045{margin:3px 0;display:block;}\"]));\n};\nIconFolderOpen.propTypes = {\n  dataTest: PropTypes.string.isRequired\n};","import _JSXStyle from \"styled-jsx/style\";\nimport PropTypes from 'prop-types';\nimport React from 'react';\nexport const IconSingle = _ref => {\n  let {\n    dataTest\n  } = _ref;\n  return /*#__PURE__*/React.createElement(\"svg\", {\n    height: \"18px\",\n    version: \"1.1\",\n    viewBox: \"0 0 18 18\",\n    width: \"18px\",\n    \"data-test\": \"\".concat(dataTest, \"-iconsingle\"),\n    className: \"jsx-3201893673\"\n  }, /*#__PURE__*/React.createElement(\"g\", {\n    fill: \"none\",\n    fillRule: \"evenodd\",\n    id: \"icon/single\",\n    stroke: \"none\",\n    strokeWidth: \"1\",\n    className: \"jsx-3201893673\"\n  }, /*#__PURE__*/React.createElement(\"rect\", {\n    fill: \"#A0ADBA\",\n    height: \"4\",\n    id: \"Rectangle\",\n    rx: \"1\",\n    width: \"4\",\n    x: \"7\",\n    y: \"7\",\n    className: \"jsx-3201893673\"\n  })), /*#__PURE__*/React.createElement(_JSXStyle, {\n    id: \"3201893673\"\n  }, [\"svg.jsx-3201893673{display:block;margin:3px 0;}\"]));\n};\nIconSingle.propTypes = {\n  dataTest: PropTypes.string.isRequired\n};","import PropTypes from 'prop-types';\nimport React from 'react';\nimport { IconEmpty } from './icon-empty.js';\nimport { IconFolderClosed } from './icon-folder-closed.js';\nimport { IconFolderOpen } from './icon-folder-open.js';\nimport { IconSingle } from './icon-single.js';\n/**\n * @param {Object} props\n * @param {bool} props.hasChildren\n * @param {bool} props.open\n * @returns {React.Component}\n */\n\nexport const Icon = _ref => {\n  let {\n    loading,\n    hasChildren,\n    open,\n    dataTest\n  } = _ref;\n\n  if (loading) {\n    return /*#__PURE__*/React.createElement(IconEmpty, {\n      dataTest: dataTest\n    });\n  }\n\n  if (!hasChildren) {\n    return /*#__PURE__*/React.createElement(IconSingle, {\n      dataTest: dataTest\n    });\n  }\n\n  if (open) {\n    return /*#__PURE__*/React.createElement(IconFolderOpen, {\n      dataTest: dataTest\n    });\n  }\n\n  return /*#__PURE__*/React.createElement(IconFolderClosed, {\n    dataTest: dataTest\n  });\n};\nIcon.propTypes = {\n  dataTest: PropTypes.string.isRequired,\n  hasChildren: PropTypes.bool,\n  loading: PropTypes.bool,\n  open: PropTypes.bool\n};","import _JSXStyle from \"styled-jsx/style\";\nimport { Checkbox } from '@dhis2-ui/checkbox';\nimport PropTypes from 'prop-types';\nimport React from 'react';\nimport { Icon } from './icon.js';\nexport const IconizedCheckbox = _ref => {\n  let {\n    checked,\n    dataTest,\n    hasChildren,\n    indeterminate,\n    children,\n    loading,\n    name,\n    open,\n    value,\n    onChange\n  } = _ref;\n  const icon = /*#__PURE__*/React.createElement(Icon, {\n    loading: loading,\n    open: open,\n    hasChildren: hasChildren,\n    dataTest: dataTest\n  });\n  const checkboxLabel = /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"span\", {\n    className: \"jsx-3097236308\"\n  }, icon), children, /*#__PURE__*/React.createElement(_JSXStyle, {\n    id: \"3097236308\"\n  }, [\"span.jsx-3097236308{display:inline-block;margin-right:4px;}\"]));\n  return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(Checkbox, {\n    dense: true,\n    checked: checked,\n    name: name,\n    value: value,\n    label: checkboxLabel,\n    indeterminate: indeterminate,\n    onChange: onChange\n  }));\n};\nIconizedCheckbox.propTypes = {\n  checked: PropTypes.bool.isRequired,\n  children: PropTypes.any.isRequired,\n  dataTest: PropTypes.string.isRequired,\n  hasChildren: PropTypes.bool.isRequired,\n  indeterminate: PropTypes.bool.isRequired,\n  loading: PropTypes.bool.isRequired,\n  name: PropTypes.string.isRequired,\n  open: PropTypes.bool.isRequired,\n  value: PropTypes.string.isRequired,\n  onChange: PropTypes.func.isRequired\n};","import _JSXStyle from \"styled-jsx/style\";\nimport { colors } from '@dhis2/ui-constants';\nimport cx from 'classnames';\nimport PropTypes from 'prop-types';\nimport React from 'react';\n/**\n * @param {Object} props\n * @param {bool} props.highlighted\n * @param {React.Component|React.Component[]} props.children\n * @returns {React.Component}\n */\n\nexport const LabelContainer = _ref => {\n  let {\n    highlighted,\n    children\n  } = _ref;\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: _JSXStyle.dynamic([[\"495975020\", [colors.teal200]]]) + \" \" + (cx({\n      highlighted\n    }) || \"\")\n  }, /*#__PURE__*/React.createElement(\"span\", {\n    className: _JSXStyle.dynamic([[\"495975020\", [colors.teal200]]])\n  }, children), /*#__PURE__*/React.createElement(_JSXStyle, {\n    id: \"495975020\",\n    dynamic: [colors.teal200]\n  }, [\"div.__jsx-style-dynamic-selector{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;}\", \"span.__jsx-style-dynamic-selector{display:block;}\", \".highlighted.__jsx-style-dynamic-selector{background:\".concat(colors.teal200, \";padding-right:4px;}\")]));\n};\nLabelContainer.propTypes = {\n  children: PropTypes.node,\n  highlighted: PropTypes.bool\n};","import PropTypes from 'prop-types';\nimport React from 'react';\nimport { orgUnitPathPropType } from '../../prop-types.js';\nimport { DisabledSelectionLabel } from './disabled-selection-label.js';\nimport { IconizedCheckbox } from './iconized-checkbox.js';\nimport { LabelContainer } from './label-container.js';\nimport { SingleSelectionLabel } from './single-selection-label.js';\n\nconst createNewSelected = _ref => {\n  let {\n    selected,\n    path,\n    checked,\n    singleSelection\n  } = _ref;\n  const pathIndex = selected.indexOf(path);\n\n  if (checked && pathIndex !== -1) {\n    return selected;\n  }\n\n  if (singleSelection && checked) {\n    return [path];\n  }\n\n  if (checked) {\n    return [...selected, path];\n  }\n\n  if (pathIndex === -1) {\n    return selected;\n  }\n\n  if (singleSelection) {\n    return [];\n  }\n\n  if (selected.indexOf(path) === 0) {\n    return selected.slice(1);\n  }\n\n  const prevSlice = selected.slice(0, pathIndex);\n  const nextSlice = selected.slice(pathIndex + 1);\n  return [...prevSlice, ...nextSlice];\n};\n\nconst Label = _ref2 => {\n  let {\n    checked,\n    children,\n    dataTest,\n    disableSelection,\n    fullPath,\n    hasChildren,\n    hasSelectedDescendants,\n    highlighted,\n    loading,\n    node,\n    onChange,\n    onToggleOpen,\n    open,\n    rootId,\n    selected,\n    singleSelection\n  } = _ref2;\n\n  const onClick = (_ref3, event) => {\n    let {\n      checked\n    } = _ref3;\n    const newSelected = createNewSelected({\n      path: fullPath,\n      selected,\n      checked,\n      singleSelection,\n      rootId\n    }); // @TODO: It'd make more sense to pass the node as an object\n    // instead of spread it. But that'd be a breaking change\n\n    const payload = { ...node,\n      path: fullPath,\n      checked,\n      selected: newSelected\n    };\n    onChange(payload, event);\n  };\n\n  if (disableSelection) {\n    return /*#__PURE__*/React.createElement(LabelContainer, {\n      highlighted: highlighted\n    }, /*#__PURE__*/React.createElement(DisabledSelectionLabel, {\n      loading: loading,\n      onToggleOpen: onToggleOpen\n    }, children));\n  }\n\n  if (singleSelection) {\n    return /*#__PURE__*/React.createElement(LabelContainer, {\n      highlighted: highlighted\n    }, /*#__PURE__*/React.createElement(SingleSelectionLabel, {\n      checked: checked,\n      onChange: onClick,\n      loading: loading\n    }, children));\n  }\n\n  return /*#__PURE__*/React.createElement(LabelContainer, {\n    highlighted: highlighted\n  }, /*#__PURE__*/React.createElement(IconizedCheckbox, {\n    dataTest: dataTest,\n    checked: checked,\n    name: \"org-unit\",\n    value: node.id,\n    loading: loading,\n    indeterminate: !checked && hasSelectedDescendants,\n    onChange: onClick,\n    open: open,\n    hasChildren: hasChildren\n  }, children));\n};\n\nLabel.propTypes = {\n  // This is `any` so it can be customized by the app\n  children: PropTypes.any.isRequired,\n  dataTest: PropTypes.string.isRequired,\n  fullPath: PropTypes.string.isRequired,\n  hasChildren: PropTypes.bool.isRequired,\n  loading: PropTypes.bool.isRequired,\n  node: PropTypes.shape({\n    displayName: PropTypes.string.isRequired,\n    id: PropTypes.string.isRequired,\n    children: PropTypes.number,\n    path: PropTypes.string\n  }).isRequired,\n  open: PropTypes.bool.isRequired,\n  rootId: PropTypes.string.isRequired,\n  onChange: PropTypes.func.isRequired,\n  onToggleOpen: PropTypes.func.isRequired,\n  checked: PropTypes.bool,\n  disableSelection: PropTypes.bool,\n  hasSelectedDescendants: PropTypes.bool,\n  highlighted: PropTypes.bool,\n  selected: PropTypes.arrayOf(orgUnitPathPropType),\n  singleSelection: PropTypes.bool\n};\nexport { Label };","import _JSXStyle from \"styled-jsx/style\";\nimport { CircularLoader } from '@dhis2-ui/loader';\nimport React from 'react';\nconst loadingSpinnerStyles = {\n  styles: /*#__PURE__*/React.createElement(_JSXStyle, {\n    id: \"358163430\"\n  }, [\".extrasmall.jsx-358163430{display:block;margin:3px 0;}\"]),\n  className: \"jsx-358163430\"\n};\nexport const LoadingSpinner = () => /*#__PURE__*/React.createElement(\"div\", {\n  className: \"jsx-2503342345\"\n}, /*#__PURE__*/React.createElement(CircularLoader, {\n  extrasmall: true,\n  className: loadingSpinnerStyles.className\n}), /*#__PURE__*/React.createElement(\"style\", null, loadingSpinnerStyles.styles), /*#__PURE__*/React.createElement(_JSXStyle, {\n  id: \"2503342345\"\n}, [\"div.jsx-2503342345{width:24px;}\"]));","/**\n * @param {string[]} includedPaths\n * @param {string} path\n * @returns {bool}\n */\nexport const isPathIncluded = (includedPaths, path) => {\n  const isIncluded = includedPaths.some(includedPath => {\n    if (path === includedPath) {\n      return true;\n    }\n\n    return includedPath.startsWith(\"\".concat(path, \"/\"));\n  });\n  return isIncluded;\n};","// sort mutates the original\nexport const sortNodeChildrenAlphabetically = children => [...children].sort((left, right) => left.displayName.localeCompare(right.displayName));","import { useDataQuery } from '@dhis2/app-runtime';\nimport { useMemo, useEffect, useRef } from 'react';\nimport { sortNodeChildrenAlphabetically } from '../helpers/index.js';\nconst ORG_DATA_QUERY = {\n  orgUnit: {\n    resource: \"organisationUnits\",\n    id: _ref => {\n      let {\n        id\n      } = _ref;\n      return id;\n    },\n    params: {\n      fields: 'children[id,path,displayName]'\n    }\n  }\n};\n/**\n * @param {string[]} ids\n * @param {Object} options\n * @param {string} options.displayName\n * @param {boolean} [options.withChildren]\n * @returns {Object}\n */\n\nexport const useOrgChildren = _ref2 => {\n  let {\n    node,\n    suppressAlphabeticalSorting,\n    onComplete\n  } = _ref2;\n  const onCompleteCalledRef = useRef(false);\n  const {\n    called,\n    loading,\n    error,\n    data\n  } = useDataQuery(ORG_DATA_QUERY, {\n    variables: {\n      id: node.id\n    }\n  });\n  const orgChildren = useMemo(() => {\n    if (!data) {\n      return undefined;\n    } // undefined or zero\n\n\n    if (!node.children) {\n      return [];\n    }\n\n    const {\n      orgUnit\n    } = data;\n    return suppressAlphabeticalSorting ? orgUnit.children : sortNodeChildrenAlphabetically(orgUnit.children);\n  }, [data, suppressAlphabeticalSorting]);\n  useEffect(() => {\n    if (onComplete && orgChildren && !onCompleteCalledRef.current) {\n      // For backwards compatibility: Pass entire node incl. children\n      onComplete({ ...node,\n        children: orgChildren\n      });\n      onCompleteCalledRef.current = true;\n    }\n  }, [onComplete, orgChildren, onCompleteCalledRef]);\n  return {\n    called,\n    loading,\n    error: error || null,\n    data: orgChildren\n  };\n};","import PropTypes from 'prop-types';\nimport React from 'react';\nimport { isPathIncluded } from '../helpers/index.js';\nimport i18n from '../locales/index.js';\nimport { orgUnitPathPropType } from '../prop-types.js';\nimport { LoadingSpinner } from './loading-spinner.js';\nimport { useOrgChildren } from './use-org-children.js';\n\nconst getFilteredChildren = _ref => {\n  let {\n    orgChildren,\n    filter,\n    node\n  } = _ref;\n\n  if (!(filter !== null && filter !== void 0 && filter.length)) {\n    return orgChildren;\n  }\n\n  return orgChildren.filter(child => {\n    return isPathIncluded(filter, \"\".concat(node.path, \"/\").concat(child.id));\n  });\n};\n\nexport const OrganisationUnitNodeChildren = _ref2 => {\n  let {\n    node,\n    autoExpandLoadingError,\n    dataTest,\n    disableSelection,\n    expanded,\n    filter,\n    highlighted,\n    isUserDataViewFallback,\n    onChange,\n    onChildrenLoaded,\n    onCollapse,\n    onExpand,\n    parentPath,\n    renderNodeLabel,\n    rootId,\n    selected,\n    singleSelection,\n    suppressAlphabeticalSorting,\n    OrganisationUnitNode\n  } = _ref2;\n  const orgChildren = useOrgChildren({\n    node,\n    isUserDataViewFallback,\n    suppressAlphabeticalSorting,\n    onComplete: onChildrenLoaded\n  });\n  const displayChildren = orgChildren.called && !orgChildren.loading && !orgChildren.error;\n  const filteredChildren = displayChildren ? getFilteredChildren({\n    orgChildren: orgChildren.data,\n    filter,\n    node\n  }) : [];\n  return /*#__PURE__*/React.createElement(React.Fragment, null, orgChildren.loading && /*#__PURE__*/React.createElement(LoadingSpinner, null), orgChildren.error && \"Error: \".concat(orgChildren.error), displayChildren && !filteredChildren.length && i18n.t('No children match filter'), !!filteredChildren.length && filteredChildren.map(child => {\n    const childPath = \"\".concat(parentPath, \"/\").concat(child.id);\n    return /*#__PURE__*/React.createElement(OrganisationUnitNode, {\n      autoExpandLoadingError: autoExpandLoadingError,\n      dataTest: dataTest,\n      disableSelection: disableSelection,\n      displayName: child.displayName,\n      expanded: expanded,\n      filter: filter,\n      highlighted: highlighted,\n      id: child.id,\n      isUserDataViewFallback: isUserDataViewFallback,\n      key: childPath,\n      onChange: onChange,\n      onChildrenLoaded: onChildrenLoaded,\n      onCollapse: onCollapse,\n      onExpand: onExpand,\n      path: childPath,\n      renderNodeLabel: renderNodeLabel,\n      rootId: rootId,\n      selected: selected,\n      singleSelection: singleSelection,\n      suppressAlphabeticalSorting: suppressAlphabeticalSorting\n    });\n  }));\n};\nOrganisationUnitNodeChildren.propTypes = {\n  // Prevent cirular imports\n  OrganisationUnitNode: PropTypes.func.isRequired,\n  dataTest: PropTypes.string.isRequired,\n  node: PropTypes.object.isRequired,\n  parentPath: PropTypes.string.isRequired,\n  renderNodeLabel: PropTypes.func.isRequired,\n  rootId: PropTypes.string.isRequired,\n  onChange: PropTypes.func.isRequired,\n  autoExpandLoadingError: PropTypes.bool,\n  disableSelection: PropTypes.bool,\n  expanded: PropTypes.arrayOf(orgUnitPathPropType),\n  filter: PropTypes.arrayOf(orgUnitPathPropType),\n  highlighted: PropTypes.arrayOf(orgUnitPathPropType),\n  isUserDataViewFallback: PropTypes.bool,\n  selected: PropTypes.arrayOf(orgUnitPathPropType),\n  singleSelection: PropTypes.bool,\n  suppressAlphabeticalSorting: PropTypes.bool,\n  onChildrenLoaded: PropTypes.func,\n  onCollapse: PropTypes.func,\n  onExpand: PropTypes.func\n};","import { useEffect, useState } from 'react';\n/**\n * @param {Object} args\n * @param {string} args.path\n * @param {string} [args.errorMessage]\n * @param {string} [args.autoExpandLoadingError]\n * @param {string[]} args.expanded\n * @param {Function} [args.onExpand]\n * @param {Function} [args.onCollapse]\n * @returns {Object}\n */\n\nexport const useOpenState = _ref => {\n  let {\n    path,\n    expanded,\n    onExpand,\n    onCollapse,\n    errorMessage,\n    autoExpandLoadingError\n  } = _ref;\n  const autoExpand = autoExpandLoadingError && !!errorMessage;\n  const [openedOnceDueToError, setOpenedOnce] = useState(!!errorMessage);\n  useEffect(() => {\n    if (autoExpand && !openedOnceDueToError) {\n      onExpand({\n        path\n      });\n      setOpenedOnce(true);\n    }\n  }, [autoExpand, openedOnceDueToError]);\n  const open = autoExpand && !openedOnceDueToError || !!expanded.includes(path);\n\n  const onToggleOpen = () => !open ? onExpand({\n    path\n  }) : onCollapse({\n    path\n  });\n\n  return {\n    open,\n    onToggleOpen,\n    openedOnceDueToError\n  };\n};","import { useDataQuery } from '@dhis2/app-runtime';\nconst ORG_DATA_QUERY = {\n  orgUnit: {\n    resource: \"organisationUnits\",\n    id: _ref => {\n      let {\n        id\n      } = _ref;\n      return id;\n    },\n    params: _ref2 => {\n      let {\n        isUserDataViewFallback\n      } = _ref2;\n      return {\n        isUserDataViewFallback,\n        fields: ['path', 'children::size']\n      };\n    }\n  }\n};\n/**\n * @param {string[]} ids\n * @param {Object} options\n * @param {string} options.displayName\n * @param {bool} options.isUserDataViewFallback\n * @returns {Object}\n */\n\nexport const useOrgData = (id, _ref3) => {\n  let {\n    displayName,\n    isUserDataViewFallback\n  } = _ref3;\n\n  if (!displayName) {\n    throw new Error('\"displayName\" is required');\n  }\n\n  const variables = {\n    id,\n    isUserDataViewFallback\n  };\n  const {\n    loading,\n    error,\n    data = {}\n  } = useDataQuery(ORG_DATA_QUERY, {\n    variables\n  });\n  return {\n    loading,\n    error: error || null,\n    data: {\n      id,\n      displayName,\n      ...data.orgUnit\n    }\n  };\n};","import { Node } from '@dhis2-ui/node';\nimport PropTypes from 'prop-types';\nimport React from 'react';\nimport { leftTrimToRootId } from '../helpers/index.js';\nimport i18n from '../locales/index.js';\nimport { orgUnitPathPropType } from '../prop-types.js';\nimport { ErrorMessage } from './error-message.js';\nimport { hasDescendantSelectedPaths } from './has-descendant-selected-paths.js';\nimport { Label } from './label/index.js';\nimport { LoadingSpinner } from './loading-spinner.js';\nimport { OrganisationUnitNodeChildren } from './organisation-unit-node-children.js';\nimport { useOpenState } from './use-open-state.js';\nimport { useOrgData } from './use-org-data/index.js';\nexport const OrganisationUnitNode = _ref => {\n  let {\n    autoExpandLoadingError,\n    dataTest,\n    disableSelection,\n    displayName,\n    expanded,\n    highlighted,\n    id,\n    isUserDataViewFallback,\n    path,\n    renderNodeLabel,\n    rootId,\n    selected,\n    singleSelection,\n    filter,\n    suppressAlphabeticalSorting,\n    onChange,\n    onChildrenLoaded,\n    onCollapse,\n    onExpand\n  } = _ref;\n  const orgData = useOrgData(id, {\n    isUserDataViewFallback,\n    displayName\n  });\n  const strippedPath = leftTrimToRootId(path, rootId);\n  const node = {\n    // guarantee that displayName and id are avaiable before data loaded\n    displayName,\n    id,\n    ...(orgData.data || {}),\n    // do not override strippedPath with path from loaded data\n    path: strippedPath\n  };\n  const hasChildren = !!node.children && node.children > 0;\n  const hasSelectedDescendants = hasDescendantSelectedPaths(strippedPath, selected, rootId);\n  const isHighlighted = highlighted.includes(path);\n  const {\n    open,\n    onToggleOpen\n  } = useOpenState({\n    autoExpandLoadingError,\n    errorMessage: orgData.error && orgData.error.toString(),\n    path: strippedPath,\n    expanded,\n    onExpand,\n    onCollapse\n  });\n  const isSelected = !!selected.find(curPath => curPath.match(new RegExp(\"\".concat(strippedPath, \"$\"))));\n  const labelContent = renderNodeLabel({\n    disableSelection,\n    hasChildren,\n    hasSelectedDescendants,\n    loading: orgData.loading,\n    error: orgData.error,\n    selected,\n    open,\n    path,\n    singleSelection,\n    node,\n    label: displayName,\n    checked: isSelected,\n    highlighted: isHighlighted\n  });\n  const label = /*#__PURE__*/React.createElement(Label, {\n    node: node,\n    fullPath: path,\n    open: open,\n    loading: orgData.loading,\n    checked: isSelected,\n    rootId: rootId,\n    onChange: onChange,\n    dataTest: \"\".concat(dataTest, \"-label\"),\n    selected: selected,\n    hasChildren: hasChildren,\n    highlighted: isHighlighted,\n    onToggleOpen: onToggleOpen,\n    disableSelection: disableSelection,\n    singleSelection: singleSelection,\n    hasSelectedDescendants: hasSelectedDescendants\n  }, labelContent);\n  /**\n   * No children means no arrow, therefore we have to provide something.\n   * While \"loading\" is true, \"hasChildren\" is false\n   * There are some possible children variants as content of this node:\n   *\n   * 1. Nothing; There are no children\n   * 2. Placeholder: There are children, but the Node is closed (show arrow)\n   * 3. Error: There are children and loading information somehow failed\n   * 4. Child nodes: There are children and the node is open\n   */\n\n  const showPlaceholder = hasChildren && !open && !orgData.error;\n  const showChildNodes = hasChildren && open && !orgData.error;\n  return /*#__PURE__*/React.createElement(Node, {\n    dataTest: \"\".concat(dataTest, \"-node\"),\n    open: open,\n    onOpen: onToggleOpen,\n    onClose: onToggleOpen,\n    component: label,\n    icon: orgData.loading && /*#__PURE__*/React.createElement(LoadingSpinner, null)\n  }, orgData.error && /*#__PURE__*/React.createElement(ErrorMessage, {\n    dataTest: dataTest\n  }, i18n.t('Could not load children')), showPlaceholder && /*#__PURE__*/React.createElement(\"span\", {\n    \"data-test\": \"\".concat(dataTest, \"-placeholder\")\n  }), showChildNodes && /*#__PURE__*/React.createElement(OrganisationUnitNodeChildren // Prevent cirular imports\n  , {\n    OrganisationUnitNode: OrganisationUnitNode,\n    node: node,\n    autoExpandLoadingError: autoExpandLoadingError,\n    dataTest: dataTest,\n    disableSelection: disableSelection,\n    expanded: expanded,\n    filter: filter,\n    highlighted: highlighted,\n    isUserDataViewFallback: isUserDataViewFallback,\n    onChange: onChange,\n    onChildrenLoaded: onChildrenLoaded,\n    onCollapse: onCollapse,\n    onExpand: onExpand,\n    parentPath: path,\n    renderNodeLabel: renderNodeLabel,\n    rootId: rootId,\n    selected: selected,\n    singleSelection: singleSelection,\n    suppressAlphabeticalSorting: suppressAlphabeticalSorting\n  }));\n};\nOrganisationUnitNode.propTypes = {\n  dataTest: PropTypes.string.isRequired,\n  id: PropTypes.string.isRequired,\n  renderNodeLabel: PropTypes.func.isRequired,\n  rootId: PropTypes.string.isRequired,\n  onChange: PropTypes.func.isRequired,\n  autoExpandLoadingError: PropTypes.bool,\n  disableSelection: PropTypes.bool,\n  displayName: PropTypes.string,\n  expanded: PropTypes.arrayOf(orgUnitPathPropType),\n  filter: PropTypes.arrayOf(orgUnitPathPropType),\n  highlighted: PropTypes.arrayOf(orgUnitPathPropType),\n  isUserDataViewFallback: PropTypes.bool,\n  path: orgUnitPathPropType,\n  selected: PropTypes.arrayOf(orgUnitPathPropType),\n  singleSelection: PropTypes.bool,\n  suppressAlphabeticalSorting: PropTypes.bool,\n  onChildrenLoaded: PropTypes.func,\n  onCollapse: PropTypes.func,\n  onExpand: PropTypes.func\n};","export const leftTrimToRootId = (path, rootId) => {\n  return path.replace(new RegExp(\"^.*(/\".concat(rootId, \")\")), '$1');\n};","export const defaultRenderNodeLabel = _ref => {\n  let {\n    label\n  } = _ref;\n  return label;\n};","import PropTypes from 'prop-types';\nimport React from 'react';\nimport i18n from '../locales/index.js';\nexport const RootError = _ref => {\n  let {\n    dataTest,\n    error\n  } = _ref;\n  return /*#__PURE__*/React.createElement(\"div\", {\n    \"data-test\": dataTest\n  }, i18n.t('Error: {{ ERRORMESSAGE }}', {\n    ERRORMESSAGE: error,\n    nsSeparator: '>'\n  }));\n};\nRootError.defaultProps = {\n  dataTest: 'dhis2-uiwidgets-orgunittree-error'\n};\nRootError.propTypes = {\n  error: PropTypes.string.isRequired,\n  dataTest: PropTypes.string\n};","import _JSXStyle from \"styled-jsx/style\";\nimport { CircularLoader } from '@dhis2-ui/loader';\nimport PropTypes from 'prop-types';\nimport React from 'react';\nexport const RootLoading = _ref => {\n  let {\n    dataTest\n  } = _ref;\n  return /*#__PURE__*/React.createElement(\"div\", {\n    \"data-test\": dataTest,\n    className: \"jsx-814846266\"\n  }, /*#__PURE__*/React.createElement(CircularLoader, {\n    small: true\n  }), /*#__PURE__*/React.createElement(_JSXStyle, {\n    id: \"814846266\"\n  }, [\"div.jsx-814846266{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;}\"]));\n};\nRootLoading.defaultProps = {\n  dataTest: 'dhis2-uiwidgets-orgunittree-loading'\n};\nRootLoading.propTypes = {\n  dataTest: PropTypes.string\n};","/**\n * @template T\n * @param {Array.<T>} arr\n * @returns {Array.<T>}\n */\nconst removeDuplicates = arr => Array.from(new Set(arr));\n/**\n * @param {string} path\n * @returns {string[]}\n */\n\n\nconst extractAllPathsFromPath = path => {\n  // remove leading slash and split by path delimiter/slashes\n  const segments = path.replace(/^\\//, '').split('/');\n  const withSubPaths = segments.map((segment, index) => {\n    // take all segments from 0 to index and join them with the delimiter\n    return \"/\".concat(segments.slice(0, index + 1).join('/'));\n  });\n  return removeDuplicates(withSubPaths);\n};\n/**\n * @param {string[]} initiallyExpanded\n * @returns {string[]}\n */\n\n\nexport const getAllExpandedPaths = initiallyExpanded => initiallyExpanded.reduce((all, curPath) => {\n  const allPathsInCurPath = extractAllPathsFromPath(curPath);\n  return [...all, ...allPathsInCurPath];\n}, []);","import { useState } from 'react';\nimport { getAllExpandedPaths } from '../../get-all-expanded-paths/index.js';\nimport { createExpandHandlers } from './create-expand-handlers.js';\n/**\n * @param {string[]} initiallyExpanded\n * @param {Function} [onExpand]\n * @param {Function} [onCollapse]\n * @returns {{ expanded: string[], handleExpand: Function, handleCollapse: Function }}\n */\n\nexport const useExpanded = _ref => {\n  let {\n    initiallyExpanded,\n    onExpand,\n    onCollapse,\n    expandedControlled,\n    handleExpandControlled,\n    handleCollapseControlled\n  } = _ref;\n  const isControlled = !!expandedControlled;\n  const allInitiallyExpandedPaths = isControlled ? [] : getAllExpandedPaths(initiallyExpanded);\n  const [expanded, setExpanded] = useState(allInitiallyExpandedPaths);\n\n  if (isControlled) {\n    return {\n      expanded: expandedControlled,\n      handleExpand: handleExpandControlled,\n      handleCollapse: handleCollapseControlled\n    };\n  }\n\n  const {\n    handleExpand,\n    handleCollapse\n  } = createExpandHandlers({\n    expanded,\n    setExpanded,\n    onExpand,\n    onCollapse\n  });\n  return {\n    expanded,\n    handleExpand,\n    handleCollapse\n  };\n};","/**\n * @param {Object} args\n * @param {string[]} args.expanded\n * @param {Function} args.setExpanded\n * @param {Function} [args.onExpand]\n * @param {Function} [args.onCollapse]\n * @returns {{ handleExpand: Function, handleCollapse: Function }}\n */\nexport const createExpandHandlers = _ref => {\n  let {\n    expanded,\n    setExpanded,\n    onExpand,\n    onCollapse\n  } = _ref;\n\n  const handleExpand = _ref2 => {\n    let {\n      path,\n      ...rest\n    } = _ref2;\n\n    if (!expanded.includes(path)) {\n      setExpanded([...expanded, path]);\n\n      if (onExpand) {\n        onExpand({\n          path,\n          ...rest\n        });\n      }\n    }\n  };\n\n  const handleCollapse = _ref3 => {\n    let {\n      path,\n      ...rest\n    } = _ref3;\n    const pathIndex = expanded.indexOf(path);\n\n    if (pathIndex !== -1) {\n      const updatedExpanded = pathIndex === 0 ? expanded.slice(1) : [...expanded.slice(0, pathIndex), ...expanded.slice(pathIndex + 1)];\n      setExpanded(updatedExpanded);\n\n      if (onCollapse) {\n        onCollapse({\n          path,\n          ...rest\n        });\n      }\n    }\n  };\n\n  return {\n    handleExpand,\n    handleCollapse\n  };\n};","import { useDataQuery } from '@dhis2/app-runtime';\nimport { useMemo } from 'react';\nimport { patchMissingDisplayName } from './patch-missing-display-name.js';\nexport const createRootQuery = ids => ids.reduce((query, id) => ({ ...query,\n  [id]: {\n    id,\n    resource: \"organisationUnits\",\n    params: _ref => {\n      let {\n        isUserDataViewFallback\n      } = _ref;\n      return {\n        isUserDataViewFallback,\n        fields: ['displayName', 'path', 'id']\n      };\n    }\n  }\n}), {});\n/**\n * @param {string[]} ids\n * @param {Object} [options]\n * @param {boolean} [options.withChildren]\n * @param {boolean} [options.isUserDataViewFallback]\n * @returns {Object}\n */\n\nexport const useRootOrgData = function (ids) {\n  let {\n    isUserDataViewFallback\n  } = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n  const query = useMemo(() => createRootQuery(ids), [ids]);\n  const variables = {\n    isUserDataViewFallback\n  };\n  const rootOrgUnits = useDataQuery(query, {\n    variables\n  });\n  const {\n    called,\n    loading,\n    error,\n    data,\n    refetch\n  } = rootOrgUnits;\n  const patchedData = useMemo(() => {\n    return data ? patchMissingDisplayName(data) : data;\n  }, [data]);\n  return {\n    called,\n    loading,\n    error: error || null,\n    data: patchedData || null,\n    refetch\n  };\n};","/**\n * Note by JGS: I can't recall why this is necessary,\n * but it's there.. So I guess it's better to leave it in for now\n * and investigate why this is necessary in the first place!\n * Maybe we can omit this completely and remove the state from\n * the useRootOrgData hook entirely\n * @TODO: Investigate if this could be removed\n *\n * @param {Object[]} nodes\n * @returns {}\n */\nexport const patchMissingDisplayName = nodes => {\n  const nodeEntries = Object.entries(nodes);\n  const nodesWithDisplayName = nodeEntries.map(_ref => {\n    let [id, node] = _ref;\n    const displayName = node.displayName || '';\n    return [id, { ...node,\n      displayName\n    }];\n  });\n  return Object.fromEntries(nodesWithDisplayName);\n};","import { requiredIf } from '@dhis2/prop-types';\nimport PropTypes from 'prop-types';\nimport React, { useEffect, useState } from 'react';\nimport { OrganisationUnitNode } from '../organisation-unit-node/index.js';\nimport { orgUnitPathPropType } from '../prop-types.js';\nimport { defaultRenderNodeLabel } from './default-render-node-label/index.js';\nimport { filterRootIds } from './filter-root-ids.js';\nimport { RootError } from './root-error.js';\nimport { RootLoading } from './root-loading.js';\nimport { useExpanded } from './use-expanded/index.js';\nimport { useForceReload } from './use-force-reload.js';\nimport { useRootOrgData } from './use-root-org-data/index.js';\n\nconst OrganisationUnitTree = _ref => {\n  let {\n    onChange,\n    roots,\n    autoExpandLoadingError,\n    dataTest,\n    disableSelection,\n    forceReload,\n    highlighted,\n    isUserDataViewFallback,\n    initiallyExpanded,\n    filter,\n    renderNodeLabel,\n    selected,\n    singleSelection,\n    suppressAlphabeticalSorting,\n    expanded: expandedControlled,\n    handleExpand: handleExpandControlled,\n    handleCollapse: handleCollapseControlled,\n    onExpand,\n    onCollapse,\n    onChildrenLoaded\n  } = _ref;\n  const rootIds = filterRootIds(filter, Array.isArray(roots) ? roots : [roots]);\n  const reloadId = useForceReload(forceReload);\n  const [prevReloadId, setPrevReloadId] = useState(reloadId);\n  const {\n    called,\n    loading,\n    error,\n    data,\n    refetch\n  } = useRootOrgData(rootIds, {\n    isUserDataViewFallback,\n    suppressAlphabeticalSorting\n  });\n  const {\n    expanded,\n    handleExpand,\n    handleCollapse\n  } = useExpanded({\n    initiallyExpanded,\n    onExpand,\n    onCollapse,\n    expandedControlled,\n    handleExpandControlled,\n    handleCollapseControlled\n  });\n  useEffect(() => {\n    // do not refetch on initial render\n    if (refetch && reloadId > 0 && reloadId !== prevReloadId) {\n      refetch();\n      setPrevReloadId(reloadId);\n    }\n\n    return () => console.warn('@TODO: Why does this component unmount after a force reload?');\n  }, [reloadId, prevReloadId, refetch]);\n  const isLoading = !called || loading;\n  return /*#__PURE__*/React.createElement(\"div\", {\n    \"data-test\": dataTest\n  }, isLoading && /*#__PURE__*/React.createElement(RootLoading, null), error && /*#__PURE__*/React.createElement(RootError, {\n    error: error\n  }), !error && !isLoading && rootIds.map(rootId => {\n    const rootNode = data[rootId];\n    return /*#__PURE__*/React.createElement(OrganisationUnitNode, {\n      key: rootNode.path,\n      rootId: rootId,\n      autoExpandLoadingError: autoExpandLoadingError,\n      dataTest: dataTest,\n      disableSelection: disableSelection,\n      displayName: rootNode.displayName,\n      expanded: expanded,\n      highlighted: highlighted,\n      id: rootId,\n      isUserDataViewFallback: isUserDataViewFallback,\n      filter: filter,\n      path: rootNode.path,\n      renderNodeLabel: renderNodeLabel,\n      selected: selected,\n      singleSelection: singleSelection,\n      suppressAlphabeticalSorting: suppressAlphabeticalSorting,\n      onChange: onChange,\n      onChildrenLoaded: onChildrenLoaded,\n      onCollapse: handleCollapse,\n      onExpand: handleExpand\n    });\n  }));\n};\n\nOrganisationUnitTree.propTypes = {\n  /** Root org unit ID(s) */\n  roots: PropTypes.oneOfType([PropTypes.string, PropTypes.arrayOf(PropTypes.string)]).isRequired,\n\n  /** Will be called with the following object:\n   * `{ id: string, displayName: string, path: string, checked: boolean, selected: string[] }` */\n  onChange: PropTypes.func.isRequired,\n\n  /** When set, the error when loading children fails will be shown automatically */\n  autoExpandLoadingError: PropTypes.bool,\n  dataTest: PropTypes.string,\n\n  /** When set to true, no unit can be selected */\n  disableSelection: PropTypes.bool,\n  expanded: requiredIf(props => !!props.handleExpand || !!props.handleCollapse, PropTypes.arrayOf(PropTypes.string)),\n\n  /**\n   * All organisation units with a path that includes the provided paths will be shown.\n   * All others will not be rendered. When not provided, all org units will be shown.\n   */\n  filter: PropTypes.arrayOf(orgUnitPathPropType),\n\n  /** When true, everything will be reloaded. In order to load it again after reloading, `forceReload` has to be set to `false` and then to `true` again */\n  forceReload: PropTypes.bool,\n  handleCollapse: requiredIf(props => !!props.expanded || !!props.handleExpand, PropTypes.func),\n  handleExpand: requiredIf(props => !!props.expanded || !!props.handleCollapse, PropTypes.func),\n\n  /**\n   * All units provided to \"highlighted\" as path will be visually\n   * highlighted.\n   * Note:\n   * The d2-ui component used two props for this:\n   * * searchResults\n   * * highlightSearchResults\n   */\n  highlighted: PropTypes.arrayOf(orgUnitPathPropType),\n\n  /**\n   * An array of OU paths that will be expanded automatically\n   * as soon as they are encountered.\n   * The path of an OU is the UIDs of the OU\n   * and all its parent OUs separated by slashes (/)\n   * Note: This replaces \"openFirstLevel\" as that's redundant\n   */\n  initiallyExpanded: PropTypes.arrayOf(orgUnitPathPropType),\n\n  /** When provided, the 'isUserDataViewFallback' option will be sent when requesting the org units */\n  isUserDataViewFallback: PropTypes.bool,\n\n  /** Renders the actual node component for each leaf, can be used to\n   * customize the node. The default function just returns the node's\n   * displayName\n   *\n   * Shape of the object passed to the callback:\n   * ```\n   * {\n   *    label: string,\n   *    node: {\n   *      displayName: string,\n   *      id: string,\n   *      // Only provided once `loading` is false\n   *      path?: string,\n   *      // Only provided once `loading` is false\n   *      children?: Array.<{\n   *        id: string,\n   *        path: string,\n   *        displayName: string\n   *      }>\n   *    },\n   *    loading: boolean,\n   *    error: string,\n   *    open: boolean,\n   *    selected: string[],\n   *    singleSelection: boolean,\n   *    disableSelection: boolean,\n   * }\n   * ``` */\n  renderNodeLabel: PropTypes.func,\n\n  /** An array of paths of selected OUs. The path of an OU is the UIDs of the OU and all its parent OUs separated by slashes (`/`) */\n  selected: PropTypes.arrayOf(orgUnitPathPropType),\n\n  /** When set, no checkboxes will be displayed and only the first selected path in `selected` will be highlighted */\n  singleSelection: PropTypes.bool,\n\n  /** Turns off alphabetical sorting of units */\n  suppressAlphabeticalSorting: PropTypes.bool,\n\n  /** Called with the children's data that was loaded */\n  onChildrenLoaded: PropTypes.func,\n\n  /** Called with `{ path: string }` with the path of the parent of the level closed */\n  onCollapse: PropTypes.func,\n\n  /** Called with `{ path: string }` with the path of the parent of the level opened */\n  onExpand: PropTypes.func\n  /**\n   * All units with ids (not paths!) provided\n   * to \"idsThatShouldBeReloaded\" will be reloaded\n   * In order to reload an id twice, the array must be changed\n   * while keeping the id to reload in the array\n   *\n   * NOTE: This is currently not working due to a limitation\n   * of the data engine (we can't force specific resource to reload,\n   * we'd have to reload the sibling nodes currently as well)\n   */\n  //idsThatShouldBeReloaded: propTypes.arrayOf(orgUnitIdPropType),\n\n};\nOrganisationUnitTree.defaultProps = {\n  dataTest: 'dhis2-uiwidgets-orgunittree',\n  filter: [],\n  highlighted: [],\n  initiallyExpanded: [],\n  selected: [],\n  renderNodeLabel: defaultRenderNodeLabel\n};\nexport { OrganisationUnitTree };","import { isPathIncluded } from '../helpers/index.js';\nexport const filterRootIds = (filter, rootIds) => {\n  if (!(filter !== null && filter !== void 0 && filter.length)) {\n    return rootIds;\n  }\n\n  return rootIds.filter(rootId => isPathIncluded(filter, \"/\".concat(rootId)));\n};","import { useEffect, useState } from 'react';\n/**\n * This will create a new reloadId everytime \"forceReload\" changes to true,\n * which can be used as the \"key\" prop on the org unit tree.\n * When that id changes, the whole tree rerenders\n * and therefore triggers all \"useDataQuery\"s to\n * run the query again\n *\n * @param {bool} forceReload\n * @returns {Int}\n */\n\nexport const useForceReload = forceReload => {\n  const [reloadId, setReloadId] = useState(0);\n  useEffect(() => {\n    const nextReloadId = reloadId + 1;\n    forceReload === true && setReloadId(nextReloadId);\n  }, [forceReload]);\n  return reloadId;\n};","import _JSXStyle from \"styled-jsx/style\";\nimport { colors, spacers } from '@dhis2/ui-constants';\nimport cx from 'classnames';\nimport PropTypes from 'prop-types';\nimport React from 'react';\n\nconst SingleSelectOption = _ref => {\n  let {\n    label,\n    active,\n    disabled,\n    onClick,\n    className,\n    dataTest,\n    value\n  } = _ref;\n  return /*#__PURE__*/React.createElement(\"div\", {\n    onClick: e => onClick({}, e),\n    \"data-test\": dataTest,\n    \"data-value\": value,\n    \"data-label\": label,\n    className: _JSXStyle.dynamic([[\"3808134379\", [colors.grey900, spacers.dp8, spacers.dp12, colors.grey200, colors.teal700, colors.white, colors.grey500]]]) + \" \" + (cx(className, {\n      disabled,\n      active\n    }) || \"\")\n  }, label, /*#__PURE__*/React.createElement(_JSXStyle, {\n    id: \"3808134379\",\n    dynamic: [colors.grey900, spacers.dp8, spacers.dp12, colors.grey200, colors.teal700, colors.white, colors.grey500]\n  }, [\"div.__jsx-style-dynamic-selector{cursor:pointer;font-size:14px;-webkit-text-decoration:none;text-decoration:none;color:\".concat(colors.grey900, \";padding-block:\").concat(spacers.dp8, \";padding-inline:\").concat(spacers.dp12, \";}\"), \"div.__jsx-style-dynamic-selector:hover{background-color:\".concat(colors.grey200, \";}\"), \"div.__jsx-style-dynamic-selector:active,div.active.__jsx-style-dynamic-selector{background-color:\".concat(colors.teal700, \";color:\").concat(colors.white, \";cursor:auto;}\"), \"div.disabled.__jsx-style-dynamic-selector{color:\".concat(colors.grey500, \";cursor:not-allowed;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;}\"), \"div.disabled.__jsx-style-dynamic-selector:hover{background-color:initial;}\"]));\n};\n\nSingleSelectOption.defaultProps = {\n  dataTest: 'dhis2-uicore-singleselectoption'\n};\nSingleSelectOption.propTypes = {\n  label: PropTypes.string.isRequired,\n  value: PropTypes.string.isRequired,\n  active: PropTypes.bool,\n  className: PropTypes.string,\n  dataTest: PropTypes.string,\n  disabled: PropTypes.bool,\n  onClick: PropTypes.func\n};\nexport { SingleSelectOption };","import _JSXStyle from \"styled-jsx/style\";\nimport { colors, theme, sharedPropTypes } from '@dhis2/ui-constants';\nimport { IconChevronDown16 } from '@dhis2/ui-icons';\nimport cx from 'classnames';\nimport PropTypes from 'prop-types';\nimport React from 'react';\n\nconst InputWrapper = _ref => {\n  let {\n    dataTest,\n    onToggle,\n    children,\n    tabIndex,\n    error,\n    warning,\n    valid,\n    disabled,\n    dense,\n    className,\n    inputRef\n  } = _ref;\n  const classNames = cx(className, 'root', {\n    error,\n    warning,\n    valid,\n    disabled,\n    dense\n  });\n  return /*#__PURE__*/React.createElement(\"div\", {\n    onClick: onToggle,\n    tabIndex: tabIndex,\n    ref: inputRef,\n    \"data-test\": dataTest,\n    className: _JSXStyle.dynamic([[\"1568723238\", [colors.grey500, theme.focus, theme.focus, theme.valid, theme.warning, theme.error, colors.grey100, colors.grey500, theme.disabled]]]) + \" \" + (classNames || \"\")\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: _JSXStyle.dynamic([[\"1568723238\", [colors.grey500, theme.focus, theme.focus, theme.valid, theme.warning, theme.error, colors.grey100, colors.grey500, theme.disabled]]]) + \" \" + \"root-children\"\n  }, children), /*#__PURE__*/React.createElement(\"div\", {\n    className: _JSXStyle.dynamic([[\"1568723238\", [colors.grey500, theme.focus, theme.focus, theme.valid, theme.warning, theme.error, colors.grey100, colors.grey500, theme.disabled]]]) + \" \" + \"root-right\"\n  }, /*#__PURE__*/React.createElement(IconChevronDown16, null)), /*#__PURE__*/React.createElement(_JSXStyle, {\n    id: \"1568723238\",\n    dynamic: [colors.grey500, theme.focus, theme.focus, theme.valid, theme.warning, theme.error, colors.grey100, colors.grey500, theme.disabled]\n  }, [\".root.__jsx-style-dynamic-selector{-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;background-color:white;border-radius:3px;border:1px solid \".concat(colors.grey500, \";box-sizing:border-box;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;min-height:40px;padding-block:6px;padding-inline:12px;box-shadow:inset 0 0 1px 0 rgba(48,54,60,0.1);}\"), \".root.__jsx-style-dynamic-selector:not(.disabled):focus,.root.__jsx-style-dynamic-selector:not(.disabled):active{outline:none;box-shadow:inset 0 0 0 2px \".concat(theme.focus, \";border-color:\").concat(theme.focus, \";}\"), \".root.valid.__jsx-style-dynamic-selector{border-color:\".concat(theme.valid, \";}\"), \".root.warning.__jsx-style-dynamic-selector{border-color:\".concat(theme.warning, \";}\"), \".root.error.__jsx-style-dynamic-selector{border-color:\".concat(theme.error, \";}\"), \".root.disabled.__jsx-style-dynamic-selector{background-color:\".concat(colors.grey100, \";border-color:\").concat(colors.grey500, \";color:\").concat(theme.disabled, \";cursor:not-allowed;}\"), \".root.dense.__jsx-style-dynamic-selector{padding-block:2px;padding-inline:8px;min-height:32px;}\", \".root-children.__jsx-style-dynamic-selector{-webkit-box-flex:1;-webkit-flex-grow:1;-ms-flex-positive:1;flex-grow:1;}\", \".root-right.__jsx-style-dynamic-selector{margin-block-start:4px;margin-inline-start:8px;}\"]));\n};\n\nInputWrapper.defaultProps = {\n  tabIndex: '0'\n};\nInputWrapper.propTypes = {\n  dataTest: PropTypes.string.isRequired,\n  inputRef: PropTypes.object.isRequired,\n  tabIndex: PropTypes.string.isRequired,\n  onToggle: PropTypes.func.isRequired,\n  children: PropTypes.element,\n  className: PropTypes.string,\n  dense: PropTypes.bool,\n  disabled: PropTypes.bool,\n  error: sharedPropTypes.statusPropType,\n  valid: sharedPropTypes.statusPropType,\n  warning: sharedPropTypes.statusPropType\n};\nexport { InputWrapper };","import _JSXStyle from \"styled-jsx/style\";\nimport { Layer } from '@dhis2-ui/layer';\nimport { Popper } from '@dhis2-ui/popper';\nimport { colors, elevations } from '@dhis2/ui-constants';\nimport PropTypes from 'prop-types';\nimport React from 'react';\n\nconst MenuWrapper = _ref => {\n  let {\n    children,\n    dataTest,\n    maxHeight,\n    menuWidth,\n    onClick,\n    selectRef\n  } = _ref;\n  return /*#__PURE__*/React.createElement(Layer, {\n    onBackdropClick: onClick,\n    transparent: true\n  }, /*#__PURE__*/React.createElement(Popper, {\n    reference: selectRef,\n    placement: \"bottom-start\",\n    observeReferenceResize: true\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    \"data-test\": \"\".concat(dataTest, \"-menuwrapper\"),\n    className: _JSXStyle.dynamic([[\"1363246346\", [menuWidth, maxHeight, colors.white, colors.grey200, elevations.e300]]])\n  }, children, /*#__PURE__*/React.createElement(_JSXStyle, {\n    id: \"1363246346\",\n    dynamic: [menuWidth, maxHeight, colors.white, colors.grey200, elevations.e300]\n  }, [\"div.__jsx-style-dynamic-selector{width:\".concat(menuWidth, \";height:auto;max-height:\").concat(maxHeight, \";overflow:auto;background:\").concat(colors.white, \";border:1px solid \").concat(colors.grey200, \";border-radius:3px;box-shadow:\").concat(elevations.e300, \";}\")]))));\n};\n\nMenuWrapper.defaultProps = {\n  maxHeight: '280px'\n};\nMenuWrapper.propTypes = {\n  dataTest: PropTypes.string.isRequired,\n  menuWidth: PropTypes.string.isRequired,\n  selectRef: PropTypes.object.isRequired,\n  children: PropTypes.node,\n  maxHeight: PropTypes.string,\n  onClick: PropTypes.func\n};\nexport { MenuWrapper };","function _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nimport { sharedPropTypes } from '@dhis2/ui-constants';\nimport PropTypes from 'prop-types';\nimport React, { Component } from 'react';\nimport { debounce } from './debounce/debounce.js';\nimport { InputWrapper } from './input-wrapper.js';\nimport { MenuWrapper } from './menu-wrapper.js'; // Keycodes for the keypress event handlers\n\nconst ESCAPE_KEY = 27;\nconst SPACE_KEY = 32;\nconst UP_KEY = 38;\nconst DOWN_KEY = 40;\nexport class Select extends Component {\n  constructor() {\n    super(...arguments);\n\n    _defineProperty(this, \"state\", {\n      open: false,\n      menuWidth: 'auto'\n    });\n\n    _defineProperty(this, \"selectRef\", /*#__PURE__*/React.createRef());\n\n    _defineProperty(this, \"inputRef\", /*#__PURE__*/React.createRef());\n\n    _defineProperty(this, \"onResize\", debounce(() => {\n      const menuWidth = this.getMenuWidth();\n\n      if (this.state.menuWidth !== menuWidth) {\n        this.setState({\n          menuWidth\n        });\n      }\n    }, 50));\n\n    _defineProperty(this, \"handleFocusInput\", () => {\n      this.inputRef.current.focus();\n    });\n\n    _defineProperty(this, \"onFocus\", e => {\n      const {\n        onFocus,\n        disabled,\n        selected\n      } = this.props;\n\n      if (disabled || !onFocus) {\n        return;\n      }\n\n      onFocus({\n        selected\n      }, e);\n    });\n\n    _defineProperty(this, \"handleOpen\", () => {\n      this.setState({\n        open: true,\n        menuWidth: this.getMenuWidth()\n      });\n    });\n\n    _defineProperty(this, \"handleClose\", () => {\n      this.setState({\n        open: false\n      });\n    });\n\n    _defineProperty(this, \"onToggle\", e => {\n      if (this.props.disabled) {\n        return;\n      }\n\n      e.stopPropagation();\n      this.state.open ? this.handleClose() : this.handleOpen();\n    });\n\n    _defineProperty(this, \"onOutsideClick\", e => {\n      const {\n        onBlur,\n        disabled,\n        selected\n      } = this.props;\n\n      if (disabled) {\n        return;\n      }\n\n      this.handleClose();\n\n      if (onBlur) {\n        onBlur({\n          selected\n        }, e);\n      }\n    });\n\n    _defineProperty(this, \"onKeyDown\", e => {\n      const {\n        onKeyDown,\n        disabled,\n        selected\n      } = this.props;\n\n      if (disabled) {\n        return;\n      }\n\n      if (onKeyDown) {\n        onKeyDown({\n          selected\n        }, e);\n      }\n\n      if (e.defaultPrevented) {\n        return;\n      }\n\n      e.stopPropagation();\n      const {\n        open\n      } = this.state;\n      const {\n        keyCode\n      } = e;\n      const shouldOpen = !open && (keyCode === SPACE_KEY || keyCode === UP_KEY || keyCode === DOWN_KEY);\n      const shouldClose = open && keyCode === ESCAPE_KEY;\n\n      if (shouldClose) {\n        return this.handleClose();\n      }\n\n      if (shouldOpen) {\n        return this.handleOpen();\n      }\n    });\n  }\n\n  componentDidMount() {\n    if (this.props.initialFocus) {\n      this.inputRef.current.focus();\n    }\n\n    this.setState({\n      menuWidth: this.getMenuWidth()\n    });\n    window.addEventListener('resize', this.onResize);\n  }\n\n  componentWillUnmount() {\n    window.removeEventListener('resize', this.onResize);\n  }\n  /**\n   * We're debouncing this so it doesn't fire continually during a resize.\n   *\n   * Additionally we should use requestPostAnimationFrame to not trigger a forced\n   * layout, but that's just a proposal, and the added complexity of solving this\n   * in another manner does not seem worth it, considering the minor perf penalty.\n   *\n   * See: https://nolanlawson.com/2018/09/25/accurately-measuring-layout-on-the-web\n   */\n\n\n  getMenuWidth() {\n    const {\n      offsetWidth\n    } = this.inputRef.current;\n    const {\n      menuWidth\n    } = this.state;\n\n    if (offsetWidth && \"\".concat(offsetWidth, \"px\") !== menuWidth) {\n      return \"\".concat(offsetWidth, \"px\");\n    }\n\n    return menuWidth;\n  }\n\n  render() {\n    const {\n      open,\n      menuWidth\n    } = this.state;\n    const {\n      children,\n      className,\n      selected,\n      onChange,\n      tabIndex,\n      maxHeight,\n      error,\n      warning,\n      valid,\n      disabled,\n      dense,\n      dataTest\n    } = this.props; // Create the input\n\n    const inputProps = {\n      selected,\n      onChange,\n      options: children,\n      disabled\n    };\n    const input = /*#__PURE__*/React.cloneElement(this.props.input, inputProps); // Create the menu\n\n    const menuProps = {\n      selected,\n      onChange,\n      options: children,\n      handleClose: this.handleClose,\n      handleFocusInput: this.handleFocusInput\n    };\n    const menu = /*#__PURE__*/React.cloneElement(this.props.menu, menuProps);\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: className,\n      ref: this.selectRef,\n      onFocus: this.onFocus,\n      onKeyDown: this.onKeyDown,\n      \"data-test\": dataTest\n    }, /*#__PURE__*/React.createElement(InputWrapper, {\n      onToggle: this.onToggle,\n      inputRef: this.inputRef,\n      tabIndex: disabled ? '-1' : tabIndex,\n      error: error,\n      warning: warning,\n      valid: valid,\n      disabled: disabled,\n      dense: dense,\n      dataTest: \"\".concat(dataTest, \"-input\")\n    }, input), open && /*#__PURE__*/React.createElement(MenuWrapper, {\n      onClick: this.onOutsideClick,\n      maxHeight: maxHeight,\n      selectRef: this.selectRef,\n      menuWidth: menuWidth,\n      dataTest: \"\".concat(dataTest, \"-menu\")\n    }, menu));\n  }\n\n}\nSelect.defaultProps = {\n  dataTest: 'dhis2-uicore-select'\n};\nSelect.propTypes = {\n  input: PropTypes.element.isRequired,\n  menu: PropTypes.element.isRequired,\n  selected: PropTypes.oneOfType([PropTypes.string, PropTypes.arrayOf(PropTypes.string)]).isRequired,\n  children: PropTypes.node,\n  className: PropTypes.string,\n  dataTest: PropTypes.string,\n  dense: PropTypes.bool,\n  disabled: PropTypes.bool,\n  error: sharedPropTypes.statusPropType,\n  initialFocus: PropTypes.bool,\n  maxHeight: PropTypes.string,\n  tabIndex: PropTypes.string,\n  valid: sharedPropTypes.statusPropType,\n  warning: sharedPropTypes.statusPropType,\n  onBlur: PropTypes.func,\n  onChange: PropTypes.func,\n  onFocus: PropTypes.func,\n  onKeyDown: PropTypes.func\n};","var _this = this;\n\n/**\n * Returns a function, that, as long as it continues to be invoked, will not be triggered. The\n * function will be called after it stops being called for N milliseconds. If `immediate` is\n * passed, trigger the function on the leading edge, instead of the trailing.\n */\nexport const debounce = (func, wait, immediate) => {\n  let timeout;\n  return function () {\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    const context = _this;\n\n    const later = () => {\n      timeout = null;\n\n      if (!immediate) {\n        func.apply(context, args);\n      }\n    };\n\n    const callNow = immediate && !timeout;\n    clearTimeout(timeout);\n    timeout = setTimeout(later, wait);\n\n    if (callNow) {\n      func.apply(context, args);\n    }\n  };\n};","import _JSXStyle from \"styled-jsx/style\";\nimport { CircularLoader } from '@dhis2-ui/loader';\nimport { colors, spacers, theme } from '@dhis2/ui-constants';\nimport cx from 'classnames';\nimport PropTypes from 'prop-types';\nimport React from 'react';\nexport const Loading = _ref => {\n  let {\n    message,\n    className,\n    dataTest\n  } = _ref;\n  return /*#__PURE__*/React.createElement(\"div\", {\n    \"data-test\": dataTest,\n    className: _JSXStyle.dynamic([[\"3603755746\", [spacers.dp16, colors.grey700, theme.fonts, spacers.dp8, spacers.dp24]]]) + \" \" + (cx(className, 'container') || \"\")\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: _JSXStyle.dynamic([[\"3603755746\", [spacers.dp16, colors.grey700, theme.fonts, spacers.dp8, spacers.dp24]]])\n  }, /*#__PURE__*/React.createElement(CircularLoader, {\n    small: true\n  })), message, /*#__PURE__*/React.createElement(_JSXStyle, {\n    id: \"3603755746\",\n    dynamic: [spacers.dp16, colors.grey700, theme.fonts, spacers.dp8, spacers.dp24]\n  }, [\".container.__jsx-style-dynamic-selector{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;gap:\".concat(spacers.dp16, \";-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;color:\").concat(colors.grey700, \";font-family:\").concat(theme.fonts, \";font-size:13px;padding-block:\").concat(spacers.dp8, \";padding-inline:\").concat(spacers.dp24, \";}\")]));\n};\nLoading.propTypes = {\n  dataTest: PropTypes.string.isRequired,\n  className: PropTypes.string,\n  message: PropTypes.string\n};","import _JSXStyle from \"styled-jsx/style\";\nimport { Input } from '@dhis2-ui/input';\nimport { spacers, colors } from '@dhis2/ui-constants';\nimport PropTypes from 'prop-types';\nimport React from 'react';\n\nconst FilterInput = _ref => {\n  let {\n    value,\n    onChange,\n    placeholder,\n    className,\n    dataTest\n  } = _ref;\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: _JSXStyle.dynamic([[\"730881408\", [colors.white, spacers.dp8, spacers.dp8, spacers.dp4, spacers.dp8]]]) + \" \" + (className || \"\")\n  }, /*#__PURE__*/React.createElement(Input, {\n    dense: true,\n    dataTest: dataTest,\n    value: value,\n    onChange: onChange,\n    type: \"text\",\n    name: \"filter\",\n    placeholder: placeholder,\n    initialFocus: true\n  }), /*#__PURE__*/React.createElement(_JSXStyle, {\n    id: \"730881408\",\n    dynamic: [colors.white, spacers.dp8, spacers.dp8, spacers.dp4, spacers.dp8]\n  }, [\"div.__jsx-style-dynamic-selector{position:-webkit-sticky;position:sticky;-webkit-inset-block-start:0;-ms-intb-rlock-start:0;inset-block-start:0;background:\".concat(colors.white, \";padding-block-start:\").concat(spacers.dp8, \";padding-inline-end:\").concat(spacers.dp8, \";padding-block-end:\").concat(spacers.dp4, \";padding-inline-start:\").concat(spacers.dp8, \";z-index:1;}\")]));\n};\n\nFilterInput.propTypes = {\n  dataTest: PropTypes.string.isRequired,\n  value: PropTypes.string.isRequired,\n  className: PropTypes.string,\n  placeholder: PropTypes.string,\n  onChange: PropTypes.func\n};\nexport { FilterInput };","import _JSXStyle from \"styled-jsx/style\";\nimport { colors, spacers, theme } from '@dhis2/ui-constants';\nimport PropTypes from 'prop-types';\nimport React from 'react';\n\nconst NoMatch = _ref => {\n  let {\n    message,\n    className\n  } = _ref;\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: _JSXStyle.dynamic([[\"3788156646\", [colors.grey700, theme.fonts, spacers.dp8, spacers.dp24]]]) + \" \" + (className || \"\")\n  }, message, /*#__PURE__*/React.createElement(_JSXStyle, {\n    id: \"3788156646\",\n    dynamic: [colors.grey700, theme.fonts, spacers.dp8, spacers.dp24]\n  }, [\"div.__jsx-style-dynamic-selector{color:\".concat(colors.grey700, \";font-family:\").concat(theme.fonts, \";font-size:13px;line-height:16px;padding-block:\").concat(spacers.dp8, \";padding-inline:\").concat(spacers.dp24, \";text-align:center;}\")]));\n};\n\nNoMatch.propTypes = {\n  message: PropTypes.string.isRequired,\n  className: PropTypes.string\n};\nexport { NoMatch };","import React from 'react'; // Check whether an option is valid\n\nexport const checkIfValidOption = option => option && 'props' in option && 'value' in option.props && 'label' in option.props; // Filters all children that won't be rendered from an array of react children\n\nexport const filterIgnored = children => React.Children.toArray(children).filter(child => child !== null && child !== false && child !== undefined); // Find an option in an array of react children\n\nexport const findOptionChild = (value, optionChildren) => React.Children.toArray(optionChildren).find(currentOption => {\n  if (!currentOption.props) {\n    return false;\n  }\n\n  return value === currentOption.props.value;\n}); // Find an option in an array of option objects\n\nexport const findOption = (value, optionArray) => optionArray.find(optionValue => value === optionValue); // Remove a specific option from an array of options\n\nexport const removeOption = (value, optionArray) => optionArray.filter(optionValue => {\n  return optionValue !== value;\n});","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nimport PropTypes from 'prop-types';\nimport React, { Component } from 'react';\nimport { FilterInput } from './filter-input.js';\nimport { NoMatch } from './no-match.js';\nimport { filterIgnored, checkIfValidOption } from './option-helpers.js';\nexport class FilterableMenu extends Component {\n  constructor() {\n    super(...arguments);\n\n    _defineProperty(this, \"state\", {\n      filter: ''\n    });\n\n    _defineProperty(this, \"onFilterChange\", _ref => {\n      let {\n        value\n      } = _ref;\n      this.setState({\n        filter: value\n      });\n    });\n  }\n\n  render() {\n    const {\n      dataTest,\n      options,\n      onChange,\n      selected,\n      empty,\n      handleClose,\n      handleFocusInput,\n      placeholder,\n      noMatchText,\n      Menu\n    } = this.props;\n    const {\n      filter\n    } = this.state;\n    const menuProps = {\n      onChange,\n      selected,\n      empty,\n      handleClose,\n      handleFocusInput,\n      dataTest\n    };\n    const renderedOptions = filterIgnored(options); // If there are no options or there's no filter, just pass everything through\n\n    if (React.Children.count(renderedOptions) === 0 || !filter) {\n      return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(FilterInput, {\n        dataTest: \"\".concat(dataTest, \"-filterinput\"),\n        placeholder: placeholder,\n        value: filter,\n        onChange: this.onFilterChange\n      }), /*#__PURE__*/React.createElement(Menu, _extends({}, menuProps, {\n        options: options\n      })));\n    }\n\n    const filtered = React.Children.map(options, child => {\n      const isValidOption = checkIfValidOption(child); // Filter it out if it's an invalid option\n\n      if (!isValidOption) {\n        return null;\n      }\n\n      const {\n        label\n      } = child.props; // Filter by label, because that's the part of an option that's displayed to the user\n\n      const match = label.toLowerCase().includes(filter.toLowerCase());\n      return match ? child : null;\n    });\n    const hasMatch = React.Children.count(filtered) > 0;\n    return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(FilterInput, {\n      dataTest: \"\".concat(dataTest, \"-filterinput\"),\n      placeholder: placeholder,\n      value: filter,\n      onChange: this.onFilterChange\n    }), hasMatch ? /*#__PURE__*/React.createElement(Menu, _extends({}, menuProps, {\n      options: filtered\n    })) : /*#__PURE__*/React.createElement(NoMatch, {\n      message: noMatchText\n    }));\n  }\n\n}\nFilterableMenu.propTypes = {\n  Menu: PropTypes.elementType.isRequired,\n  dataTest: PropTypes.string.isRequired,\n  noMatchText: PropTypes.string.isRequired,\n  selected: PropTypes.oneOfType([PropTypes.string, PropTypes.arrayOf(PropTypes.string)]).isRequired,\n  empty: PropTypes.node,\n  handleClose: PropTypes.func,\n  handleFocusInput: PropTypes.func,\n  options: PropTypes.node,\n  placeholder: PropTypes.string,\n  onChange: PropTypes.func\n};","import _JSXStyle from \"styled-jsx/style\";\nimport { colors, spacers, theme } from '@dhis2/ui-constants';\nimport PropTypes from 'prop-types';\nimport React from 'react';\n\nconst Empty = _ref => {\n  let {\n    message,\n    className,\n    dataTest\n  } = _ref;\n  return /*#__PURE__*/React.createElement(\"div\", {\n    \"data-test\": dataTest,\n    className: _JSXStyle.dynamic([[\"3788156646\", [colors.grey700, theme.fonts, spacers.dp8, spacers.dp24]]]) + \" \" + (className || \"\")\n  }, message, /*#__PURE__*/React.createElement(_JSXStyle, {\n    id: \"3788156646\",\n    dynamic: [colors.grey700, theme.fonts, spacers.dp8, spacers.dp24]\n  }, [\"div.__jsx-style-dynamic-selector{color:\".concat(colors.grey700, \";font-family:\").concat(theme.fonts, \";font-size:13px;line-height:16px;padding-block:\").concat(spacers.dp8, \";padding-inline:\").concat(spacers.dp24, \";text-align:center;}\")]));\n};\n\nEmpty.propTypes = {\n  dataTest: PropTypes.string.isRequired,\n  message: PropTypes.string.isRequired,\n  className: PropTypes.string\n};\nexport { Empty };","import PropTypes from 'prop-types';\nimport React from 'react';\nimport { Empty, filterIgnored, checkIfValidOption } from '../select/index.js';\n\nconst onIgnoredClick = (_, e) => {\n  e.stopPropagation();\n  e.preventDefault();\n};\n\nconst Menu = _ref => {\n  let {\n    options,\n    onChange,\n    selected,\n    empty,\n    handleFocusInput,\n    handleClose,\n    dataTest\n  } = _ref;\n  const renderedOptions = filterIgnored(options);\n\n  if (React.Children.count(renderedOptions) === 0) {\n    // If it's a string, supply it to our <Empty> component so it looks better\n    if (typeof empty === 'string') {\n      return /*#__PURE__*/React.createElement(Empty, {\n        message: empty,\n        dataTest: \"\".concat(dataTest, \"-empty\")\n      });\n    } // Otherwise just render the supplied markup\n\n\n    return empty;\n  }\n\n  const children = React.Children.map(options, child => {\n    const isValidOption = checkIfValidOption(child); // Return early if the child isn't an option, to prevent attaching handlers etc.\n\n    if (!isValidOption) {\n      return child;\n    }\n\n    const {\n      value,\n      disabled: isDisabled\n    } = child.props; // Active means the option is currently selected\n\n    const isActive = value === selected;\n\n    const onClick = (_, e) => {\n      const data = {\n        selected: value\n      };\n      e.stopPropagation();\n      onChange(data, e);\n      handleClose();\n      handleFocusInput();\n    }; // Clicks on active options or disabled options should be ignored for the single select\n\n\n    const isIgnored = isActive || isDisabled;\n    return /*#__PURE__*/React.cloneElement(child, { ...child.props,\n      onClick: isIgnored ? onIgnoredClick : onClick,\n      active: isActive\n    });\n  });\n  return /*#__PURE__*/React.createElement(React.Fragment, null, children);\n};\n\nMenu.defaultProps = {\n  empty: ''\n};\nMenu.propTypes = {\n  dataTest: PropTypes.string.isRequired,\n  empty: PropTypes.node,\n  handleClose: PropTypes.func,\n  handleFocusInput: PropTypes.func,\n  options: PropTypes.node,\n  selected: PropTypes.string,\n  onChange: PropTypes.func\n};\nexport { Menu };","import PropTypes from 'prop-types';\nimport React from 'react';\nimport { FilterableMenu as CommonFilterableMenu } from '../select/index.js';\nimport { Menu } from './menu.js';\nexport const FilterableMenu = _ref => {\n  let {\n    dataTest,\n    options,\n    onChange,\n    selected,\n    empty,\n    handleClose,\n    handleFocusInput,\n    placeholder,\n    noMatchText\n  } = _ref;\n  return /*#__PURE__*/React.createElement(CommonFilterableMenu, {\n    dataTest: dataTest,\n    options: options,\n    onChange: onChange,\n    selected: selected,\n    empty: empty,\n    handleClose: handleClose,\n    handleFocusInput: handleFocusInput,\n    placeholder: placeholder,\n    noMatchText: noMatchText,\n    Menu: Menu\n  });\n};\nFilterableMenu.propTypes = {\n  dataTest: PropTypes.string.isRequired,\n  noMatchText: PropTypes.string.isRequired,\n  empty: PropTypes.node,\n  handleClose: PropTypes.func,\n  handleFocusInput: PropTypes.func,\n  options: PropTypes.node,\n  placeholder: PropTypes.string,\n  selected: PropTypes.string,\n  onChange: PropTypes.func\n};","import _JSXStyle from \"styled-jsx/style\";\nimport { colors, spacers } from '@dhis2/ui-constants';\nimport PropTypes from 'prop-types';\nimport React from 'react';\n\nconst InputPrefix = _ref => {\n  let {\n    prefix,\n    className,\n    dataTest\n  } = _ref;\n\n  if (!prefix) {\n    return null;\n  }\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    \"data-test\": dataTest,\n    className: _JSXStyle.dynamic([[\"1343055987\", [colors.grey600, spacers.dp12]]]) + \" \" + (className || \"\")\n  }, prefix, /*#__PURE__*/React.createElement(_JSXStyle, {\n    id: \"1343055987\",\n    dynamic: [colors.grey600, spacers.dp12]\n  }, [\"div.__jsx-style-dynamic-selector{color:\".concat(colors.grey600, \";padding-inline-end:\").concat(spacers.dp12, \";font-size:14px;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;}\")]));\n};\n\nInputPrefix.propTypes = {\n  dataTest: PropTypes.string.isRequired,\n  className: PropTypes.string,\n  prefix: PropTypes.string\n};\nexport { InputPrefix };","import _JSXStyle from \"styled-jsx/style\";\nimport { colors } from '@dhis2/ui-constants';\nimport PropTypes from 'prop-types';\nimport React from 'react';\n\nconst InputPlaceholder = _ref => {\n  let {\n    placeholder,\n    className,\n    dataTest\n  } = _ref;\n\n  if (!placeholder) {\n    return null;\n  }\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    \"data-test\": dataTest,\n    className: _JSXStyle.dynamic([[\"1027033961\", [colors.grey600]]]) + \" \" + (className || \"\")\n  }, placeholder, /*#__PURE__*/React.createElement(_JSXStyle, {\n    id: \"1027033961\",\n    dynamic: [colors.grey600]\n  }, [\"div.__jsx-style-dynamic-selector{color:\".concat(colors.grey600, \";-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;}\")]));\n};\n\nInputPlaceholder.propTypes = {\n  dataTest: PropTypes.string.isRequired,\n  className: PropTypes.string,\n  placeholder: PropTypes.string\n};\nexport { InputPlaceholder };","import { Button } from '@dhis2-ui/button';\nimport PropTypes from 'prop-types';\nimport React from 'react';\n\nconst InputClearButton = _ref => {\n  let {\n    onClear,\n    clearText,\n    className,\n    dataTest\n  } = _ref;\n  return /*#__PURE__*/React.createElement(Button, {\n    small: true,\n    secondary: true,\n    dataTest: dataTest,\n    onClick: onClear,\n    type: \"button\",\n    className: className\n  }, clearText);\n};\n\nInputClearButton.propTypes = {\n  clearText: PropTypes.string.isRequired,\n  dataTest: PropTypes.string.isRequired,\n  onClear: PropTypes.func.isRequired,\n  className: PropTypes.string\n};\nexport { InputClearButton };","import _JSXStyle from \"styled-jsx/style\";\nimport { spacers } from '@dhis2/ui-constants';\nimport cx from 'classnames';\nimport PropTypes from 'prop-types';\nimport React from 'react';\nimport { findOptionChild } from '../select/index.js';\n\nconst Selection = _ref => {\n  let {\n    options,\n    selected,\n    className\n  } = _ref;\n  const isProduction = process.env.NODE_ENV === 'production';\n  const selectedOption = findOptionChild(selected, options);\n\n  if (!selectedOption) {\n    const message = \"There is no option with the value: \\\"\".concat(selected, \"\\\". \") + 'Make sure that the value passed to the selected ' + 'prop matches the value of an existing option.';\n\n    if (isProduction) {\n      // Don't crash the app if in production\n      console.error(message);\n    } else {\n      // Throw error if not in production for maximum visibility\n      throw new Error(message);\n    }\n  }\n\n  const icon = selectedOption && selectedOption.props.icon; // Use the selected value if we do not have a label\n\n  const label = selectedOption ? selectedOption.props.label : selected;\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: _JSXStyle.dynamic([[\"1914911415\", [spacers.dp8, spacers.dp16, spacers.dp16]]]) + \" \" + (cx(className, 'root') || \"\")\n  }, icon && /*#__PURE__*/React.createElement(\"div\", {\n    className: _JSXStyle.dynamic([[\"1914911415\", [spacers.dp8, spacers.dp16, spacers.dp16]]]) + \" \" + \"root-icon\"\n  }, icon), label, /*#__PURE__*/React.createElement(_JSXStyle, {\n    id: \"1914911415\",\n    dynamic: [spacers.dp8, spacers.dp16, spacers.dp16]\n  }, [\".root.__jsx-style-dynamic-selector{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;}\", \".root-icon.__jsx-style-dynamic-selector{margin-inline-end:\".concat(spacers.dp8, \";width:\").concat(spacers.dp16, \";height:\").concat(spacers.dp16, \";overflow:hidden;-webkit-flex-shrink:0;-ms-flex-negative:0;flex-shrink:0;}\")]));\n};\n\nSelection.propTypes = {\n  className: PropTypes.string,\n  options: PropTypes.node,\n  selected: PropTypes.string\n};\nexport { Selection };","import _JSXStyle from \"styled-jsx/style\";\nimport { requiredIf } from '@dhis2/prop-types';\nimport { colors } from '@dhis2/ui-constants';\nimport cx from 'classnames';\nimport PropTypes from 'prop-types';\nimport React from 'react';\nimport { InputClearButton, InputPlaceholder, InputPrefix } from '../select/index.js';\nimport { Selection } from './selection.js';\n\nconst Input = _ref => {\n  let {\n    selected,\n    onChange,\n    clearable,\n    clearText,\n    placeholder,\n    dataTest,\n    prefix,\n    options,\n    className,\n    disabled,\n    inputMaxHeight\n  } = _ref;\n  const hasSelection = selected && typeof selected === 'string';\n\n  const onClear = (_, e) => {\n    const data = {\n      selected: ''\n    };\n    e.stopPropagation();\n    onChange(data, e);\n  };\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: _JSXStyle.dynamic([[\"3987817844\", [colors.grey900]], [\"1331770409\", [inputMaxHeight]]]) + \" \" + (cx('root', className) || \"\")\n  }, /*#__PURE__*/React.createElement(InputPrefix, {\n    prefix: prefix,\n    dataTest: \"\".concat(dataTest, \"-prefix\")\n  }), !hasSelection && !prefix && /*#__PURE__*/React.createElement(InputPlaceholder, {\n    placeholder: placeholder,\n    dataTest: \"\".concat(dataTest, \"-placeholder\")\n  }), hasSelection && /*#__PURE__*/React.createElement(\"div\", {\n    className: _JSXStyle.dynamic([[\"3987817844\", [colors.grey900]], [\"1331770409\", [inputMaxHeight]]]) + \" \" + \"root-input\"\n  }, /*#__PURE__*/React.createElement(Selection, {\n    selected: selected,\n    options: options\n  })), hasSelection && clearable && !disabled && /*#__PURE__*/React.createElement(\"div\", {\n    className: _JSXStyle.dynamic([[\"3987817844\", [colors.grey900]], [\"1331770409\", [inputMaxHeight]]]) + \" \" + \"root-right\"\n  }, /*#__PURE__*/React.createElement(InputClearButton, {\n    onClear: onClear,\n    clearText: clearText,\n    dataTest: \"\".concat(dataTest, \"-clear\")\n  })), /*#__PURE__*/React.createElement(_JSXStyle, {\n    id: \"3987817844\",\n    dynamic: [colors.grey900]\n  }, [\".root.__jsx-style-dynamic-selector{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;color:\".concat(colors.grey900, \";font-size:14px;line-height:16px;}\"), \".root-input.__jsx-style-dynamic-selector{overflow-y:auto;-webkit-flex:1;-ms-flex:1;flex:1;}\", \".root-right.__jsx-style-dynamic-selector{margin-inline-start:auto;margin-inline-end:10px;}\"]), /*#__PURE__*/React.createElement(_JSXStyle, {\n    id: \"1331770409\",\n    dynamic: [inputMaxHeight]\n  }, [\".root-input.__jsx-style-dynamic-selector{max-height:\".concat(inputMaxHeight, \";}\")]));\n};\n\nInput.defaultProps = {\n  inputMaxHeight: '100px'\n};\nInput.propTypes = {\n  dataTest: PropTypes.string.isRequired,\n  className: PropTypes.string,\n  clearText: requiredIf(props => props.clearable, PropTypes.string),\n  clearable: PropTypes.bool,\n  disabled: PropTypes.bool,\n  inputMaxHeight: PropTypes.string,\n  options: PropTypes.node,\n  placeholder: PropTypes.string,\n  prefix: PropTypes.string,\n  selected: PropTypes.string,\n  onChange: PropTypes.func\n};\nexport { Input };","import _JSXStyle from \"styled-jsx/style\";\nimport { StatusIcon } from '@dhis2-ui/status-icon';\nimport { requiredIf } from '@dhis2/prop-types';\nimport { spacers, sharedPropTypes } from '@dhis2/ui-constants';\nimport PropTypes from 'prop-types';\nimport React from 'react';\nimport { Loading as CommonLoading, Select } from '../select/index.js';\nimport { FilterableMenu } from './filterable-menu.js';\nimport { Input } from './input.js';\nimport { Menu } from './menu.js';\n\nconst SingleSelect = _ref => {\n  let {\n    className,\n    selected,\n    tabIndex,\n    maxHeight,\n    inputMaxHeight,\n    onChange,\n    onFocus,\n    onKeyDown,\n    onBlur,\n    loading,\n    error,\n    warning,\n    valid,\n    disabled,\n    children,\n    clearable,\n    clearText,\n    filterable,\n    filterPlaceholder,\n    placeholder,\n    prefix,\n    empty,\n    loadingText,\n    noMatchText,\n    initialFocus,\n    dense,\n    dataTest\n  } = _ref;\n  // If the select is filterable, use a filterable menu\n  const menu = filterable ? /*#__PURE__*/React.createElement(FilterableMenu, {\n    dataTest: dataTest,\n    empty: empty,\n    noMatchText: noMatchText,\n    placeholder: filterPlaceholder\n  }) : /*#__PURE__*/React.createElement(Menu, {\n    empty: empty,\n    dataTest: dataTest\n  });\n  return /*#__PURE__*/React.createElement(\"div\", {\n    \"data-test\": dataTest,\n    className: _JSXStyle.dynamic([[\"2180377457\", [spacers.dp8]]]) + \" \" + \"root\"\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: _JSXStyle.dynamic([[\"2180377457\", [spacers.dp8]]]) + \" \" + \"root-input\"\n  }, /*#__PURE__*/React.createElement(Select, {\n    className: className,\n    selected: selected,\n    input: /*#__PURE__*/React.createElement(Input, {\n      clearable: clearable,\n      clearText: clearText,\n      dataTest: dataTest,\n      placeholder: placeholder,\n      prefix: prefix,\n      inputMaxHeight: inputMaxHeight\n    }),\n    menu: menu,\n    tabIndex: tabIndex,\n    maxHeight: maxHeight,\n    onChange: onChange,\n    onFocus: onFocus,\n    onKeyDown: onKeyDown,\n    onBlur: onBlur,\n    error: error,\n    warning: warning,\n    valid: valid,\n    disabled: disabled,\n    initialFocus: initialFocus,\n    dense: dense\n  }, children, loading && /*#__PURE__*/React.createElement(CommonLoading, {\n    message: loadingText,\n    dataTest: \"\".concat(dataTest, \"-loading\")\n  }))), /*#__PURE__*/React.createElement(StatusIcon, {\n    error: error,\n    valid: valid,\n    warning: warning\n  }), /*#__PURE__*/React.createElement(_JSXStyle, {\n    id: \"2180377457\",\n    dynamic: [spacers.dp8]\n  }, [\".root.__jsx-style-dynamic-selector{-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;gap:\".concat(spacers.dp8, \";}\"), \".root-input.__jsx-style-dynamic-selector{-webkit-flex:1;-ms-flex:1;flex:1;}\"]));\n};\n\nSingleSelect.defaultProps = {\n  selected: '',\n  dataTest: 'dhis2-uicore-singleselect'\n};\nSingleSelect.propTypes = {\n  children: PropTypes.node,\n  className: PropTypes.string,\n\n  /** Text on button that clears selection. Required if `clearable` prop is true */\n  clearText: requiredIf(props => props.clearable, PropTypes.string),\n\n  /** Adds a button to clear selection */\n  clearable: PropTypes.bool,\n  dataTest: PropTypes.string,\n  dense: PropTypes.bool,\n  disabled: PropTypes.bool,\n\n  /** Text or component to display when there are no options */\n  empty: PropTypes.node,\n\n  /** Applies 'error' appearance for validation feedback. Mutually exclusive with `warning` and `valid` props */\n  error: sharedPropTypes.statusPropType,\n  filterPlaceholder: PropTypes.string,\n\n  /** Adds a filter field to add text to filter options */\n  filterable: PropTypes.bool,\n  initialFocus: PropTypes.bool,\n  inputMaxHeight: PropTypes.string,\n  loading: PropTypes.bool,\n  loadingText: PropTypes.string,\n  maxHeight: PropTypes.string,\n\n  /** Text to show when filter returns no results. Required if `filterable` prop is true */\n  noMatchText: requiredIf(props => props.filterable, PropTypes.string),\n  placeholder: PropTypes.string,\n  prefix: PropTypes.string,\n  selected: PropTypes.string,\n  tabIndex: PropTypes.string,\n\n  /** Applies 'valid' appearance for validation feedback. Mutually exclusive with `warning` and `error` props */\n  valid: sharedPropTypes.statusPropType,\n\n  /** Applies 'warning' appearance for validation feedback. Mutually exclusive with `valid` and `error` props */\n  warning: sharedPropTypes.statusPropType,\n  onBlur: PropTypes.func,\n  onChange: PropTypes.func,\n  onFocus: PropTypes.func,\n  onKeyDown: PropTypes.func\n};\nexport { SingleSelect };","import _JSXStyle from \"styled-jsx/style\";\nimport { spacers } from '@dhis2/ui-constants';\nimport PropTypes from 'prop-types';\nimport React from 'react';\nexport const Actions = _ref => {\n  let {\n    children,\n    dataTest\n  } = _ref;\n  return /*#__PURE__*/React.createElement(\"div\", {\n    \"data-test\": dataTest,\n    className: _JSXStyle.dynamic([[\"1457814848\", [spacers.dp8]]])\n  }, children, /*#__PURE__*/React.createElement(_JSXStyle, {\n    id: \"1457814848\",\n    dynamic: [spacers.dp8]\n  }, [\"div.__jsx-style-dynamic-selector{-webkit-align-content:center;-ms-flex-line-pack:center;align-content:center;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;-webkit-flex-shrink:1;-ms-flex-negative:1;flex-shrink:1;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;margin:0 \".concat(spacers.dp8, \";}\"), \"div.__jsx-style-dynamic-selector>button{margin-top:8px;}\", \"div.__jsx-style-dynamic-selector>button:first-child{margin-top:0;}\"]));\n};\nActions.propTypes = {\n  dataTest: PropTypes.string.isRequired,\n  children: PropTypes.node\n};","import _JSXStyle from \"styled-jsx/style\";\nimport { theme } from '@dhis2/ui-constants';\nimport PropTypes from 'prop-types';\nimport React from 'react';\nconst centerButtonStyles = [\"svg.jsx-114231192{min-width:20px;}\"];\ncenterButtonStyles.__hash = \"114231192\";\nexport const IconAddAll = _ref => {\n  let {\n    dataTest,\n    disabled\n  } = _ref;\n  return /*#__PURE__*/React.createElement(\"svg\", {\n    xmlns: \"http://www.w3.org/2000/svg\",\n    width: \"16\",\n    height: \"16\",\n    viewBox: \"0 0 16 16\",\n    \"data-test\": dataTest,\n    fill: disabled ? theme.disabled : '#404B5A',\n    className: \"jsx-\".concat(centerButtonStyles.__hash)\n  }, /*#__PURE__*/React.createElement(\"g\", {\n    fillRule: \"evenodd\",\n    className: \"jsx-\".concat(centerButtonStyles.__hash)\n  }, /*#__PURE__*/React.createElement(\"polygon\", {\n    fillRule: \"nonzero\",\n    points: \"6 2 4.94 3.06 9.13 7.25 0 7.25 0 8.75 9.13 8.75 4.94 12.94 6 14 12 8\",\n    className: \"jsx-\".concat(centerButtonStyles.__hash)\n  }), /*#__PURE__*/React.createElement(\"polygon\", {\n    fillRule: \"nonzero\",\n    points: \"10 2 8.94 3.06 13.13 7.25 13.9 8 13.13 8.75 8.94 12.94 10 14 16 8\",\n    className: \"jsx-\".concat(centerButtonStyles.__hash)\n  })), /*#__PURE__*/React.createElement(_JSXStyle, {\n    id: centerButtonStyles.__hash\n  }, centerButtonStyles));\n};\nIconAddAll.propTypes = {\n  dataTest: PropTypes.string.isRequired,\n  disabled: PropTypes.bool\n};\nexport const IconAddIndividual = _ref2 => {\n  let {\n    dataTest,\n    disabled\n  } = _ref2;\n  return /*#__PURE__*/React.createElement(\"svg\", {\n    fill: disabled ? theme.disabled : '#404B5A',\n    xmlns: \"http://www.w3.org/2000/svg\",\n    width: \"16\",\n    height: \"16\",\n    viewBox: \"0 0 16 16\",\n    \"data-test\": dataTest,\n    className: \"jsx-\".concat(centerButtonStyles.__hash)\n  }, /*#__PURE__*/React.createElement(\"polygon\", {\n    points: \"8 2 6.94 3.06 11.13 7.25 2 7.25 2 8.75 11.13 8.75 6.94 12.94 8 14 14 8\",\n    className: \"jsx-\".concat(centerButtonStyles.__hash)\n  }), /*#__PURE__*/React.createElement(_JSXStyle, {\n    id: centerButtonStyles.__hash\n  }, centerButtonStyles));\n};\nIconAddIndividual.propTypes = {\n  dataTest: PropTypes.string.isRequired,\n  disabled: PropTypes.bool\n};\nexport const IconRemoveAll = _ref3 => {\n  let {\n    dataTest,\n    disabled\n  } = _ref3;\n  return /*#__PURE__*/React.createElement(\"svg\", {\n    fill: disabled ? theme.disabled : '#404B5A',\n    width: \"16px\",\n    height: \"16px\",\n    viewBox: \"0 0 16 16\",\n    \"data-test\": dataTest,\n    xmlns: \"http://www.w3.org/2000/svg\",\n    className: \"jsx-\".concat(centerButtonStyles.__hash)\n  }, /*#__PURE__*/React.createElement(\"g\", {\n    fillRule: \"evenodd\",\n    className: \"jsx-\".concat(centerButtonStyles.__hash)\n  }, /*#__PURE__*/React.createElement(\"polygon\", {\n    fillRule: \"nonzero\",\n    points: \"10 2 8.94 3.06 13.13 7.25 4 7.25 4 8.75 13.13 8.75 8.94 12.94 10 14 16 8\",\n    transform: \"matrix(-1 0 0 1 20 0)\",\n    className: \"jsx-\".concat(centerButtonStyles.__hash)\n  }), /*#__PURE__*/React.createElement(\"polygon\", {\n    fillRule: \"nonzero\",\n    points: \"1.06 2 0 3.06 4.19 7.25 4.96 8 4.19 8.75 0 12.94 1.06 14 7.06 8\",\n    transform: \"matrix(-1 0 0 1 7.06 0)\",\n    className: \"jsx-\".concat(centerButtonStyles.__hash)\n  })), /*#__PURE__*/React.createElement(_JSXStyle, {\n    id: centerButtonStyles.__hash\n  }, centerButtonStyles));\n};\nIconRemoveAll.propTypes = {\n  dataTest: PropTypes.string.isRequired,\n  disabled: PropTypes.bool\n};\nexport const IconRemoveIndividual = _ref4 => {\n  let {\n    dataTest,\n    disabled\n  } = _ref4;\n  return /*#__PURE__*/React.createElement(\"svg\", {\n    fill: disabled ? theme.disabled : '#404B5A',\n    xmlns: \"http://www.w3.org/2000/svg\",\n    width: \"16\",\n    height: \"16\",\n    viewBox: \"0 0 16 16\",\n    \"data-test\": dataTest,\n    className: \"jsx-\".concat(centerButtonStyles.__hash)\n  }, /*#__PURE__*/React.createElement(\"polygon\", {\n    points: \"8 2 6.94 3.06 11.13 7.25 2 7.25 2 8.75 11.13 8.75 6.94 12.94 8 14 14 8\",\n    transform: \"matrix(-1 0 0 1 16 0)\",\n    className: \"jsx-\".concat(centerButtonStyles.__hash)\n  }), /*#__PURE__*/React.createElement(_JSXStyle, {\n    id: centerButtonStyles.__hash\n  }, centerButtonStyles));\n};\nIconRemoveIndividual.propTypes = {\n  dataTest: PropTypes.string.isRequired,\n  disabled: PropTypes.bool\n};\nexport const IconMoveDown = _ref5 => {\n  let {\n    dataTest,\n    disabled\n  } = _ref5;\n  return /*#__PURE__*/React.createElement(\"svg\", {\n    fill: disabled ? theme.disabled : '#404B5A',\n    xmlns: \"http://www.w3.org/2000/svg\",\n    width: \"16\",\n    height: \"16\",\n    viewBox: \"0 0 16 16\",\n    \"data-test\": dataTest\n  }, /*#__PURE__*/React.createElement(\"polygon\", {\n    points: \"8 2 6.94 3.06 11.13 7.25 2 7.25 2 8.75 11.13 8.75 6.94 12.94 8 14 14 8\",\n    transform: \"matrix(0 1 1 0 0 0)\"\n  }));\n};\nIconMoveDown.propTypes = {\n  dataTest: PropTypes.string.isRequired,\n  disabled: PropTypes.bool\n};\nexport const IconMoveUp = _ref6 => {\n  let {\n    dataTest,\n    disabled\n  } = _ref6;\n  return /*#__PURE__*/React.createElement(\"svg\", {\n    fill: disabled ? theme.disabled : '#404B5A',\n    xmlns: \"http://www.w3.org/2000/svg\",\n    width: \"16\",\n    height: \"16\",\n    viewBox: \"0 0 16 16\",\n    \"data-test\": dataTest\n  }, /*#__PURE__*/React.createElement(\"polygon\", {\n    points: \"8 2 6.94 3.06 11.13 7.25 2 7.25 2 8.75 11.13 8.75 6.94 12.94 8 14 14 8\",\n    transform: \"rotate(-90 8 8)\"\n  }));\n};\nIconMoveUp.propTypes = {\n  dataTest: PropTypes.string.isRequired,\n  disabled: PropTypes.bool\n};","import { Button } from '@dhis2-ui/button';\nimport PropTypes from 'prop-types';\nimport React from 'react';\nimport { IconAddAll } from './icons.js';\nexport const AddAll = _ref => {\n  let {\n    label,\n    dataTest,\n    disabled,\n    onClick\n  } = _ref;\n  return /*#__PURE__*/React.createElement(Button, {\n    dataTest: dataTest,\n    disabled: disabled,\n    onClick: onClick,\n    icon: /*#__PURE__*/React.createElement(IconAddAll, {\n      dataTest: \"\".concat(dataTest, \"-iconaddall\"),\n      disabled: disabled\n    })\n  }, label);\n};\nAddAll.propTypes = {\n  dataTest: PropTypes.string.isRequired,\n  onClick: PropTypes.func.isRequired,\n  disabled: PropTypes.bool,\n  label: PropTypes.string\n};","import { Button } from '@dhis2-ui/button';\nimport PropTypes from 'prop-types';\nimport React from 'react';\nimport { IconAddIndividual } from './icons.js';\nexport const AddIndividual = _ref => {\n  let {\n    label,\n    dataTest,\n    disabled,\n    onClick\n  } = _ref;\n  return /*#__PURE__*/React.createElement(Button, {\n    dataTest: dataTest,\n    disabled: disabled,\n    onClick: onClick,\n    icon: /*#__PURE__*/React.createElement(IconAddIndividual, {\n      disabled: disabled,\n      dataTest: \"\".concat(dataTest, \"-iconaddindividual\")\n    })\n  }, label);\n};\nAddIndividual.propTypes = {\n  dataTest: PropTypes.string.isRequired,\n  onClick: PropTypes.func.isRequired,\n  disabled: PropTypes.bool,\n  label: PropTypes.string\n};","import _JSXStyle from \"styled-jsx/style\";\nimport PropTypes from 'prop-types';\nimport React from 'react';\nexport const Container = _ref => {\n  let {\n    children,\n    dataTest,\n    className,\n    height\n  } = _ref;\n  return /*#__PURE__*/React.createElement(\"div\", {\n    \"data-test\": dataTest,\n    className: _JSXStyle.dynamic([[\"3332822660\", [height]]]) + \" \" + (className || \"\")\n  }, children, /*#__PURE__*/React.createElement(_JSXStyle, {\n    id: \"3332822660\",\n    dynamic: [height]\n  }, [\"div.__jsx-style-dynamic-selector{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;width:100%;height:\".concat(height, \";}\")]));\n};\nContainer.propTypes = {\n  height: PropTypes.string.isRequired,\n  children: PropTypes.node,\n  className: PropTypes.string,\n  dataTest: PropTypes.string\n};","import _JSXStyle from \"styled-jsx/style\";\nimport { Field } from '@dhis2-ui/field';\nimport { Input } from '@dhis2-ui/input';\nimport { spacers } from '@dhis2/ui-constants';\nimport PropTypes from 'prop-types';\nimport React from 'react';\nexport const Filter = _ref => {\n  let {\n    dataTest,\n    filter,\n    onChange,\n    label,\n    placeholder\n  } = _ref;\n  return /*#__PURE__*/React.createElement(\"div\", {\n    \"data-test\": dataTest,\n    className: _JSXStyle.dynamic([[\"3679907342\", [spacers.dp8, spacers.dp8]]])\n  }, /*#__PURE__*/React.createElement(Field, {\n    label: label,\n    name: dataTest,\n    dataTest: \"\".concat(dataTest, \"-field\")\n  }, /*#__PURE__*/React.createElement(Input, {\n    dataTest: \"\".concat(dataTest, \"-input\"),\n    type: \"search\",\n    placeholder: placeholder,\n    value: filter,\n    onChange: onChange\n  })), /*#__PURE__*/React.createElement(_JSXStyle, {\n    id: \"3679907342\",\n    dynamic: [spacers.dp8, spacers.dp8]\n  }, [\"div.__jsx-style-dynamic-selector{padding-bottom:\".concat(spacers.dp8, \";}\"), \"div.__jsx-style-dynamic-selector:first-child{padding-top:\".concat(spacers.dp8, \";}\")]));\n};\nFilter.propTypes = {\n  dataTest: PropTypes.string.isRequired,\n  filter: PropTypes.string.isRequired,\n  onChange: PropTypes.func.isRequired,\n  label: PropTypes.string,\n  placeholder: PropTypes.string\n};","import { colors } from '@dhis2/ui-constants';\nexport const backgroundColor = colors.white;\nexport const borderColor = colors.grey400;\nexport const borderRadius = '3px';","import _JSXStyle from \"styled-jsx/style\";\nimport { spacers } from '@dhis2/ui-constants';\nimport PropTypes from 'prop-types';\nimport React from 'react';\nimport { borderColor } from './common/index.js';\nexport const LeftFooter = _ref => {\n  let {\n    children,\n    dataTest\n  } = _ref;\n  return /*#__PURE__*/React.createElement(\"div\", {\n    \"data-test\": dataTest,\n    className: _JSXStyle.dynamic([[\"3629116366\", [borderColor, spacers.dp8]]])\n  }, children, /*#__PURE__*/React.createElement(_JSXStyle, {\n    id: \"3629116366\",\n    dynamic: [borderColor, spacers.dp8]\n  }, [\"div.__jsx-style-dynamic-selector{-webkit-box-flex:0;-webkit-flex-grow:0;-ms-flex-positive:0;flex-grow:0;border-top:1px solid \".concat(borderColor, \";padding:0 \").concat(spacers.dp8, \";}\")]));\n};\nLeftFooter.propTypes = {\n  children: PropTypes.node,\n  dataTest: PropTypes.string\n};","import _JSXStyle from \"styled-jsx/style\";\nimport { spacers } from '@dhis2/ui-constants';\nimport PropTypes from 'prop-types';\nimport React from 'react';\nimport { borderColor } from './common/index.js';\nexport const LeftHeader = _ref => {\n  let {\n    children,\n    dataTest\n  } = _ref;\n  return /*#__PURE__*/React.createElement(\"div\", {\n    \"data-test\": dataTest,\n    className: _JSXStyle.dynamic([[\"2175954399\", [borderColor, spacers.dp8]]])\n  }, children, /*#__PURE__*/React.createElement(_JSXStyle, {\n    id: \"2175954399\",\n    dynamic: [borderColor, spacers.dp8]\n  }, [\"div.__jsx-style-dynamic-selector{border-bottom:1px solid \".concat(borderColor, \";-webkit-box-flex:0;-webkit-flex-grow:0;-ms-flex-positive:0;flex-grow:0;padding:0 \").concat(spacers.dp8, \";}\")]));\n};\nLeftHeader.propTypes = {\n  children: PropTypes.node,\n  dataTest: PropTypes.string\n};","import _JSXStyle from \"styled-jsx/style\";\nimport PropTypes from 'prop-types';\nimport React from 'react';\nimport { backgroundColor, borderColor, borderRadius } from './common/index.js';\nexport const LeftSide = _ref => {\n  let {\n    children,\n    dataTest,\n    width\n  } = _ref;\n  return /*#__PURE__*/React.createElement(\"div\", {\n    \"data-test\": dataTest,\n    className: _JSXStyle.dynamic([[\"4143353612\", [backgroundColor, borderRadius, borderColor, width]]])\n  }, children,\n  /**\n   * Flex basis 0px to make sure right and left side\n   * always have the same width\n   */\n  '', /*#__PURE__*/React.createElement(_JSXStyle, {\n    id: \"4143353612\",\n    dynamic: [backgroundColor, borderRadius, borderColor, width]\n  }, [\"div.__jsx-style-dynamic-selector{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;background-color:\".concat(backgroundColor, \";border-radius:\").concat(borderRadius, \";border:1px solid \").concat(borderColor, \";min-height:240px;max-width:100%;width:\").concat(width, \";}\")]));\n};\nLeftSide.propTypes = {\n  width: PropTypes.string.isRequired,\n  children: PropTypes.node,\n  dataTest: PropTypes.string\n};","import _JSXStyle from \"styled-jsx/style\";\nimport PropTypes from 'prop-types';\nimport React, { useEffect, useRef } from 'react';\nexport const IntersectionDetector = _ref => {\n  let {\n    threshold,\n    onChange,\n    children,\n    className,\n    dataTest,\n    rootRef\n  } = _ref;\n  // Use useRef instead of useState to prevent unnecessary re-render:\n  //   The state changes won't be reflected in what this component renders,\n  //   so there's no need for re-rendering the (potentially computational\n  //   heavy) children.  Also: If the parent re-renders (e. g. due to a state\n  //   change), then this component will re-render as well.\n  // @var {Object}\n  // @prop {bool} current\n  const isIntersecting = useRef(); // @var {Object}\n  // @prop {HTMLElement} current\n\n  const intersectionRef = useRef();\n  useEffect(() => {\n    const rootEl = rootRef.current;\n    const intersectionEl = intersectionRef.current;\n\n    if (rootEl && intersectionEl) {\n      const onIntersection = entries => {\n        // Currently there's no way to supply multiple thresholds,\n        // so a single entry can be assumed safely\n        const [entry] = entries; // Make sure the callback is not called multiple times\n        // if there is no change\n\n        const intersectionChange = entry.isIntersecting !== isIntersecting.current;\n\n        if (intersectionChange) {\n          isIntersecting.current = entry.isIntersecting;\n          onChange({\n            isIntersecting: entry.isIntersecting\n          });\n        }\n      };\n\n      const observerOptions = {\n        root: rootEl,\n        threshold\n      };\n      const intersectionObserver = new IntersectionObserver(onIntersection, observerOptions);\n      intersectionObserver.observe(intersectionEl); // Make sure to clean up everything when un-mounting.\n      // Using an arrow function instead of just returning\n      // the disconnect function for better readability.\n\n      return () => intersectionObserver.disconnect();\n    }\n  }, [rootRef.current, intersectionRef.current]);\n  return /*#__PURE__*/React.createElement(\"div\", {\n    ref: intersectionRef,\n    \"data-test\": dataTest,\n    className: \"jsx-2829611397\" + \" \" + (className || \"\")\n  }, children, /*#__PURE__*/React.createElement(_JSXStyle, {\n    id: \"2829611397\"\n  }, [\"div.jsx-2829611397{height:100%;}\"]));\n};\nIntersectionDetector.defaultProps = {\n  threshold: 0,\n  dataTest: 'dhis2-uicore-intersectiondetector'\n};\nIntersectionDetector.propTypes = {\n  /** React ref on other component to detect intersections with */\n  rootRef: PropTypes.shape({\n    // not required so `current` can be `null`\n    current: PropTypes.instanceOf(HTMLElement)\n  }).isRequired,\n\n  /** Called with signature `({ isIntersecting: bool })` */\n  onChange: PropTypes.func.isRequired,\n  children: PropTypes.any,\n  className: PropTypes.string,\n  dataTest: PropTypes.string,\n\n  /** The [threshold](https://developer.mozilla.org/en-US/docs/Web/API/Intersection_Observer_API#Intersection_observer_options) value: a value from 0.0 to 1.0 that controls the point at which an intersecting component is considered 'intersected' or 'visible' and the onChange callback triggers */\n  threshold: PropTypes.number\n};","import _JSXStyle from \"styled-jsx/style\";\nimport { IntersectionDetector } from '@dhis2-ui/intersection-detector';\nimport PropTypes from 'prop-types';\nimport React from 'react';\nexport const EndIntersectionDetector = _ref => {\n  let {\n    rootRef,\n    onEndReached,\n    dataTest\n  } = _ref;\n  return /*#__PURE__*/React.createElement(\"div\", {\n    \"data-test\": dataTest,\n    className: \"jsx-4200578429\"\n  }, /*#__PURE__*/React.createElement(IntersectionDetector, {\n    rootRef: rootRef,\n    onChange: _ref2 => {\n      let {\n        isIntersecting\n      } = _ref2;\n      return isIntersecting && onEndReached();\n    }\n  }), /*#__PURE__*/React.createElement(_JSXStyle, {\n    id: \"4200578429\"\n  }, [\"div.jsx-4200578429{width:100%;height:50px;position:absolute;z-index:-1;bottom:0;left:0;}\"]));\n};\nEndIntersectionDetector.propTypes = {\n  rootRef: PropTypes.shape({\n    current: PropTypes.instanceOf(HTMLElement)\n  }).isRequired,\n  onEndReached: PropTypes.func.isRequired,\n  dataTest: PropTypes.string\n};","import { useEffect, useState } from 'react';\n/*\n * The initial call is irrelevant as there has been\n * no resize yet that we want to react to\n * So we start with -1 with will returned as 0 by this hook\n *\n * @param {Element} element\n * @returns {number}\n */\n\nexport const useResizeCounter = element => {\n  const [counter, setCounter] = useState(-1);\n  useEffect(() => {\n    // using an internal counter as using the one from `useState`\n    // would cause an infinite loop as this `useEffect` would\n    // both depend on that value as well as change it every time\n    // it's executed as the callback passed to `ResizeObserver`\n    // will be executed on construction\n    let internalCounter = counter;\n\n    if (element) {\n      const observer = new ResizeObserver(() => {\n        ++internalCounter;\n        setCounter(internalCounter);\n      });\n      observer.observe(element);\n      return () => observer.disconnect();\n    }\n  }, [element, setCounter]);\n  return counter < 1 ? 0 : counter;\n};","import _JSXStyle from \"styled-jsx/style\";\nimport { CircularLoader } from '@dhis2-ui/loader';\nimport { spacers } from '@dhis2/ui-constants';\nimport PropTypes from 'prop-types';\nimport React, { Fragment, useRef } from 'react';\nimport { EndIntersectionDetector } from './end-intersection-detector.js';\nimport { useResizeCounter } from './use-resize-counter.js';\nexport const OptionsContainer = _ref => {\n  let {\n    dataTest,\n    emptyComponent,\n    onEndReached,\n    getOptionClickHandlers,\n    highlightedOptions,\n    loading,\n    renderOption,\n    options,\n    selected,\n    selectionHandler,\n    toggleHighlightedOption\n  } = _ref;\n  const optionsRef = useRef(null);\n  const wrapperRef = useRef(null);\n  const resizeCounter = useResizeCounter(wrapperRef.current);\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: _JSXStyle.dynamic([[\"889751462\", [spacers.dp4]]]) + \" \" + \"optionsContainer\"\n  }, loading && /*#__PURE__*/React.createElement(\"div\", {\n    className: _JSXStyle.dynamic([[\"889751462\", [spacers.dp4]]]) + \" \" + \"loading\"\n  }, /*#__PURE__*/React.createElement(CircularLoader, null)), /*#__PURE__*/React.createElement(\"div\", {\n    \"data-test\": dataTest,\n    ref: optionsRef,\n    className: _JSXStyle.dynamic([[\"889751462\", [spacers.dp4]]]) + \" \" + \"container\"\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    ref: wrapperRef,\n    className: _JSXStyle.dynamic([[\"889751462\", [spacers.dp4]]]) + \" \" + \"content-container\"\n  }, !options.length && emptyComponent, options.map(option => {\n    const highlighted = !!highlightedOptions.find(highlightedSourceOption => highlightedSourceOption === option.value);\n    return /*#__PURE__*/React.createElement(Fragment, {\n      key: option.value\n    }, renderOption({ ...option,\n      ...getOptionClickHandlers(option, selectionHandler, toggleHighlightedOption),\n      highlighted,\n      selected\n    }));\n  }), onEndReached && /*#__PURE__*/React.createElement(EndIntersectionDetector, {\n    dataTest: \"\".concat(dataTest, \"-endintersectiondetector\"),\n    key: \"key-\".concat(resizeCounter),\n    rootRef: optionsRef,\n    onEndReached: onEndReached\n  }))), /*#__PURE__*/React.createElement(_JSXStyle, {\n    id: \"889751462\",\n    dynamic: [spacers.dp4]\n  }, [\".optionsContainer.__jsx-style-dynamic-selector{-webkit-box-flex:1;-webkit-flex-grow:1;-ms-flex-positive:1;flex-grow:1;padding:\".concat(spacers.dp4, \" 0;position:relative;overflow:hidden;}\"), \".container.__jsx-style-dynamic-selector{overflow-y:auto;height:100%;}\", \".loading.__jsx-style-dynamic-selector{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;height:100%;width:100%;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;position:absolute;z-index:2;top:0;left:0;}\", \".content-container.__jsx-style-dynamic-selector{z-index:1;position:relative;}\", \".loading.__jsx-style-dynamic-selector+.container.__jsx-style-dynamic-selector .content-container.__jsx-style-dynamic-selector{-webkit-filter:blur(2px);filter:blur(2px);}\"]));\n};\nOptionsContainer.defaultProps = {\n  selected: false\n};\nOptionsContainer.propTypes = {\n  dataTest: PropTypes.string.isRequired,\n  getOptionClickHandlers: PropTypes.func.isRequired,\n  emptyComponent: PropTypes.node,\n  highlightedOptions: PropTypes.arrayOf(PropTypes.string),\n  loading: PropTypes.bool,\n  options: PropTypes.arrayOf(PropTypes.shape({\n    label: PropTypes.string.isRequired,\n    value: PropTypes.string.isRequired\n  })),\n  renderOption: PropTypes.func,\n  selected: PropTypes.bool,\n  selectionHandler: PropTypes.func,\n  toggleHighlightedOption: PropTypes.func,\n  onEndReached: PropTypes.func\n};","import { Button } from '@dhis2-ui/button';\nimport PropTypes from 'prop-types';\nimport React from 'react';\nimport { IconRemoveAll } from './icons.js';\nexport const RemoveAll = _ref => {\n  let {\n    label,\n    dataTest,\n    disabled,\n    onClick\n  } = _ref;\n  return /*#__PURE__*/React.createElement(Button, {\n    dataTest: dataTest,\n    disabled: disabled,\n    onClick: onClick,\n    icon: /*#__PURE__*/React.createElement(IconRemoveAll, {\n      disabled: disabled,\n      dataTest: \"\".concat(dataTest, \"-iconremoveall\")\n    })\n  }, label);\n};\nRemoveAll.propTypes = {\n  dataTest: PropTypes.string.isRequired,\n  onClick: PropTypes.func.isRequired,\n  disabled: PropTypes.bool,\n  label: PropTypes.string\n};","import { Button } from '@dhis2-ui/button';\nimport PropTypes from 'prop-types';\nimport React from 'react';\nimport { IconRemoveIndividual } from './icons.js';\nexport const RemoveIndividual = _ref => {\n  let {\n    label,\n    dataTest,\n    disabled,\n    onClick\n  } = _ref;\n  return /*#__PURE__*/React.createElement(Button, {\n    dataTest: dataTest,\n    disabled: disabled,\n    onClick: onClick,\n    icon: /*#__PURE__*/React.createElement(IconRemoveIndividual, {\n      disabled: disabled,\n      dataTest: \"\".concat(dataTest, \"-iconremoveindividual\")\n    })\n  }, label);\n};\nRemoveIndividual.propTypes = {\n  dataTest: PropTypes.string.isRequired,\n  onClick: PropTypes.func.isRequired,\n  disabled: PropTypes.bool,\n  label: PropTypes.string\n};","import _JSXStyle from \"styled-jsx/style\";\nimport { Button } from '@dhis2-ui/button';\nimport { spacers } from '@dhis2/ui-constants';\nimport PropTypes from 'prop-types';\nimport React from 'react';\nimport { IconMoveDown, IconMoveUp } from './icons.js';\nexport const ReorderingActions = _ref => {\n  let {\n    dataTest,\n    disabledDown,\n    disabledUp,\n    onChangeUp,\n    onChangeDown\n  } = _ref;\n  return /*#__PURE__*/React.createElement(\"div\", {\n    \"data-test\": dataTest,\n    className: _JSXStyle.dynamic([[\"1295471940\", [spacers.dp8, spacers.dp8, spacers.dp8]]])\n  }, /*#__PURE__*/React.createElement(Button, {\n    small: true,\n    disabled: disabledDown,\n    onClick: () => !disabledDown && onChangeDown(event),\n    dataTest: \"\".concat(dataTest, \"-buttonmovedown\"),\n    icon: /*#__PURE__*/React.createElement(IconMoveDown, {\n      dataTest: \"\".concat(dataTest, \"-iconmovedown\"),\n      disabled: disabledDown\n    })\n  }), /*#__PURE__*/React.createElement(Button, {\n    small: true,\n    disabled: disabledUp,\n    onClick: () => !disabledUp && onChangeUp(event),\n    dataTest: \"\".concat(dataTest, \"-buttonmoveup\"),\n    icon: /*#__PURE__*/React.createElement(IconMoveUp, {\n      dataTest: \"\".concat(dataTest, \"-iconmoveup\"),\n      disabled: disabledUp\n    })\n  }), /*#__PURE__*/React.createElement(_JSXStyle, {\n    id: \"1295471940\",\n    dynamic: [spacers.dp8, spacers.dp8, spacers.dp8]\n  }, [\"div.__jsx-style-dynamic-selector{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:row-reverse;-ms-flex-direction:row-reverse;flex-direction:row-reverse;padding-top:\".concat(spacers.dp8, \";}\"), \"div.__jsx-style-dynamic-selector:last-child{padding-bottom:\".concat(spacers.dp8, \";}\"), \"div.__jsx-style-dynamic-selector>button:first-child{margin-left:\".concat(spacers.dp8, \";}\")]));\n};\nReorderingActions.propTypes = {\n  dataTest: PropTypes.string.isRequired,\n  onChangeDown: PropTypes.func.isRequired,\n  onChangeUp: PropTypes.func.isRequired,\n  disabledDown: PropTypes.bool,\n  disabledUp: PropTypes.bool\n};","import _JSXStyle from \"styled-jsx/style\";\nimport { spacers } from '@dhis2/ui-constants';\nimport PropTypes from 'prop-types';\nimport React from 'react';\nimport { borderColor } from './common/index.js';\nexport const RightFooter = _ref => {\n  let {\n    children,\n    dataTest\n  } = _ref;\n  return /*#__PURE__*/React.createElement(\"div\", {\n    \"data-test\": dataTest,\n    className: _JSXStyle.dynamic([[\"3629116366\", [borderColor, spacers.dp8]]])\n  }, children, /*#__PURE__*/React.createElement(_JSXStyle, {\n    id: \"3629116366\",\n    dynamic: [borderColor, spacers.dp8]\n  }, [\"div.__jsx-style-dynamic-selector{-webkit-box-flex:0;-webkit-flex-grow:0;-ms-flex-positive:0;flex-grow:0;border-top:1px solid \".concat(borderColor, \";padding:0 \").concat(spacers.dp8, \";}\")]));\n};\nRightFooter.propTypes = {\n  children: PropTypes.node,\n  dataTest: PropTypes.string\n};","import _JSXStyle from \"styled-jsx/style\";\nimport { spacers } from '@dhis2/ui-constants';\nimport PropTypes from 'prop-types';\nimport React from 'react';\nimport { borderColor } from './common/index.js';\nexport const RightHeader = _ref => {\n  let {\n    children,\n    dataTest\n  } = _ref;\n  return /*#__PURE__*/React.createElement(\"div\", {\n    \"data-test\": dataTest,\n    className: _JSXStyle.dynamic([[\"2175954399\", [borderColor, spacers.dp8]]])\n  }, children, /*#__PURE__*/React.createElement(_JSXStyle, {\n    id: \"2175954399\",\n    dynamic: [borderColor, spacers.dp8]\n  }, [\"div.__jsx-style-dynamic-selector{border-bottom:1px solid \".concat(borderColor, \";-webkit-box-flex:0;-webkit-flex-grow:0;-ms-flex-positive:0;flex-grow:0;padding:0 \").concat(spacers.dp8, \";}\")]));\n};\nRightHeader.propTypes = {\n  children: PropTypes.node,\n  dataTest: PropTypes.string\n};","import _JSXStyle from \"styled-jsx/style\";\nimport PropTypes from 'prop-types';\nimport React from 'react';\nimport { backgroundColor, borderColor, borderRadius } from './common/index.js';\nexport const RightSide = _ref => {\n  let {\n    children,\n    dataTest,\n    width\n  } = _ref;\n  return /*#__PURE__*/React.createElement(\"div\", {\n    \"data-test\": dataTest,\n    className: _JSXStyle.dynamic([[\"1391448013\", [backgroundColor, borderColor, borderRadius, width]]])\n  }, children,\n  /**\n   * Flex basis 0px to make sure right and left side\n   * always have the same width\n   */\n  '', /*#__PURE__*/React.createElement(_JSXStyle, {\n    id: \"1391448013\",\n    dynamic: [backgroundColor, borderColor, borderRadius, width]\n  }, [\"div.__jsx-style-dynamic-selector{background-color:\".concat(backgroundColor, \";border:1px solid \").concat(borderColor, \";border-radius:\").concat(borderRadius, \";display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;max-width:100%;width:\").concat(width, \";}\")]));\n};\nRightSide.propTypes = {\n  width: PropTypes.string.isRequired,\n  children: PropTypes.node,\n  dataTest: PropTypes.string\n};","import _JSXStyle from \"styled-jsx/style\";\nimport { colors } from '@dhis2/ui-constants';\nimport cx from 'classnames';\nimport PropTypes from 'prop-types';\nimport React, { useRef } from 'react';\nconst DOUBLE_CLICK_MAX_DELAY = 500;\nexport const TransferOption = _ref => {\n  let {\n    className,\n    disabled,\n    dataTest,\n    highlighted,\n    onClick,\n    onDoubleClick,\n    label,\n    value\n  } = _ref;\n  const doubleClickTimeout = useRef(null);\n  return /*#__PURE__*/React.createElement(\"div\", {\n    \"data-test\": dataTest,\n    onClick: event => {\n      if (disabled) {\n        return;\n      }\n\n      if (doubleClickTimeout.current) {\n        clearTimeout(doubleClickTimeout.current);\n        doubleClickTimeout.current = null;\n        onDoubleClick({\n          value\n        }, event);\n      } else {\n        doubleClickTimeout.current = setTimeout(() => {\n          clearTimeout(doubleClickTimeout.current);\n          doubleClickTimeout.current = null;\n        }, DOUBLE_CLICK_MAX_DELAY);\n        onClick({\n          value\n        }, event);\n      }\n    },\n    \"data-value\": value,\n    className: _JSXStyle.dynamic([[\"4216903932\", [colors.grey900, colors.grey200, colors.teal700, colors.white, colors.grey600]]]) + \" \" + (cx(className, {\n      highlighted,\n      disabled\n    }) || \"\")\n  }, label, /*#__PURE__*/React.createElement(_JSXStyle, {\n    id: \"4216903932\",\n    dynamic: [colors.grey900, colors.grey200, colors.teal700, colors.white, colors.grey600]\n  }, [\"div.__jsx-style-dynamic-selector{font-size:14px;line-height:16px;padding:4px 8px;color:\".concat(colors.grey900, \";-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;}\"), \"div.__jsx-style-dynamic-selector:hover{background:\".concat(colors.grey200, \";}\"), \"div.highlighted.__jsx-style-dynamic-selector{background:\".concat(colors.teal700, \";color:\").concat(colors.white, \";}\"), \"div.disabled.__jsx-style-dynamic-selector{color:\".concat(colors.grey600, \";cursor:not-allowed;}\")]));\n};\nTransferOption.defaultProps = {\n  dataTest: 'dhis2-uicore-transferoption'\n};\nTransferOption.propTypes = {\n  label: PropTypes.node.isRequired,\n  value: PropTypes.string.isRequired,\n  className: PropTypes.string,\n  dataTest: PropTypes.string,\n  disabled: PropTypes.bool,\n  highlighted: PropTypes.bool,\n  onClick: PropTypes.func,\n  onDoubleClick: PropTypes.func\n};","import { useState } from 'react';\n\nconst identity = value => value;\n\nexport const useFilter = _ref => {\n  let {\n    initialSearchTerm,\n    onFilterChange,\n    externalSearchTerm,\n    filterable,\n    filterCallback\n  } = _ref;\n  const [internalFilter, setInternalFilter] = useState(initialSearchTerm);\n  const filterValue = onFilterChange ? externalSearchTerm : internalFilter;\n  const filter = filterable ? filterCallback : identity;\n  return {\n    filterValue,\n    filter,\n    setInternalFilter\n  };\n};","/**\n * Click modes when clicking on an option with/without\n * a modifier key (ctrl, alt, cmd, shift)\n */\n// no or multiple modifier keys\nexport const REPLACE_MODE = 'REPLACE_MODE'; // add/remove options from selection\n\nexport const ADD_MODE = 'ADD_MODE'; // create selection range\n\nexport const RANGE_MODE = 'RANGE_MODE';","import { ADD_MODE, RANGE_MODE } from '../../common/index.js';\nimport { toggleAdd } from './toggle-add.js';\nimport { toggleRange } from './toggle-range.js';\nimport { toggleReplace } from './toggle-replace.js';\n/**\n * @param {Object} args\n * @param {bool} args.disabled\n * @param {string[]} args.highlightedOptions\n * @param {Function} args.setHighlightedOptions\n * @param {number} args.maxSelections\n * @param {Function} args.setLastClicked\n * @param {Object[]} args.options\n * @param {string} args.lastClicked\n * @returns {void}\n */\n\nexport const createToggleHighlightedOption = _ref => {\n  let {\n    disabled,\n    highlightedOptions,\n    setHighlightedOptions,\n    maxSelections,\n    setLastClicked,\n    options,\n    lastClicked\n  } = _ref;\n  return _ref2 => {\n    let {\n      option,\n      mode\n    } = _ref2;\n\n    if (disabled) {\n      return;\n    }\n\n    setHighlightedOptions([]);\n\n    if (mode === ADD_MODE) {\n      setLastClicked(option.value);\n      return toggleAdd({\n        highlightedOptions,\n        maxSelections,\n        option,\n        setHighlightedOptions\n      });\n    }\n\n    if (mode === RANGE_MODE) {\n      return toggleRange({\n        highlightedOptions,\n        options,\n        option,\n        setHighlightedOptions,\n        lastClicked,\n        maxSelections\n      });\n    } // REPLACE_MODE\n\n\n    setLastClicked(option.value);\n    return toggleReplace({\n      option,\n      highlightedOptions,\n      setHighlightedOptions\n    });\n  };\n};","import { toggleValue } from '../../common/index.js';\n/**\n * @param {Object} args\n * @param {number} args.maxSelections\n * @param {string[]} args.highlightedOptions\n * @param {Object} args.option\n * @param {Function} args.setHighlightedOption\n * @returns {void}\n */\n\nexport const toggleAdd = _ref => {\n  let {\n    highlightedOptions,\n    maxSelections,\n    option,\n    setHighlightedOptions\n  } = _ref;\n  const afterToggled = toggleValue(highlightedOptions, option.value);\n  const capped = afterToggled.slice(-1 * maxSelections);\n  setHighlightedOptions(capped);\n};","/**\n * @param {string[]} values\n * @param {string} value\n * @returns {string[]}\n */\nexport const toggleValue = (values, value) => {\n  const index = values.indexOf(value);\n\n  if (index === -1) {\n    return [...values, value];\n  } else if (index === 0) {\n    values.slice(1);\n  }\n\n  const prevSlice = values.slice(0, index);\n  const nextSlice = values.slice(index + 1);\n  return [...prevSlice, ...nextSlice];\n};","import { findOptionIndex } from '../../common/index.js';\n/**\n * @param {Object} args\n * @param {number} args.maxSelections\n * @param {string[]} args.highlightedOptions\n * @param {Object[]} args.options\n * @param {Object} args.option\n * @param {string} args.lastClicked\n * @param {Function} args.setHighlightedOption\n * @returns {void}\n */\n\nexport const toggleRange = _ref => {\n  let {\n    highlightedOptions,\n    options,\n    option,\n    setHighlightedOptions,\n    lastClicked,\n    maxSelections\n  } = _ref;\n\n  if (highlightedOptions.length === 0) {\n    setHighlightedOptions([option.value]);\n  } else {\n    let from, to;\n    const clickedOptionIndex = findOptionIndex(options, option);\n    const lastClickedSourceOptionWithoutRangeModeIndex = lastClicked ? options.findIndex(curOption => curOption.value === lastClicked) : -1;\n\n    if (lastClickedSourceOptionWithoutRangeModeIndex !== -1) {\n      from = lastClickedSourceOptionWithoutRangeModeIndex;\n      to = clickedOptionIndex;\n    } else {\n      /**\n       * A filter-change has removed the most recently highlighted option\n       */\n      const firstHighlightedInList = options.findIndex(option => highlightedOptions.find(highlightedOption => highlightedOption === option.value));\n      from = firstHighlightedInList;\n      to = clickedOptionIndex;\n    } // this is so we can also selected\n    // a range of options above \"from\" option.\n    // -> Just how slice works ;)\n\n\n    const lower = Math.min(from, to);\n    const higher = Math.max(from, to);\n    const newHighlightedSourceOptions = options.slice(lower, higher + 1).filter(option => !option.disabled).slice(maxSelections * -1).map(_ref2 => {\n      let {\n        value\n      } = _ref2;\n      return value;\n    });\n    setHighlightedOptions(newHighlightedSourceOptions);\n  }\n};","import { isOption } from './is-option.js';\n/**\n * @param {Object[]} options\n * @param {Object} option\n * @returns {Int}\n */\n\nexport const findOptionIndex = (options, option) => options.findIndex(current => isOption(current, option));","/**\n * @param {Object} left\n * @param {Object} left\n * @returns {bool}\n */\nexport const isOption = (left, right) => left.label === right.label && left.value === right.value;","/**\n * @param {Object} args\n * @param {string[]} args.highlightedOptions\n * @param {Object} args.option\n * @param {Function} args.setHighlightedOption\n * @returns {void}\n */\nexport const toggleReplace = _ref => {\n  let {\n    option,\n    highlightedOptions,\n    setHighlightedOptions\n  } = _ref;\n\n  if (highlightedOptions.length > 1) {\n    setHighlightedOptions([option.value]);\n  } else {\n    const optionIndex = highlightedOptions.findIndex(highlightedOption => highlightedOption === option.value);\n\n    if (optionIndex === -1) {\n      setHighlightedOptions([option.value]);\n    } else {\n      setHighlightedOptions([]);\n    }\n  }\n};","import { useState } from 'react';\nimport { createToggleHighlightedOption } from './use-highlighted-options/create-toggle-highlighted-option.js';\n/**\n * @param {Object} args\n * @param {bool} args.disabled\n * @param {number} args.maxSelection\n * @param {Object[]} args.options\n * @returns {Object} highlighted options & helpers\n */\n\nexport const useHighlightedOptions = _ref => {\n  let {\n    disabled,\n    maxSelections,\n    options\n  } = _ref;\n\n  /**\n   * These are important so the stored element can be used\n   * as range-start when using shift multiple times consecutively\n   */\n  const [lastClicked, setLastClicked] = useState(null);\n  const [highlightedOptions, setHighlightedOptions] = useState([]);\n  const toggleHighlightedOption = createToggleHighlightedOption({\n    disabled,\n    highlightedOptions,\n    setHighlightedOptions,\n    maxSelections,\n    setLastClicked,\n    options,\n    lastClicked\n  });\n  return {\n    highlightedOptions,\n    setHighlightedOptions,\n    toggleHighlightedOption\n  };\n};","import { getModeByModifierKey } from '../common/index.js';\n/**\n * @param {Object} option\n * @param {Function} selectionHandler\n * @param {Function} toggleHighlightedOption\n * @returns {Object}\n */\n\nexport const getOptionClickHandlers = (option, selectionHandler, toggleHighlightedOption) => ({\n  onClick: (_, event) => {\n    const mode = getModeByModifierKey(event);\n    toggleHighlightedOption({\n      option,\n      mode\n    });\n  },\n  onDoubleClick: selectionHandler\n});","import { ADD_MODE, RANGE_MODE, REPLACE_MODE } from './modes.js';\n/**\n * @param {Object} args\n * @param {bool} args.altKey\n * @param {bool} args.shiftKey\n * @param {bool} args.ctrlKey\n * @param {bool} args.metaKey\n * @return {string}\n */\n\nexport const getModeByModifierKey = _ref => {\n  let {\n    altKey,\n    shiftKey,\n    ctrlKey,\n    metaKey\n  } = _ref;\n  const keys = [altKey, shiftKey, ctrlKey, metaKey];\n  const amountKeyPressed = keys.filter(v => v);\n  const moreThanOneKeyPressed = amountKeyPressed.length;\n\n  if (moreThanOneKeyPressed !== 1) {\n    return REPLACE_MODE;\n  }\n\n  if (altKey || ctrlKey || metaKey) {\n    return ADD_MODE;\n  }\n\n  if (shiftKey) {\n    return RANGE_MODE;\n  } // default to replace mode\n\n\n  return REPLACE_MODE;\n};","/**\n * @param {Object} args\n * @param {string} args.highlightedPickedOptions\n * @param {string[]} args.selected\n * @returns {bool}\n */\nexport const isReorderDownDisabled = _ref => {\n  let {\n    highlightedPickedOptions,\n    selected\n  } = _ref;\n  return (// only one item can be moved with the buttons\n    highlightedPickedOptions.length !== 1 || // can't move an item down if it's the last one\n    selected.indexOf(highlightedPickedOptions[0]) === selected.length - 1\n  );\n};","/**\n * @param {Object} args\n * @param {string} args.highlightedPickedOptions\n * @param {string[]} args.selected\n * @returns {bool}\n */\nexport const isReorderUpDisabled = _ref => {\n  let {\n    highlightedPickedOptions,\n    selected\n  } = _ref;\n  return (// only one item can be moved with the buttons\n    highlightedPickedOptions.length !== 1 || // can't move an item up if it's the first one\n    selected.indexOf(highlightedPickedOptions[0]) === 0\n  );\n};","/**\n * @param {Object[]} options\n * @param {string} filter\n * @returns {Object[]}\n */\nexport const defaultFilterCallback = (options, filter) => filter === '' ? options : options.filter(_ref => {\n  let {\n    label\n  } = _ref;\n  return label.match(new RegExp(filter, 'i'));\n});","import PropTypes from 'prop-types';\nimport React from 'react';\nimport { Actions } from './actions.js';\nimport { AddAll } from './add-all.js';\nimport { AddIndividual } from './add-individual.js';\nimport { Container } from './container.js';\nimport { Filter } from './filter.js';\nimport { LeftFooter } from './left-footer.js';\nimport { LeftHeader } from './left-header.js';\nimport { LeftSide } from './left-side.js';\nimport { OptionsContainer } from './options-container.js';\nimport { RemoveAll } from './remove-all.js';\nimport { RemoveIndividual } from './remove-individual.js';\nimport { ReorderingActions } from './reordering-actions.js';\nimport { RightFooter } from './right-footer.js';\nimport { RightHeader } from './right-header.js';\nimport { RightSide } from './right-side.js';\nimport { TransferOption } from './transfer-option.js';\nimport { addAllSelectableSourceOptions, addIndividualSourceOptions, createDoubleClickHandlers, defaultFilterCallback, getOptionClickHandlers, isReorderDownDisabled, isReorderUpDisabled, moveHighlightedPickedOptionDown, moveHighlightedPickedOptionUp, removeAllPickedOptions, removeIndividualPickedOptions, useFilter, useHighlightedOptions } from './transfer/index.js';\n\nconst identity = value => value;\n\nexport const Transfer = _ref => {\n  let {\n    options,\n    onChange,\n    addAllText,\n    addIndividualText,\n    className,\n    dataTest,\n    disabled,\n    enableOrderChange,\n    filterCallback,\n    filterCallbackPicked,\n    filterLabel,\n    filterLabelPicked,\n    filterPlaceholder,\n    filterPlaceholderPicked,\n    filterable,\n    filterablePicked,\n    height,\n    hideFilterInput,\n    hideFilterInputPicked,\n    initialSearchTerm,\n    initialSearchTermPicked,\n    leftFooter,\n    leftHeader,\n    loadingPicked,\n    loading,\n    maxSelections,\n    optionsWidth,\n    removeAllText,\n    removeIndividualText,\n    renderOption,\n    rightFooter,\n    rightHeader,\n    searchTerm,\n    searchTermPicked,\n    selected,\n    selectedEmptyComponent,\n    selectedWidth,\n    sourceEmptyPlaceholder,\n    onFilterChange,\n    onFilterChangePicked,\n    onEndReached,\n    onEndReachedPicked\n  } = _ref;\n\n  /* Source options search value:\n   * Depending on whether the onFilterChange callback has been provided\n   * either the internal or external search value is used */\n  const {\n    filterValue: actualFilter,\n    filter: actualFilterCallback,\n    setInternalFilter\n  } = useFilter({\n    initialSearchTerm,\n    onFilterChange,\n    externalSearchTerm: searchTerm,\n    filterable,\n    filterCallback\n  });\n  /*\n   * Actual source options:\n   * Extract the not-selected options.\n   * Filters options if filterable is true.\n   */\n\n  const sourceOptions = actualFilterCallback(options.filter(_ref2 => {\n    let {\n      value\n    } = _ref2;\n    return !selected.includes(value);\n  }), actualFilter);\n  /*\n   * Picked options highlighting:\n   * These are all the highlighted options on the options side.\n   */\n\n  const {\n    highlightedOptions: highlightedSourceOptions,\n    setHighlightedOptions: setHighlightedSourceOptions,\n    toggleHighlightedOption: toggleHighlightedSourceOption\n  } = useHighlightedOptions({\n    options: sourceOptions,\n    disabled,\n    maxSelections\n  });\n  /* Picked options search value:\n   * Depending on whether the onFilterChangePicked callback has been provided\n   * either the internal or external search value is used */\n\n  const {\n    filterValue: actualFilterPicked,\n    filter: actualFilterPickedCallback,\n    setInternalFilter: setInternalFilterPicked\n  } = useFilter({\n    filterable: filterablePicked,\n    initialSearchTerm: initialSearchTermPicked,\n    onFilterChange: onFilterChangePicked,\n    externalSearchTerm: searchTermPicked,\n    filterCallback: filterCallbackPicked\n  });\n  /*\n   * Actual picked options:\n   * Extract the selected options. Can't use `options.filter`\n   * because we need to keep the order of `selected`\n   */\n\n  let pickedOptions = []; // Only map if selected is an array\n\n  if (Array.isArray(selected)) {\n    pickedOptions = actualFilterPickedCallback(selected.map(value => options.find(option => value === option.value)) // filter -> in case a selected value has been provided\n    // that does not exist as option\n    .filter(identity), actualFilterPicked);\n  }\n  /*\n   * Source options highlighting:\n   * These are all the highlighted options on the selected side.\n   */\n\n\n  const {\n    highlightedOptions: highlightedPickedOptions,\n    setHighlightedOptions: setHighlightedPickedOptions,\n    toggleHighlightedOption: toggleHighlightedPickedOption\n  } = useHighlightedOptions({\n    options: pickedOptions,\n    disabled,\n    maxSelections\n  });\n  /*\n   * Source & Picked options:\n   * These are the double click handlers for (de-)selection\n   */\n\n  const {\n    selectSingleOption,\n    deselectSingleOption\n  } = createDoubleClickHandlers({\n    selected,\n    setHighlightedSourceOptions,\n    setHighlightedPickedOptions,\n    onChange,\n    maxSelections\n  });\n  /**\n   * Disabled button states\n   */\n\n  const isAddAllDisabled = disabled || sourceOptions.filter(_ref3 => {\n    let {\n      disabled\n    } = _ref3;\n    return !disabled;\n  }).length === 0;\n  const isAddIndividualDisabled = disabled || !highlightedSourceOptions.length;\n  const isRemoveAllDisabled = disabled || !selected.length;\n  const isRemoveIndividualDisabled = disabled || !highlightedPickedOptions.length;\n  return /*#__PURE__*/React.createElement(Container, {\n    dataTest: dataTest,\n    className: className,\n    height: height\n  }, /*#__PURE__*/React.createElement(LeftSide, {\n    dataTest: \"\".concat(dataTest, \"-leftside\"),\n    width: optionsWidth\n  }, (leftHeader || filterable) && /*#__PURE__*/React.createElement(LeftHeader, {\n    dataTest: \"\".concat(dataTest, \"-leftheader\")\n  }, leftHeader, filterable && !hideFilterInput && /*#__PURE__*/React.createElement(Filter, {\n    label: filterLabel,\n    placeholder: filterPlaceholder,\n    dataTest: \"\".concat(dataTest, \"-filter\"),\n    filter: actualFilter,\n    onChange: onFilterChange ? onFilterChange : _ref4 => {\n      let {\n        value\n      } = _ref4;\n      return setInternalFilter(value);\n    }\n  })), /*#__PURE__*/React.createElement(OptionsContainer, {\n    dataTest: \"\".concat(dataTest, \"-sourceoptions\"),\n    emptyComponent: sourceEmptyPlaceholder,\n    getOptionClickHandlers: getOptionClickHandlers,\n    highlightedOptions: highlightedSourceOptions,\n    loading: loading,\n    options: sourceOptions,\n    renderOption: renderOption,\n    selectionHandler: selectSingleOption,\n    toggleHighlightedOption: toggleHighlightedSourceOption,\n    onEndReached: onEndReached\n  }), leftFooter && /*#__PURE__*/React.createElement(LeftFooter, {\n    dataTest: \"\".concat(dataTest, \"-leftfooter\")\n  }, leftFooter)), /*#__PURE__*/React.createElement(Actions, {\n    dataTest: \"\".concat(dataTest, \"-actions\")\n  }, maxSelections === Infinity && /*#__PURE__*/React.createElement(AddAll, {\n    label: addAllText,\n    dataTest: \"\".concat(dataTest, \"-actions-addall\"),\n    disabled: isAddAllDisabled,\n    onClick: () => addAllSelectableSourceOptions({\n      sourceOptions,\n      selected,\n      onChange,\n      setHighlightedSourceOptions\n    })\n  }), /*#__PURE__*/React.createElement(AddIndividual, {\n    label: addIndividualText,\n    dataTest: \"\".concat(dataTest, \"-actions-addindividual\"),\n    disabled: isAddIndividualDisabled,\n    onClick: () => addIndividualSourceOptions({\n      filterable,\n      sourceOptions,\n      highlightedSourceOptions,\n      selected,\n      maxSelections,\n      onChange,\n      setHighlightedSourceOptions\n    })\n  }), maxSelections === Infinity && /*#__PURE__*/React.createElement(RemoveAll, {\n    label: removeAllText,\n    dataTest: \"\".concat(dataTest, \"-actions-removeall\"),\n    disabled: isRemoveAllDisabled,\n    onClick: () => removeAllPickedOptions({\n      setHighlightedPickedOptions,\n      onChange\n    })\n  }), /*#__PURE__*/React.createElement(RemoveIndividual, {\n    label: removeIndividualText,\n    dataTest: \"\".concat(dataTest, \"-actions-removeindividual\"),\n    disabled: isRemoveIndividualDisabled,\n    onClick: () => removeIndividualPickedOptions({\n      filterablePicked,\n      pickedOptions,\n      highlightedPickedOptions,\n      onChange,\n      selected,\n      setHighlightedPickedOptions\n    })\n  })), /*#__PURE__*/React.createElement(RightSide, {\n    dataTest: \"\".concat(dataTest, \"-rightside\"),\n    width: selectedWidth\n  }, (rightHeader || filterablePicked) && /*#__PURE__*/React.createElement(RightHeader, {\n    dataTest: \"\".concat(dataTest, \"-rightheader\")\n  }, rightHeader, filterablePicked && !hideFilterInputPicked && /*#__PURE__*/React.createElement(Filter, {\n    label: filterLabelPicked,\n    placeholder: filterPlaceholderPicked,\n    dataTest: \"\".concat(dataTest, \"-filter\"),\n    filter: actualFilterPicked,\n    onChange: onFilterChangePicked ? onFilterChangePicked : _ref5 => {\n      let {\n        value\n      } = _ref5;\n      return setInternalFilterPicked(value);\n    }\n  })), /*#__PURE__*/React.createElement(OptionsContainer, {\n    selected: true,\n    dataTest: \"\".concat(dataTest, \"-pickedoptions\"),\n    emptyComponent: selectedEmptyComponent,\n    getOptionClickHandlers: getOptionClickHandlers,\n    highlightedOptions: highlightedPickedOptions,\n    loading: loadingPicked,\n    options: pickedOptions,\n    renderOption: renderOption,\n    selectionHandler: deselectSingleOption,\n    toggleHighlightedOption: toggleHighlightedPickedOption,\n    onEndReached: onEndReachedPicked\n  }), (rightFooter || enableOrderChange) && /*#__PURE__*/React.createElement(RightFooter, {\n    dataTest: \"\".concat(dataTest, \"-rightfooter\")\n  }, enableOrderChange && /*#__PURE__*/React.createElement(ReorderingActions, {\n    dataTest: \"\".concat(dataTest, \"-reorderingactions\"),\n    disabledDown: isReorderDownDisabled({\n      highlightedPickedOptions,\n      selected\n    }),\n    disabledUp: isReorderUpDisabled({\n      highlightedPickedOptions,\n      selected\n    }),\n    onChangeUp: () => moveHighlightedPickedOptionUp({\n      selected,\n      highlightedPickedOptions,\n      onChange\n    }),\n    onChangeDown: () => {\n      moveHighlightedPickedOptionDown({\n        selected,\n        highlightedPickedOptions,\n        onChange\n      });\n    }\n  }), rightFooter)));\n};\n\nconst defaultRenderOption = option => /*#__PURE__*/React.createElement(TransferOption, option);\n\nTransfer.defaultProps = {\n  dataTest: 'dhis2-uicore-transfer',\n  height: '240px',\n  initialSearchTerm: '',\n  initialSearchTermPicked: '',\n  maxSelections: Infinity,\n  optionsWidth: '320px',\n  renderOption: defaultRenderOption,\n  selected: [],\n  selectedWidth: '320px',\n  filterCallback: defaultFilterCallback,\n  filterCallbackPicked: defaultFilterCallback\n};\nTransfer.propTypes = {\n  options: PropTypes.arrayOf(PropTypes.shape({\n    label: PropTypes.string.isRequired,\n    value: PropTypes.string.isRequired,\n    disabled: PropTypes.bool\n  })).isRequired,\n  onChange: PropTypes.func.isRequired,\n  addAllText: PropTypes.string,\n  addIndividualText: PropTypes.string,\n  className: PropTypes.string,\n  dataTest: PropTypes.string,\n  disabled: PropTypes.bool,\n  enableOrderChange: PropTypes.bool,\n  filterCallback: PropTypes.func,\n  filterCallbackPicked: PropTypes.func,\n  filterLabel: PropTypes.string,\n  filterLabelPicked: PropTypes.string,\n  filterPlaceholder: PropTypes.string,\n  filterPlaceholderPicked: PropTypes.string,\n  filterable: PropTypes.bool,\n  filterablePicked: PropTypes.bool,\n  height: PropTypes.string,\n  hideFilterInput: PropTypes.bool,\n  hideFilterInputPicked: PropTypes.bool,\n  initialSearchTerm: PropTypes.string,\n  initialSearchTermPicked: PropTypes.string,\n  leftFooter: PropTypes.node,\n  leftHeader: PropTypes.node,\n  loading: PropTypes.bool,\n  loadingPicked: PropTypes.bool,\n  maxSelections: PropTypes.oneOf([1, Infinity]),\n  optionsWidth: PropTypes.string,\n  removeAllText: PropTypes.string,\n  removeIndividualText: PropTypes.string,\n  renderOption: PropTypes.func,\n  rightFooter: PropTypes.node,\n  rightHeader: PropTypes.node,\n  searchTerm: PropTypes.string,\n  searchTermPicked: PropTypes.string,\n  selected: PropTypes.arrayOf(PropTypes.string),\n  selectedEmptyComponent: PropTypes.node,\n  selectedWidth: PropTypes.string,\n  sourceEmptyPlaceholder: PropTypes.node,\n  onEndReached: PropTypes.func,\n  onEndReachedPicked: PropTypes.func,\n  onFilterChange: PropTypes.func,\n  onFilterChangePicked: PropTypes.func\n};","/**\n * @param {Object} args\n * @param {number} args.maxSelections\n * @param {string[]} args.selected\n * @param {Function} args.onChange\n * @param {Function} args.setHighlightedSourceOptions\n * @param {Function} args.setHighlightedPickedOptions\n * @returns void\n */\nexport const createDoubleClickHandlers = _ref => {\n  let {\n    maxSelections,\n    onChange,\n    selected,\n    setHighlightedPickedOptions,\n    setHighlightedSourceOptions\n  } = _ref;\n\n  const selectSingleOption = _ref2 => {\n    let {\n      value\n    } = _ref2;\n    const newSelected = selected.includes(value) ? selected : [...selected, value];\n    setHighlightedSourceOptions([]);\n    onChange({\n      selected: newSelected.slice(-1 * maxSelections)\n    });\n  };\n\n  const deselectSingleOption = _ref3 => {\n    let {\n      value\n    } = _ref3;\n    const newSelected = selected.filter(curSelected => curSelected !== value);\n    setHighlightedPickedOptions([]);\n    onChange({\n      selected: newSelected\n    });\n  };\n\n  return {\n    selectSingleOption,\n    deselectSingleOption\n  };\n};","/**\n * @param {Object} args\n * @param {Object[]} args.sourceOptions\n * @param {string[]} args.selected\n * @param {Function} args.onChange\n * @param {Function} arg.setHighlightedSourceOptions\n * @returns {void}\n */\nexport const addAllSelectableSourceOptions = _ref => {\n  let {\n    sourceOptions,\n    onChange,\n    selected,\n    setHighlightedSourceOptions\n  } = _ref;\n  const enabledSourceOptions = sourceOptions.filter(_ref2 => {\n    let {\n      disabled\n    } = _ref2;\n    return !disabled;\n  });\n  const newSelected = enabledSourceOptions.reduce((accumulatedSelected, enabledSourceOption) => [...accumulatedSelected, enabledSourceOption.value], selected);\n  setHighlightedSourceOptions([]); // If we ever allow maxSelection to be any value\n  // other than 1 and Infinity, we need to think\n  // about how this should behave:\n  //\n  // Either we hide this button when it's not \"Infinity\",\n  // or we have to decide whether we want to take the first\n  // nth options or the last\n\n  onChange({\n    selected: newSelected\n  });\n};","/**\n * @param {Object} args\n * @param {bool} args.filterable\n * @param {Object[]} args.sourceOptions\n * @param {string[]} args.highlightedSourceOptions\n * @param {string[]} args.selected\n * @param {Function} args.onChange\n * @param {Function} args.setHighlightedSourceOptions\n * @returns void\n */\nexport const addIndividualSourceOptions = _ref => {\n  let {\n    filterable,\n    sourceOptions,\n    highlightedSourceOptions,\n    maxSelections,\n    onChange,\n    selected,\n    setHighlightedSourceOptions\n  } = _ref;\n\n  /**\n   * Creates a subset of the highlighted options to reflect a changed\n   * filter value in case previously highlighted options are now\n   * hidden.\n   *\n   * This enables us to keep items highlighted while searching for\n   * a particular one.\n   *\n   * With this subset we only select the subset when the user\n   * clicks the \"add individuals\" button\n   */\n  const filteredHighlightedSourceOptions = filterable ? highlightedSourceOptions.filter(value => sourceOptions.find(filteredOption => filteredOption.value === value)) : highlightedSourceOptions;\n  const newSelected = filteredHighlightedSourceOptions.reduce((accumulatedSelected, value) => [...accumulatedSelected, filteredHighlightedSourceOptions.find(filteredHighlightedSourceOption => filteredHighlightedSourceOption === value)], selected);\n  setHighlightedSourceOptions([]);\n  /**\n   * This will extract from the end, hence the \"-1 *\"\n   * As the \"newest\" additions are always at the end of the array,\n   * it's safe to just take the last nth (depending on maxSelection)\n   * to always get the right ones\n   */\n\n  onChange({\n    selected: newSelected.slice(-1 * maxSelections)\n  });\n};","/**\n * @param {Object} args\n * @param {Function} args.setHighlightedPickedOptions\n * @param {Function} args.onChange\n * @returns {void}\n */\nexport const removeAllPickedOptions = _ref => {\n  let {\n    setHighlightedPickedOptions,\n    onChange\n  } = _ref;\n  setHighlightedPickedOptions([]);\n  onChange({\n    selected: []\n  });\n};","/**\n * @param {Object} args\n * @param {string[]} args.highlightedPickedOptions\n * @param {string[]} args.selected\n * @param {Function} args.setHighlightedPickedOptions\n * @param {Function} args.onChange\n * @returns {void}\n */\nexport const removeIndividualPickedOptions = _ref => {\n  let {\n    filterablePicked,\n    pickedOptions,\n    highlightedPickedOptions,\n    onChange,\n    selected,\n    setHighlightedPickedOptions\n  } = _ref;\n\n  /**\n   * Creates a subset of the highlighted options to reflect a changed\n   * filter value in case previously highlighted options are now\n   * hidden.\n   *\n   * This enables us to keep items highlighted while searching for\n   * a particular one.\n   *\n   * With this subset we only select the subset when the user\n   * clicks the \"add individuals\" button\n   */\n  const filteredHighlightedPickedOptions = filterablePicked ? highlightedPickedOptions.filter(value => pickedOptions.find(filteredOption => filteredOption.value === value)) : highlightedPickedOptions;\n  const newSelected = selected.filter(selectedOption => !filteredHighlightedPickedOptions.includes(selectedOption));\n  setHighlightedPickedOptions([]);\n  /**\n   * as the maximum amount of selected items\n   * is already restricted through the selection mechanism,\n   * there's no need to handle `maxSelection` here\n   */\n\n  onChange({\n    selected: newSelected\n  });\n};","/**\n * @param {Object} args\n * @param {string[]} args.selected\n * @param {string[]} args.highlightedPickedOptions\n * @param {Function} args.onChange\n * @returns {void}\n */\nexport const moveHighlightedPickedOptionUp = _ref => {\n  let {\n    selected,\n    highlightedPickedOptions,\n    onChange\n  } = _ref;\n  const optionIndex = selected.findIndex(selectedOption => selectedOption === highlightedPickedOptions[0]); // Can't move up option at index 0 or non-existing option\n\n  if (optionIndex < 1) {\n    return;\n  } // swap with previous item\n\n\n  const reordered = [...selected.slice(0, optionIndex - 1), selected[optionIndex], selected[optionIndex - 1], ...selected.slice(optionIndex + 1)];\n  onChange({\n    selected: reordered\n  });\n};","/**\n * @param {Object} args\n * @param {string[]} args.selected\n * @param {string[]} args.highlightedPickedOptions\n * @param {Function} args.onChange\n * @returns {void}\n */\nexport const moveHighlightedPickedOptionDown = _ref => {\n  let {\n    selected,\n    highlightedPickedOptions,\n    onChange\n  } = _ref;\n  const optionIndex = selected.findIndex(selectedOption => selectedOption === highlightedPickedOptions[0]); // Can't move down last or non-existing option\n\n  if (optionIndex === -1 || optionIndex > selected.length - 2) {\n    return;\n  } // swap with next item\n\n\n  const reordered = [...selected.slice(0, optionIndex), selected[optionIndex + 1], selected[optionIndex], ...selected.slice(optionIndex + 2)];\n  onChange({\n    selected: reordered\n  });\n};","import propTypes from 'prop-types';\n\nconst isEmpty = value => typeof value === 'undefined' || value === null || value === '';\n\nconst requiredIfFactory = (condition, propType, isRequired) => (props, propName, componentName) => {\n  const propValue = props[propName]; // Usage errors\n\n  if (isRequired) {\n    return new Error(`Property \\`${propName}\\` on component \\`${componentName}\\` is using the \\`requiredIf\\` prop-validator combined with \\`.isRequired\\`. This is an invalid combination.`);\n  }\n\n  if (typeof condition !== 'function') {\n    return new Error(`The \\`condition\\` argument passed to the \\`requiredIf\\` prop-validator was not a function.`);\n  }\n\n  if (typeof propType !== 'function') {\n    return new Error(`The \\`propType\\` argument passed to the \\`requiredIf\\` prop-validator was not a function.`);\n  } // Validation errors\n\n\n  if (condition(props) && isEmpty(propValue)) {\n    return new Error(`Invalid prop \\`${propName}\\` supplied to \\`${componentName}\\`, this prop is conditionally required but has value \\`${propValue}\\`. The condition that made this prop required is: \\`${condition.toString()}\\`.`);\n  } // This is how to programatically invoke a propTypes check\n  // https://github.com/facebook/prop-types#proptypescheckproptypes\n\n\n  propTypes.checkPropTypes({\n    [propName]: propType\n  }, props, 'prop', componentName);\n  return null;\n};\n/**\n * Ensure the prop has a value (i.e. treat it as required) when a given sibling prop\n * also has a value, and ensure the prop is of the correct prop-type\n * @param {function} siblingPropName - The name of the sibling prop\n * @return {Error|null} Returns null if all conditions are met, or an error\n * @example\n * import React from 'react'\n * import { requiredIf } from '@dhis2/prop-types'\n *\n * const Test = ({ someBool, someString }) => (\n *     <div>\n *         <h1>someBool: {someBool ? 'true' : 'false'}</h1>\n *         <h1>someString: {someString}</h1>\n *     </div>\n * )\n * Test.propTypes = {\n *     someBool: propTypes.bool,\n *     someString: requiredIf(props => props.someBool, propTypes.string),\n * }\n */\n\n\nexport function requiredIf(condition, propType) {\n  const fn = requiredIfFactory(condition, propType, false);\n  fn.isRequired = requiredIfFactory(condition, propType, true);\n  return fn;\n}","import PropTypes from 'prop-types';\nimport * as React from 'react';\n\nfunction SvgChevronDown16(_ref) {\n  let {\n    color,\n    dataTest\n  } = _ref;\n  return /*#__PURE__*/React.createElement(\"svg\", {\n    height: 16,\n    viewBox: \"0 0 16 16\",\n    width: 16,\n    xmlns: \"http://www.w3.org/2000/svg\",\n    color: color,\n    \"data-test\": dataTest\n  }, /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M4.146 6.146a.5.5 0 01.638-.057l.07.057L8 9.293l3.146-3.147a.5.5 0 01.638-.057l.07.057a.5.5 0 01.057.638l-.057.07-3.5 3.5a.5.5 0 01-.638.057l-.07-.057-3.5-3.5a.5.5 0 010-.708z\",\n    fill: \"currentColor\"\n  }));\n}\n\nSvgChevronDown16.propTypes = {\n  color: PropTypes.string,\n  dataTest: PropTypes.string\n};\nexport default SvgChevronDown16;","// vim:ts=4:sts=4:sw=4:\n/*!\n *\n * Copyright 2009-2017 Kris Kowal under the terms of the MIT\n * license found at https://github.com/kriskowal/q/blob/v1/LICENSE\n *\n * With parts by Tyler Close\n * Copyright 2007-2009 Tyler Close under the terms of the MIT X license found\n * at http://www.opensource.org/licenses/mit-license.html\n * Forked at ref_send.js version: 2009-05-11\n *\n * With parts by Mark Miller\n * Copyright (C) 2011 Google Inc.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n * http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n *\n */\n\n(function (definition) {\n    \"use strict\";\n\n    // This file will function properly as a <script> tag, or a module\n    // using CommonJS and NodeJS or RequireJS module formats.  In\n    // Common/Node/RequireJS, the module exports the Q API and when\n    // executed as a simple <script>, it creates a Q global instead.\n\n    // Montage Require\n    if (typeof bootstrap === \"function\") {\n        bootstrap(\"promise\", definition);\n\n    // CommonJS\n    } else if (typeof exports === \"object\" && typeof module === \"object\") {\n        module.exports = definition();\n\n    // RequireJS\n    } else if (typeof define === \"function\" && define.amd) {\n        define(definition);\n\n    // SES (Secure EcmaScript)\n    } else if (typeof ses !== \"undefined\") {\n        if (!ses.ok()) {\n            return;\n        } else {\n            ses.makeQ = definition;\n        }\n\n    // <script>\n    } else if (typeof window !== \"undefined\" || typeof self !== \"undefined\") {\n        // Prefer window over self for add-on scripts. Use self for\n        // non-windowed contexts.\n        var global = typeof window !== \"undefined\" ? window : self;\n\n        // Get the `window` object, save the previous Q global\n        // and initialize Q as a global.\n        var previousQ = global.Q;\n        global.Q = definition();\n\n        // Add a noConflict function so Q can be removed from the\n        // global namespace.\n        global.Q.noConflict = function () {\n            global.Q = previousQ;\n            return this;\n        };\n\n    } else {\n        throw new Error(\"This environment was not anticipated by Q. Please file a bug.\");\n    }\n\n})(function () {\n\"use strict\";\n\nvar hasStacks = false;\ntry {\n    throw new Error();\n} catch (e) {\n    hasStacks = !!e.stack;\n}\n\n// All code after this point will be filtered from stack traces reported\n// by Q.\nvar qStartingLine = captureLine();\nvar qFileName;\n\n// shims\n\n// used for fallback in \"allResolved\"\nvar noop = function () {};\n\n// Use the fastest possible means to execute a task in a future turn\n// of the event loop.\nvar nextTick =(function () {\n    // linked list of tasks (single, with head node)\n    var head = {task: void 0, next: null};\n    var tail = head;\n    var flushing = false;\n    var requestTick = void 0;\n    var isNodeJS = false;\n    // queue for late tasks, used by unhandled rejection tracking\n    var laterQueue = [];\n\n    function flush() {\n        /* jshint loopfunc: true */\n        var task, domain;\n\n        while (head.next) {\n            head = head.next;\n            task = head.task;\n            head.task = void 0;\n            domain = head.domain;\n\n            if (domain) {\n                head.domain = void 0;\n                domain.enter();\n            }\n            runSingle(task, domain);\n\n        }\n        while (laterQueue.length) {\n            task = laterQueue.pop();\n            runSingle(task);\n        }\n        flushing = false;\n    }\n    // runs a single function in the async queue\n    function runSingle(task, domain) {\n        try {\n            task();\n\n        } catch (e) {\n            if (isNodeJS) {\n                // In node, uncaught exceptions are considered fatal errors.\n                // Re-throw them synchronously to interrupt flushing!\n\n                // Ensure continuation if the uncaught exception is suppressed\n                // listening \"uncaughtException\" events (as domains does).\n                // Continue in next event to avoid tick recursion.\n                if (domain) {\n                    domain.exit();\n                }\n                setTimeout(flush, 0);\n                if (domain) {\n                    domain.enter();\n                }\n\n                throw e;\n\n            } else {\n                // In browsers, uncaught exceptions are not fatal.\n                // Re-throw them asynchronously to avoid slow-downs.\n                setTimeout(function () {\n                    throw e;\n                }, 0);\n            }\n        }\n\n        if (domain) {\n            domain.exit();\n        }\n    }\n\n    nextTick = function (task) {\n        tail = tail.next = {\n            task: task,\n            domain: isNodeJS && process.domain,\n            next: null\n        };\n\n        if (!flushing) {\n            flushing = true;\n            requestTick();\n        }\n    };\n\n    if (typeof process === \"object\" &&\n        process.toString() === \"[object process]\" && process.nextTick) {\n        // Ensure Q is in a real Node environment, with a `process.nextTick`.\n        // To see through fake Node environments:\n        // * Mocha test runner - exposes a `process` global without a `nextTick`\n        // * Browserify - exposes a `process.nexTick` function that uses\n        //   `setTimeout`. In this case `setImmediate` is preferred because\n        //    it is faster. Browserify's `process.toString()` yields\n        //   \"[object Object]\", while in a real Node environment\n        //   `process.toString()` yields \"[object process]\".\n        isNodeJS = true;\n\n        requestTick = function () {\n            process.nextTick(flush);\n        };\n\n    } else if (typeof setImmediate === \"function\") {\n        // In IE10, Node.js 0.9+, or https://github.com/NobleJS/setImmediate\n        if (typeof window !== \"undefined\") {\n            requestTick = setImmediate.bind(window, flush);\n        } else {\n            requestTick = function () {\n                setImmediate(flush);\n            };\n        }\n\n    } else if (typeof MessageChannel !== \"undefined\") {\n        // modern browsers\n        // http://www.nonblocking.io/2011/06/windownexttick.html\n        var channel = new MessageChannel();\n        // At least Safari Version 6.0.5 (8536.30.1) intermittently cannot create\n        // working message ports the first time a page loads.\n        channel.port1.onmessage = function () {\n            requestTick = requestPortTick;\n            channel.port1.onmessage = flush;\n            flush();\n        };\n        var requestPortTick = function () {\n            // Opera requires us to provide a message payload, regardless of\n            // whether we use it.\n            channel.port2.postMessage(0);\n        };\n        requestTick = function () {\n            setTimeout(flush, 0);\n            requestPortTick();\n        };\n\n    } else {\n        // old browsers\n        requestTick = function () {\n            setTimeout(flush, 0);\n        };\n    }\n    // runs a task after all other tasks have been run\n    // this is useful for unhandled rejection tracking that needs to happen\n    // after all `then`d tasks have been run.\n    nextTick.runAfter = function (task) {\n        laterQueue.push(task);\n        if (!flushing) {\n            flushing = true;\n            requestTick();\n        }\n    };\n    return nextTick;\n})();\n\n// Attempt to make generics safe in the face of downstream\n// modifications.\n// There is no situation where this is necessary.\n// If you need a security guarantee, these primordials need to be\n// deeply frozen anyway, and if you don’t need a security guarantee,\n// this is just plain paranoid.\n// However, this **might** have the nice side-effect of reducing the size of\n// the minified code by reducing x.call() to merely x()\n// See Mark Miller’s explanation of what this does.\n// http://wiki.ecmascript.org/doku.php?id=conventions:safe_meta_programming\nvar call = Function.call;\nfunction uncurryThis(f) {\n    return function () {\n        return call.apply(f, arguments);\n    };\n}\n// This is equivalent, but slower:\n// uncurryThis = Function_bind.bind(Function_bind.call);\n// http://jsperf.com/uncurrythis\n\nvar array_slice = uncurryThis(Array.prototype.slice);\n\nvar array_reduce = uncurryThis(\n    Array.prototype.reduce || function (callback, basis) {\n        var index = 0,\n            length = this.length;\n        // concerning the initial value, if one is not provided\n        if (arguments.length === 1) {\n            // seek to the first value in the array, accounting\n            // for the possibility that is is a sparse array\n            do {\n                if (index in this) {\n                    basis = this[index++];\n                    break;\n                }\n                if (++index >= length) {\n                    throw new TypeError();\n                }\n            } while (1);\n        }\n        // reduce\n        for (; index < length; index++) {\n            // account for the possibility that the array is sparse\n            if (index in this) {\n                basis = callback(basis, this[index], index);\n            }\n        }\n        return basis;\n    }\n);\n\nvar array_indexOf = uncurryThis(\n    Array.prototype.indexOf || function (value) {\n        // not a very good shim, but good enough for our one use of it\n        for (var i = 0; i < this.length; i++) {\n            if (this[i] === value) {\n                return i;\n            }\n        }\n        return -1;\n    }\n);\n\nvar array_map = uncurryThis(\n    Array.prototype.map || function (callback, thisp) {\n        var self = this;\n        var collect = [];\n        array_reduce(self, function (undefined, value, index) {\n            collect.push(callback.call(thisp, value, index, self));\n        }, void 0);\n        return collect;\n    }\n);\n\nvar object_create = Object.create || function (prototype) {\n    function Type() { }\n    Type.prototype = prototype;\n    return new Type();\n};\n\nvar object_defineProperty = Object.defineProperty || function (obj, prop, descriptor) {\n    obj[prop] = descriptor.value;\n    return obj;\n};\n\nvar object_hasOwnProperty = uncurryThis(Object.prototype.hasOwnProperty);\n\nvar object_keys = Object.keys || function (object) {\n    var keys = [];\n    for (var key in object) {\n        if (object_hasOwnProperty(object, key)) {\n            keys.push(key);\n        }\n    }\n    return keys;\n};\n\nvar object_toString = uncurryThis(Object.prototype.toString);\n\nfunction isObject(value) {\n    return value === Object(value);\n}\n\n// generator related shims\n\n// FIXME: Remove this function once ES6 generators are in SpiderMonkey.\nfunction isStopIteration(exception) {\n    return (\n        object_toString(exception) === \"[object StopIteration]\" ||\n        exception instanceof QReturnValue\n    );\n}\n\n// FIXME: Remove this helper and Q.return once ES6 generators are in\n// SpiderMonkey.\nvar QReturnValue;\nif (typeof ReturnValue !== \"undefined\") {\n    QReturnValue = ReturnValue;\n} else {\n    QReturnValue = function (value) {\n        this.value = value;\n    };\n}\n\n// long stack traces\n\nvar STACK_JUMP_SEPARATOR = \"From previous event:\";\n\nfunction makeStackTraceLong(error, promise) {\n    // If possible, transform the error stack trace by removing Node and Q\n    // cruft, then concatenating with the stack trace of `promise`. See #57.\n    if (hasStacks &&\n        promise.stack &&\n        typeof error === \"object\" &&\n        error !== null &&\n        error.stack\n    ) {\n        var stacks = [];\n        for (var p = promise; !!p; p = p.source) {\n            if (p.stack && (!error.__minimumStackCounter__ || error.__minimumStackCounter__ > p.stackCounter)) {\n                object_defineProperty(error, \"__minimumStackCounter__\", {value: p.stackCounter, configurable: true});\n                stacks.unshift(p.stack);\n            }\n        }\n        stacks.unshift(error.stack);\n\n        var concatedStacks = stacks.join(\"\\n\" + STACK_JUMP_SEPARATOR + \"\\n\");\n        var stack = filterStackString(concatedStacks);\n        object_defineProperty(error, \"stack\", {value: stack, configurable: true});\n    }\n}\n\nfunction filterStackString(stackString) {\n    var lines = stackString.split(\"\\n\");\n    var desiredLines = [];\n    for (var i = 0; i < lines.length; ++i) {\n        var line = lines[i];\n\n        if (!isInternalFrame(line) && !isNodeFrame(line) && line) {\n            desiredLines.push(line);\n        }\n    }\n    return desiredLines.join(\"\\n\");\n}\n\nfunction isNodeFrame(stackLine) {\n    return stackLine.indexOf(\"(module.js:\") !== -1 ||\n           stackLine.indexOf(\"(node.js:\") !== -1;\n}\n\nfunction getFileNameAndLineNumber(stackLine) {\n    // Named functions: \"at functionName (filename:lineNumber:columnNumber)\"\n    // In IE10 function name can have spaces (\"Anonymous function\") O_o\n    var attempt1 = /at .+ \\((.+):(\\d+):(?:\\d+)\\)$/.exec(stackLine);\n    if (attempt1) {\n        return [attempt1[1], Number(attempt1[2])];\n    }\n\n    // Anonymous functions: \"at filename:lineNumber:columnNumber\"\n    var attempt2 = /at ([^ ]+):(\\d+):(?:\\d+)$/.exec(stackLine);\n    if (attempt2) {\n        return [attempt2[1], Number(attempt2[2])];\n    }\n\n    // Firefox style: \"function@filename:lineNumber or @filename:lineNumber\"\n    var attempt3 = /.*@(.+):(\\d+)$/.exec(stackLine);\n    if (attempt3) {\n        return [attempt3[1], Number(attempt3[2])];\n    }\n}\n\nfunction isInternalFrame(stackLine) {\n    var fileNameAndLineNumber = getFileNameAndLineNumber(stackLine);\n\n    if (!fileNameAndLineNumber) {\n        return false;\n    }\n\n    var fileName = fileNameAndLineNumber[0];\n    var lineNumber = fileNameAndLineNumber[1];\n\n    return fileName === qFileName &&\n        lineNumber >= qStartingLine &&\n        lineNumber <= qEndingLine;\n}\n\n// discover own file name and line number range for filtering stack\n// traces\nfunction captureLine() {\n    if (!hasStacks) {\n        return;\n    }\n\n    try {\n        throw new Error();\n    } catch (e) {\n        var lines = e.stack.split(\"\\n\");\n        var firstLine = lines[0].indexOf(\"@\") > 0 ? lines[1] : lines[2];\n        var fileNameAndLineNumber = getFileNameAndLineNumber(firstLine);\n        if (!fileNameAndLineNumber) {\n            return;\n        }\n\n        qFileName = fileNameAndLineNumber[0];\n        return fileNameAndLineNumber[1];\n    }\n}\n\nfunction deprecate(callback, name, alternative) {\n    return function () {\n        if (typeof console !== \"undefined\" &&\n            typeof console.warn === \"function\") {\n            console.warn(name + \" is deprecated, use \" + alternative +\n                         \" instead.\", new Error(\"\").stack);\n        }\n        return callback.apply(callback, arguments);\n    };\n}\n\n// end of shims\n// beginning of real work\n\n/**\n * Constructs a promise for an immediate reference, passes promises through, or\n * coerces promises from different systems.\n * @param value immediate reference or promise\n */\nfunction Q(value) {\n    // If the object is already a Promise, return it directly.  This enables\n    // the resolve function to both be used to created references from objects,\n    // but to tolerably coerce non-promises to promises.\n    if (value instanceof Promise) {\n        return value;\n    }\n\n    // assimilate thenables\n    if (isPromiseAlike(value)) {\n        return coerce(value);\n    } else {\n        return fulfill(value);\n    }\n}\nQ.resolve = Q;\n\n/**\n * Performs a task in a future turn of the event loop.\n * @param {Function} task\n */\nQ.nextTick = nextTick;\n\n/**\n * Controls whether or not long stack traces will be on\n */\nQ.longStackSupport = false;\n\n/**\n * The counter is used to determine the stopping point for building\n * long stack traces. In makeStackTraceLong we walk backwards through\n * the linked list of promises, only stacks which were created before\n * the rejection are concatenated.\n */\nvar longStackCounter = 1;\n\n// enable long stacks if Q_DEBUG is set\nif (typeof process === \"object\" && process && process.env && process.env.Q_DEBUG) {\n    Q.longStackSupport = true;\n}\n\n/**\n * Constructs a {promise, resolve, reject} object.\n *\n * `resolve` is a callback to invoke with a more resolved value for the\n * promise. To fulfill the promise, invoke `resolve` with any value that is\n * not a thenable. To reject the promise, invoke `resolve` with a rejected\n * thenable, or invoke `reject` with the reason directly. To resolve the\n * promise to another thenable, thus putting it in the same state, invoke\n * `resolve` with that other thenable.\n */\nQ.defer = defer;\nfunction defer() {\n    // if \"messages\" is an \"Array\", that indicates that the promise has not yet\n    // been resolved.  If it is \"undefined\", it has been resolved.  Each\n    // element of the messages array is itself an array of complete arguments to\n    // forward to the resolved promise.  We coerce the resolution value to a\n    // promise using the `resolve` function because it handles both fully\n    // non-thenable values and other thenables gracefully.\n    var messages = [], progressListeners = [], resolvedPromise;\n\n    var deferred = object_create(defer.prototype);\n    var promise = object_create(Promise.prototype);\n\n    promise.promiseDispatch = function (resolve, op, operands) {\n        var args = array_slice(arguments);\n        if (messages) {\n            messages.push(args);\n            if (op === \"when\" && operands[1]) { // progress operand\n                progressListeners.push(operands[1]);\n            }\n        } else {\n            Q.nextTick(function () {\n                resolvedPromise.promiseDispatch.apply(resolvedPromise, args);\n            });\n        }\n    };\n\n    // XXX deprecated\n    promise.valueOf = function () {\n        if (messages) {\n            return promise;\n        }\n        var nearerValue = nearer(resolvedPromise);\n        if (isPromise(nearerValue)) {\n            resolvedPromise = nearerValue; // shorten chain\n        }\n        return nearerValue;\n    };\n\n    promise.inspect = function () {\n        if (!resolvedPromise) {\n            return { state: \"pending\" };\n        }\n        return resolvedPromise.inspect();\n    };\n\n    if (Q.longStackSupport && hasStacks) {\n        try {\n            throw new Error();\n        } catch (e) {\n            // NOTE: don't try to use `Error.captureStackTrace` or transfer the\n            // accessor around; that causes memory leaks as per GH-111. Just\n            // reify the stack trace as a string ASAP.\n            //\n            // At the same time, cut off the first line; it's always just\n            // \"[object Promise]\\n\", as per the `toString`.\n            promise.stack = e.stack.substring(e.stack.indexOf(\"\\n\") + 1);\n            promise.stackCounter = longStackCounter++;\n        }\n    }\n\n    // NOTE: we do the checks for `resolvedPromise` in each method, instead of\n    // consolidating them into `become`, since otherwise we'd create new\n    // promises with the lines `become(whatever(value))`. See e.g. GH-252.\n\n    function become(newPromise) {\n        resolvedPromise = newPromise;\n\n        if (Q.longStackSupport && hasStacks) {\n            // Only hold a reference to the new promise if long stacks\n            // are enabled to reduce memory usage\n            promise.source = newPromise;\n        }\n\n        array_reduce(messages, function (undefined, message) {\n            Q.nextTick(function () {\n                newPromise.promiseDispatch.apply(newPromise, message);\n            });\n        }, void 0);\n\n        messages = void 0;\n        progressListeners = void 0;\n    }\n\n    deferred.promise = promise;\n    deferred.resolve = function (value) {\n        if (resolvedPromise) {\n            return;\n        }\n\n        become(Q(value));\n    };\n\n    deferred.fulfill = function (value) {\n        if (resolvedPromise) {\n            return;\n        }\n\n        become(fulfill(value));\n    };\n    deferred.reject = function (reason) {\n        if (resolvedPromise) {\n            return;\n        }\n\n        become(reject(reason));\n    };\n    deferred.notify = function (progress) {\n        if (resolvedPromise) {\n            return;\n        }\n\n        array_reduce(progressListeners, function (undefined, progressListener) {\n            Q.nextTick(function () {\n                progressListener(progress);\n            });\n        }, void 0);\n    };\n\n    return deferred;\n}\n\n/**\n * Creates a Node-style callback that will resolve or reject the deferred\n * promise.\n * @returns a nodeback\n */\ndefer.prototype.makeNodeResolver = function () {\n    var self = this;\n    return function (error, value) {\n        if (error) {\n            self.reject(error);\n        } else if (arguments.length > 2) {\n            self.resolve(array_slice(arguments, 1));\n        } else {\n            self.resolve(value);\n        }\n    };\n};\n\n/**\n * @param resolver {Function} a function that returns nothing and accepts\n * the resolve, reject, and notify functions for a deferred.\n * @returns a promise that may be resolved with the given resolve and reject\n * functions, or rejected by a thrown exception in resolver\n */\nQ.Promise = promise; // ES6\nQ.promise = promise;\nfunction promise(resolver) {\n    if (typeof resolver !== \"function\") {\n        throw new TypeError(\"resolver must be a function.\");\n    }\n    var deferred = defer();\n    try {\n        resolver(deferred.resolve, deferred.reject, deferred.notify);\n    } catch (reason) {\n        deferred.reject(reason);\n    }\n    return deferred.promise;\n}\n\npromise.race = race; // ES6\npromise.all = all; // ES6\npromise.reject = reject; // ES6\npromise.resolve = Q; // ES6\n\n// XXX experimental.  This method is a way to denote that a local value is\n// serializable and should be immediately dispatched to a remote upon request,\n// instead of passing a reference.\nQ.passByCopy = function (object) {\n    //freeze(object);\n    //passByCopies.set(object, true);\n    return object;\n};\n\nPromise.prototype.passByCopy = function () {\n    //freeze(object);\n    //passByCopies.set(object, true);\n    return this;\n};\n\n/**\n * If two promises eventually fulfill to the same value, promises that value,\n * but otherwise rejects.\n * @param x {Any*}\n * @param y {Any*}\n * @returns {Any*} a promise for x and y if they are the same, but a rejection\n * otherwise.\n *\n */\nQ.join = function (x, y) {\n    return Q(x).join(y);\n};\n\nPromise.prototype.join = function (that) {\n    return Q([this, that]).spread(function (x, y) {\n        if (x === y) {\n            // TODO: \"===\" should be Object.is or equiv\n            return x;\n        } else {\n            throw new Error(\"Q can't join: not the same: \" + x + \" \" + y);\n        }\n    });\n};\n\n/**\n * Returns a promise for the first of an array of promises to become settled.\n * @param answers {Array[Any*]} promises to race\n * @returns {Any*} the first promise to be settled\n */\nQ.race = race;\nfunction race(answerPs) {\n    return promise(function (resolve, reject) {\n        // Switch to this once we can assume at least ES5\n        // answerPs.forEach(function (answerP) {\n        //     Q(answerP).then(resolve, reject);\n        // });\n        // Use this in the meantime\n        for (var i = 0, len = answerPs.length; i < len; i++) {\n            Q(answerPs[i]).then(resolve, reject);\n        }\n    });\n}\n\nPromise.prototype.race = function () {\n    return this.then(Q.race);\n};\n\n/**\n * Constructs a Promise with a promise descriptor object and optional fallback\n * function.  The descriptor contains methods like when(rejected), get(name),\n * set(name, value), post(name, args), and delete(name), which all\n * return either a value, a promise for a value, or a rejection.  The fallback\n * accepts the operation name, a resolver, and any further arguments that would\n * have been forwarded to the appropriate method above had a method been\n * provided with the proper name.  The API makes no guarantees about the nature\n * of the returned object, apart from that it is usable whereever promises are\n * bought and sold.\n */\nQ.makePromise = Promise;\nfunction Promise(descriptor, fallback, inspect) {\n    if (fallback === void 0) {\n        fallback = function (op) {\n            return reject(new Error(\n                \"Promise does not support operation: \" + op\n            ));\n        };\n    }\n    if (inspect === void 0) {\n        inspect = function () {\n            return {state: \"unknown\"};\n        };\n    }\n\n    var promise = object_create(Promise.prototype);\n\n    promise.promiseDispatch = function (resolve, op, args) {\n        var result;\n        try {\n            if (descriptor[op]) {\n                result = descriptor[op].apply(promise, args);\n            } else {\n                result = fallback.call(promise, op, args);\n            }\n        } catch (exception) {\n            result = reject(exception);\n        }\n        if (resolve) {\n            resolve(result);\n        }\n    };\n\n    promise.inspect = inspect;\n\n    // XXX deprecated `valueOf` and `exception` support\n    if (inspect) {\n        var inspected = inspect();\n        if (inspected.state === \"rejected\") {\n            promise.exception = inspected.reason;\n        }\n\n        promise.valueOf = function () {\n            var inspected = inspect();\n            if (inspected.state === \"pending\" ||\n                inspected.state === \"rejected\") {\n                return promise;\n            }\n            return inspected.value;\n        };\n    }\n\n    return promise;\n}\n\nPromise.prototype.toString = function () {\n    return \"[object Promise]\";\n};\n\nPromise.prototype.then = function (fulfilled, rejected, progressed) {\n    var self = this;\n    var deferred = defer();\n    var done = false;   // ensure the untrusted promise makes at most a\n                        // single call to one of the callbacks\n\n    function _fulfilled(value) {\n        try {\n            return typeof fulfilled === \"function\" ? fulfilled(value) : value;\n        } catch (exception) {\n            return reject(exception);\n        }\n    }\n\n    function _rejected(exception) {\n        if (typeof rejected === \"function\") {\n            makeStackTraceLong(exception, self);\n            try {\n                return rejected(exception);\n            } catch (newException) {\n                return reject(newException);\n            }\n        }\n        return reject(exception);\n    }\n\n    function _progressed(value) {\n        return typeof progressed === \"function\" ? progressed(value) : value;\n    }\n\n    Q.nextTick(function () {\n        self.promiseDispatch(function (value) {\n            if (done) {\n                return;\n            }\n            done = true;\n\n            deferred.resolve(_fulfilled(value));\n        }, \"when\", [function (exception) {\n            if (done) {\n                return;\n            }\n            done = true;\n\n            deferred.resolve(_rejected(exception));\n        }]);\n    });\n\n    // Progress propagator need to be attached in the current tick.\n    self.promiseDispatch(void 0, \"when\", [void 0, function (value) {\n        var newValue;\n        var threw = false;\n        try {\n            newValue = _progressed(value);\n        } catch (e) {\n            threw = true;\n            if (Q.onerror) {\n                Q.onerror(e);\n            } else {\n                throw e;\n            }\n        }\n\n        if (!threw) {\n            deferred.notify(newValue);\n        }\n    }]);\n\n    return deferred.promise;\n};\n\nQ.tap = function (promise, callback) {\n    return Q(promise).tap(callback);\n};\n\n/**\n * Works almost like \"finally\", but not called for rejections.\n * Original resolution value is passed through callback unaffected.\n * Callback may return a promise that will be awaited for.\n * @param {Function} callback\n * @returns {Q.Promise}\n * @example\n * doSomething()\n *   .then(...)\n *   .tap(console.log)\n *   .then(...);\n */\nPromise.prototype.tap = function (callback) {\n    callback = Q(callback);\n\n    return this.then(function (value) {\n        return callback.fcall(value).thenResolve(value);\n    });\n};\n\n/**\n * Registers an observer on a promise.\n *\n * Guarantees:\n *\n * 1. that fulfilled and rejected will be called only once.\n * 2. that either the fulfilled callback or the rejected callback will be\n *    called, but not both.\n * 3. that fulfilled and rejected will not be called in this turn.\n *\n * @param value      promise or immediate reference to observe\n * @param fulfilled  function to be called with the fulfilled value\n * @param rejected   function to be called with the rejection exception\n * @param progressed function to be called on any progress notifications\n * @return promise for the return value from the invoked callback\n */\nQ.when = when;\nfunction when(value, fulfilled, rejected, progressed) {\n    return Q(value).then(fulfilled, rejected, progressed);\n}\n\nPromise.prototype.thenResolve = function (value) {\n    return this.then(function () { return value; });\n};\n\nQ.thenResolve = function (promise, value) {\n    return Q(promise).thenResolve(value);\n};\n\nPromise.prototype.thenReject = function (reason) {\n    return this.then(function () { throw reason; });\n};\n\nQ.thenReject = function (promise, reason) {\n    return Q(promise).thenReject(reason);\n};\n\n/**\n * If an object is not a promise, it is as \"near\" as possible.\n * If a promise is rejected, it is as \"near\" as possible too.\n * If it’s a fulfilled promise, the fulfillment value is nearer.\n * If it’s a deferred promise and the deferred has been resolved, the\n * resolution is \"nearer\".\n * @param object\n * @returns most resolved (nearest) form of the object\n */\n\n// XXX should we re-do this?\nQ.nearer = nearer;\nfunction nearer(value) {\n    if (isPromise(value)) {\n        var inspected = value.inspect();\n        if (inspected.state === \"fulfilled\") {\n            return inspected.value;\n        }\n    }\n    return value;\n}\n\n/**\n * @returns whether the given object is a promise.\n * Otherwise it is a fulfilled value.\n */\nQ.isPromise = isPromise;\nfunction isPromise(object) {\n    return object instanceof Promise;\n}\n\nQ.isPromiseAlike = isPromiseAlike;\nfunction isPromiseAlike(object) {\n    return isObject(object) && typeof object.then === \"function\";\n}\n\n/**\n * @returns whether the given object is a pending promise, meaning not\n * fulfilled or rejected.\n */\nQ.isPending = isPending;\nfunction isPending(object) {\n    return isPromise(object) && object.inspect().state === \"pending\";\n}\n\nPromise.prototype.isPending = function () {\n    return this.inspect().state === \"pending\";\n};\n\n/**\n * @returns whether the given object is a value or fulfilled\n * promise.\n */\nQ.isFulfilled = isFulfilled;\nfunction isFulfilled(object) {\n    return !isPromise(object) || object.inspect().state === \"fulfilled\";\n}\n\nPromise.prototype.isFulfilled = function () {\n    return this.inspect().state === \"fulfilled\";\n};\n\n/**\n * @returns whether the given object is a rejected promise.\n */\nQ.isRejected = isRejected;\nfunction isRejected(object) {\n    return isPromise(object) && object.inspect().state === \"rejected\";\n}\n\nPromise.prototype.isRejected = function () {\n    return this.inspect().state === \"rejected\";\n};\n\n//// BEGIN UNHANDLED REJECTION TRACKING\n\n// This promise library consumes exceptions thrown in handlers so they can be\n// handled by a subsequent promise.  The exceptions get added to this array when\n// they are created, and removed when they are handled.  Note that in ES6 or\n// shimmed environments, this would naturally be a `Set`.\nvar unhandledReasons = [];\nvar unhandledRejections = [];\nvar reportedUnhandledRejections = [];\nvar trackUnhandledRejections = true;\n\nfunction resetUnhandledRejections() {\n    unhandledReasons.length = 0;\n    unhandledRejections.length = 0;\n\n    if (!trackUnhandledRejections) {\n        trackUnhandledRejections = true;\n    }\n}\n\nfunction trackRejection(promise, reason) {\n    if (!trackUnhandledRejections) {\n        return;\n    }\n    if (typeof process === \"object\" && typeof process.emit === \"function\") {\n        Q.nextTick.runAfter(function () {\n            if (array_indexOf(unhandledRejections, promise) !== -1) {\n                process.emit(\"unhandledRejection\", reason, promise);\n                reportedUnhandledRejections.push(promise);\n            }\n        });\n    }\n\n    unhandledRejections.push(promise);\n    if (reason && typeof reason.stack !== \"undefined\") {\n        unhandledReasons.push(reason.stack);\n    } else {\n        unhandledReasons.push(\"(no stack) \" + reason);\n    }\n}\n\nfunction untrackRejection(promise) {\n    if (!trackUnhandledRejections) {\n        return;\n    }\n\n    var at = array_indexOf(unhandledRejections, promise);\n    if (at !== -1) {\n        if (typeof process === \"object\" && typeof process.emit === \"function\") {\n            Q.nextTick.runAfter(function () {\n                var atReport = array_indexOf(reportedUnhandledRejections, promise);\n                if (atReport !== -1) {\n                    process.emit(\"rejectionHandled\", unhandledReasons[at], promise);\n                    reportedUnhandledRejections.splice(atReport, 1);\n                }\n            });\n        }\n        unhandledRejections.splice(at, 1);\n        unhandledReasons.splice(at, 1);\n    }\n}\n\nQ.resetUnhandledRejections = resetUnhandledRejections;\n\nQ.getUnhandledReasons = function () {\n    // Make a copy so that consumers can't interfere with our internal state.\n    return unhandledReasons.slice();\n};\n\nQ.stopUnhandledRejectionTracking = function () {\n    resetUnhandledRejections();\n    trackUnhandledRejections = false;\n};\n\nresetUnhandledRejections();\n\n//// END UNHANDLED REJECTION TRACKING\n\n/**\n * Constructs a rejected promise.\n * @param reason value describing the failure\n */\nQ.reject = reject;\nfunction reject(reason) {\n    var rejection = Promise({\n        \"when\": function (rejected) {\n            // note that the error has been handled\n            if (rejected) {\n                untrackRejection(this);\n            }\n            return rejected ? rejected(reason) : this;\n        }\n    }, function fallback() {\n        return this;\n    }, function inspect() {\n        return { state: \"rejected\", reason: reason };\n    });\n\n    // Note that the reason has not been handled.\n    trackRejection(rejection, reason);\n\n    return rejection;\n}\n\n/**\n * Constructs a fulfilled promise for an immediate reference.\n * @param value immediate reference\n */\nQ.fulfill = fulfill;\nfunction fulfill(value) {\n    return Promise({\n        \"when\": function () {\n            return value;\n        },\n        \"get\": function (name) {\n            return value[name];\n        },\n        \"set\": function (name, rhs) {\n            value[name] = rhs;\n        },\n        \"delete\": function (name) {\n            delete value[name];\n        },\n        \"post\": function (name, args) {\n            // Mark Miller proposes that post with no name should apply a\n            // promised function.\n            if (name === null || name === void 0) {\n                return value.apply(void 0, args);\n            } else {\n                return value[name].apply(value, args);\n            }\n        },\n        \"apply\": function (thisp, args) {\n            return value.apply(thisp, args);\n        },\n        \"keys\": function () {\n            return object_keys(value);\n        }\n    }, void 0, function inspect() {\n        return { state: \"fulfilled\", value: value };\n    });\n}\n\n/**\n * Converts thenables to Q promises.\n * @param promise thenable promise\n * @returns a Q promise\n */\nfunction coerce(promise) {\n    var deferred = defer();\n    Q.nextTick(function () {\n        try {\n            promise.then(deferred.resolve, deferred.reject, deferred.notify);\n        } catch (exception) {\n            deferred.reject(exception);\n        }\n    });\n    return deferred.promise;\n}\n\n/**\n * Annotates an object such that it will never be\n * transferred away from this process over any promise\n * communication channel.\n * @param object\n * @returns promise a wrapping of that object that\n * additionally responds to the \"isDef\" message\n * without a rejection.\n */\nQ.master = master;\nfunction master(object) {\n    return Promise({\n        \"isDef\": function () {}\n    }, function fallback(op, args) {\n        return dispatch(object, op, args);\n    }, function () {\n        return Q(object).inspect();\n    });\n}\n\n/**\n * Spreads the values of a promised array of arguments into the\n * fulfillment callback.\n * @param fulfilled callback that receives variadic arguments from the\n * promised array\n * @param rejected callback that receives the exception if the promise\n * is rejected.\n * @returns a promise for the return value or thrown exception of\n * either callback.\n */\nQ.spread = spread;\nfunction spread(value, fulfilled, rejected) {\n    return Q(value).spread(fulfilled, rejected);\n}\n\nPromise.prototype.spread = function (fulfilled, rejected) {\n    return this.all().then(function (array) {\n        return fulfilled.apply(void 0, array);\n    }, rejected);\n};\n\n/**\n * The async function is a decorator for generator functions, turning\n * them into asynchronous generators.  Although generators are only part\n * of the newest ECMAScript 6 drafts, this code does not cause syntax\n * errors in older engines.  This code should continue to work and will\n * in fact improve over time as the language improves.\n *\n * ES6 generators are currently part of V8 version 3.19 with the\n * --harmony-generators runtime flag enabled.  SpiderMonkey has had them\n * for longer, but under an older Python-inspired form.  This function\n * works on both kinds of generators.\n *\n * Decorates a generator function such that:\n *  - it may yield promises\n *  - execution will continue when that promise is fulfilled\n *  - the value of the yield expression will be the fulfilled value\n *  - it returns a promise for the return value (when the generator\n *    stops iterating)\n *  - the decorated function returns a promise for the return value\n *    of the generator or the first rejected promise among those\n *    yielded.\n *  - if an error is thrown in the generator, it propagates through\n *    every following yield until it is caught, or until it escapes\n *    the generator function altogether, and is translated into a\n *    rejection for the promise returned by the decorated generator.\n */\nQ.async = async;\nfunction async(makeGenerator) {\n    return function () {\n        // when verb is \"send\", arg is a value\n        // when verb is \"throw\", arg is an exception\n        function continuer(verb, arg) {\n            var result;\n\n            // Until V8 3.19 / Chromium 29 is released, SpiderMonkey is the only\n            // engine that has a deployed base of browsers that support generators.\n            // However, SM's generators use the Python-inspired semantics of\n            // outdated ES6 drafts.  We would like to support ES6, but we'd also\n            // like to make it possible to use generators in deployed browsers, so\n            // we also support Python-style generators.  At some point we can remove\n            // this block.\n\n            if (typeof StopIteration === \"undefined\") {\n                // ES6 Generators\n                try {\n                    result = generator[verb](arg);\n                } catch (exception) {\n                    return reject(exception);\n                }\n                if (result.done) {\n                    return Q(result.value);\n                } else {\n                    return when(result.value, callback, errback);\n                }\n            } else {\n                // SpiderMonkey Generators\n                // FIXME: Remove this case when SM does ES6 generators.\n                try {\n                    result = generator[verb](arg);\n                } catch (exception) {\n                    if (isStopIteration(exception)) {\n                        return Q(exception.value);\n                    } else {\n                        return reject(exception);\n                    }\n                }\n                return when(result, callback, errback);\n            }\n        }\n        var generator = makeGenerator.apply(this, arguments);\n        var callback = continuer.bind(continuer, \"next\");\n        var errback = continuer.bind(continuer, \"throw\");\n        return callback();\n    };\n}\n\n/**\n * The spawn function is a small wrapper around async that immediately\n * calls the generator and also ends the promise chain, so that any\n * unhandled errors are thrown instead of forwarded to the error\n * handler. This is useful because it's extremely common to run\n * generators at the top-level to work with libraries.\n */\nQ.spawn = spawn;\nfunction spawn(makeGenerator) {\n    Q.done(Q.async(makeGenerator)());\n}\n\n// FIXME: Remove this interface once ES6 generators are in SpiderMonkey.\n/**\n * Throws a ReturnValue exception to stop an asynchronous generator.\n *\n * This interface is a stop-gap measure to support generator return\n * values in older Firefox/SpiderMonkey.  In browsers that support ES6\n * generators like Chromium 29, just use \"return\" in your generator\n * functions.\n *\n * @param value the return value for the surrounding generator\n * @throws ReturnValue exception with the value.\n * @example\n * // ES6 style\n * Q.async(function* () {\n *      var foo = yield getFooPromise();\n *      var bar = yield getBarPromise();\n *      return foo + bar;\n * })\n * // Older SpiderMonkey style\n * Q.async(function () {\n *      var foo = yield getFooPromise();\n *      var bar = yield getBarPromise();\n *      Q.return(foo + bar);\n * })\n */\nQ[\"return\"] = _return;\nfunction _return(value) {\n    throw new QReturnValue(value);\n}\n\n/**\n * The promised function decorator ensures that any promise arguments\n * are settled and passed as values (`this` is also settled and passed\n * as a value).  It will also ensure that the result of a function is\n * always a promise.\n *\n * @example\n * var add = Q.promised(function (a, b) {\n *     return a + b;\n * });\n * add(Q(a), Q(B));\n *\n * @param {function} callback The function to decorate\n * @returns {function} a function that has been decorated.\n */\nQ.promised = promised;\nfunction promised(callback) {\n    return function () {\n        return spread([this, all(arguments)], function (self, args) {\n            return callback.apply(self, args);\n        });\n    };\n}\n\n/**\n * sends a message to a value in a future turn\n * @param object* the recipient\n * @param op the name of the message operation, e.g., \"when\",\n * @param args further arguments to be forwarded to the operation\n * @returns result {Promise} a promise for the result of the operation\n */\nQ.dispatch = dispatch;\nfunction dispatch(object, op, args) {\n    return Q(object).dispatch(op, args);\n}\n\nPromise.prototype.dispatch = function (op, args) {\n    var self = this;\n    var deferred = defer();\n    Q.nextTick(function () {\n        self.promiseDispatch(deferred.resolve, op, args);\n    });\n    return deferred.promise;\n};\n\n/**\n * Gets the value of a property in a future turn.\n * @param object    promise or immediate reference for target object\n * @param name      name of property to get\n * @return promise for the property value\n */\nQ.get = function (object, key) {\n    return Q(object).dispatch(\"get\", [key]);\n};\n\nPromise.prototype.get = function (key) {\n    return this.dispatch(\"get\", [key]);\n};\n\n/**\n * Sets the value of a property in a future turn.\n * @param object    promise or immediate reference for object object\n * @param name      name of property to set\n * @param value     new value of property\n * @return promise for the return value\n */\nQ.set = function (object, key, value) {\n    return Q(object).dispatch(\"set\", [key, value]);\n};\n\nPromise.prototype.set = function (key, value) {\n    return this.dispatch(\"set\", [key, value]);\n};\n\n/**\n * Deletes a property in a future turn.\n * @param object    promise or immediate reference for target object\n * @param name      name of property to delete\n * @return promise for the return value\n */\nQ.del = // XXX legacy\nQ[\"delete\"] = function (object, key) {\n    return Q(object).dispatch(\"delete\", [key]);\n};\n\nPromise.prototype.del = // XXX legacy\nPromise.prototype[\"delete\"] = function (key) {\n    return this.dispatch(\"delete\", [key]);\n};\n\n/**\n * Invokes a method in a future turn.\n * @param object    promise or immediate reference for target object\n * @param name      name of method to invoke\n * @param value     a value to post, typically an array of\n *                  invocation arguments for promises that\n *                  are ultimately backed with `resolve` values,\n *                  as opposed to those backed with URLs\n *                  wherein the posted value can be any\n *                  JSON serializable object.\n * @return promise for the return value\n */\n// bound locally because it is used by other methods\nQ.mapply = // XXX As proposed by \"Redsandro\"\nQ.post = function (object, name, args) {\n    return Q(object).dispatch(\"post\", [name, args]);\n};\n\nPromise.prototype.mapply = // XXX As proposed by \"Redsandro\"\nPromise.prototype.post = function (name, args) {\n    return this.dispatch(\"post\", [name, args]);\n};\n\n/**\n * Invokes a method in a future turn.\n * @param object    promise or immediate reference for target object\n * @param name      name of method to invoke\n * @param ...args   array of invocation arguments\n * @return promise for the return value\n */\nQ.send = // XXX Mark Miller's proposed parlance\nQ.mcall = // XXX As proposed by \"Redsandro\"\nQ.invoke = function (object, name /*...args*/) {\n    return Q(object).dispatch(\"post\", [name, array_slice(arguments, 2)]);\n};\n\nPromise.prototype.send = // XXX Mark Miller's proposed parlance\nPromise.prototype.mcall = // XXX As proposed by \"Redsandro\"\nPromise.prototype.invoke = function (name /*...args*/) {\n    return this.dispatch(\"post\", [name, array_slice(arguments, 1)]);\n};\n\n/**\n * Applies the promised function in a future turn.\n * @param object    promise or immediate reference for target function\n * @param args      array of application arguments\n */\nQ.fapply = function (object, args) {\n    return Q(object).dispatch(\"apply\", [void 0, args]);\n};\n\nPromise.prototype.fapply = function (args) {\n    return this.dispatch(\"apply\", [void 0, args]);\n};\n\n/**\n * Calls the promised function in a future turn.\n * @param object    promise or immediate reference for target function\n * @param ...args   array of application arguments\n */\nQ[\"try\"] =\nQ.fcall = function (object /* ...args*/) {\n    return Q(object).dispatch(\"apply\", [void 0, array_slice(arguments, 1)]);\n};\n\nPromise.prototype.fcall = function (/*...args*/) {\n    return this.dispatch(\"apply\", [void 0, array_slice(arguments)]);\n};\n\n/**\n * Binds the promised function, transforming return values into a fulfilled\n * promise and thrown errors into a rejected one.\n * @param object    promise or immediate reference for target function\n * @param ...args   array of application arguments\n */\nQ.fbind = function (object /*...args*/) {\n    var promise = Q(object);\n    var args = array_slice(arguments, 1);\n    return function fbound() {\n        return promise.dispatch(\"apply\", [\n            this,\n            args.concat(array_slice(arguments))\n        ]);\n    };\n};\nPromise.prototype.fbind = function (/*...args*/) {\n    var promise = this;\n    var args = array_slice(arguments);\n    return function fbound() {\n        return promise.dispatch(\"apply\", [\n            this,\n            args.concat(array_slice(arguments))\n        ]);\n    };\n};\n\n/**\n * Requests the names of the owned properties of a promised\n * object in a future turn.\n * @param object    promise or immediate reference for target object\n * @return promise for the keys of the eventually settled object\n */\nQ.keys = function (object) {\n    return Q(object).dispatch(\"keys\", []);\n};\n\nPromise.prototype.keys = function () {\n    return this.dispatch(\"keys\", []);\n};\n\n/**\n * Turns an array of promises into a promise for an array.  If any of\n * the promises gets rejected, the whole array is rejected immediately.\n * @param {Array*} an array (or promise for an array) of values (or\n * promises for values)\n * @returns a promise for an array of the corresponding values\n */\n// By Mark Miller\n// http://wiki.ecmascript.org/doku.php?id=strawman:concurrency&rev=1308776521#allfulfilled\nQ.all = all;\nfunction all(promises) {\n    return when(promises, function (promises) {\n        var pendingCount = 0;\n        var deferred = defer();\n        array_reduce(promises, function (undefined, promise, index) {\n            var snapshot;\n            if (\n                isPromise(promise) &&\n                (snapshot = promise.inspect()).state === \"fulfilled\"\n            ) {\n                promises[index] = snapshot.value;\n            } else {\n                ++pendingCount;\n                when(\n                    promise,\n                    function (value) {\n                        promises[index] = value;\n                        if (--pendingCount === 0) {\n                            deferred.resolve(promises);\n                        }\n                    },\n                    deferred.reject,\n                    function (progress) {\n                        deferred.notify({ index: index, value: progress });\n                    }\n                );\n            }\n        }, void 0);\n        if (pendingCount === 0) {\n            deferred.resolve(promises);\n        }\n        return deferred.promise;\n    });\n}\n\nPromise.prototype.all = function () {\n    return all(this);\n};\n\n/**\n * Returns the first resolved promise of an array. Prior rejected promises are\n * ignored.  Rejects only if all promises are rejected.\n * @param {Array*} an array containing values or promises for values\n * @returns a promise fulfilled with the value of the first resolved promise,\n * or a rejected promise if all promises are rejected.\n */\nQ.any = any;\n\nfunction any(promises) {\n    if (promises.length === 0) {\n        return Q.resolve();\n    }\n\n    var deferred = Q.defer();\n    var pendingCount = 0;\n    array_reduce(promises, function (prev, current, index) {\n        var promise = promises[index];\n\n        pendingCount++;\n\n        when(promise, onFulfilled, onRejected, onProgress);\n        function onFulfilled(result) {\n            deferred.resolve(result);\n        }\n        function onRejected(err) {\n            pendingCount--;\n            if (pendingCount === 0) {\n                var rejection = err || new Error(\"\" + err);\n\n                rejection.message = (\"Q can't get fulfillment value from any promise, all \" +\n                    \"promises were rejected. Last error message: \" + rejection.message);\n\n                deferred.reject(rejection);\n            }\n        }\n        function onProgress(progress) {\n            deferred.notify({\n                index: index,\n                value: progress\n            });\n        }\n    }, undefined);\n\n    return deferred.promise;\n}\n\nPromise.prototype.any = function () {\n    return any(this);\n};\n\n/**\n * Waits for all promises to be settled, either fulfilled or\n * rejected.  This is distinct from `all` since that would stop\n * waiting at the first rejection.  The promise returned by\n * `allResolved` will never be rejected.\n * @param promises a promise for an array (or an array) of promises\n * (or values)\n * @return a promise for an array of promises\n */\nQ.allResolved = deprecate(allResolved, \"allResolved\", \"allSettled\");\nfunction allResolved(promises) {\n    return when(promises, function (promises) {\n        promises = array_map(promises, Q);\n        return when(all(array_map(promises, function (promise) {\n            return when(promise, noop, noop);\n        })), function () {\n            return promises;\n        });\n    });\n}\n\nPromise.prototype.allResolved = function () {\n    return allResolved(this);\n};\n\n/**\n * @see Promise#allSettled\n */\nQ.allSettled = allSettled;\nfunction allSettled(promises) {\n    return Q(promises).allSettled();\n}\n\n/**\n * Turns an array of promises into a promise for an array of their states (as\n * returned by `inspect`) when they have all settled.\n * @param {Array[Any*]} values an array (or promise for an array) of values (or\n * promises for values)\n * @returns {Array[State]} an array of states for the respective values.\n */\nPromise.prototype.allSettled = function () {\n    return this.then(function (promises) {\n        return all(array_map(promises, function (promise) {\n            promise = Q(promise);\n            function regardless() {\n                return promise.inspect();\n            }\n            return promise.then(regardless, regardless);\n        }));\n    });\n};\n\n/**\n * Captures the failure of a promise, giving an oportunity to recover\n * with a callback.  If the given promise is fulfilled, the returned\n * promise is fulfilled.\n * @param {Any*} promise for something\n * @param {Function} callback to fulfill the returned promise if the\n * given promise is rejected\n * @returns a promise for the return value of the callback\n */\nQ.fail = // XXX legacy\nQ[\"catch\"] = function (object, rejected) {\n    return Q(object).then(void 0, rejected);\n};\n\nPromise.prototype.fail = // XXX legacy\nPromise.prototype[\"catch\"] = function (rejected) {\n    return this.then(void 0, rejected);\n};\n\n/**\n * Attaches a listener that can respond to progress notifications from a\n * promise's originating deferred. This listener receives the exact arguments\n * passed to ``deferred.notify``.\n * @param {Any*} promise for something\n * @param {Function} callback to receive any progress notifications\n * @returns the given promise, unchanged\n */\nQ.progress = progress;\nfunction progress(object, progressed) {\n    return Q(object).then(void 0, void 0, progressed);\n}\n\nPromise.prototype.progress = function (progressed) {\n    return this.then(void 0, void 0, progressed);\n};\n\n/**\n * Provides an opportunity to observe the settling of a promise,\n * regardless of whether the promise is fulfilled or rejected.  Forwards\n * the resolution to the returned promise when the callback is done.\n * The callback can return a promise to defer completion.\n * @param {Any*} promise\n * @param {Function} callback to observe the resolution of the given\n * promise, takes no arguments.\n * @returns a promise for the resolution of the given promise when\n * ``fin`` is done.\n */\nQ.fin = // XXX legacy\nQ[\"finally\"] = function (object, callback) {\n    return Q(object)[\"finally\"](callback);\n};\n\nPromise.prototype.fin = // XXX legacy\nPromise.prototype[\"finally\"] = function (callback) {\n    if (!callback || typeof callback.apply !== \"function\") {\n        throw new Error(\"Q can't apply finally callback\");\n    }\n    callback = Q(callback);\n    return this.then(function (value) {\n        return callback.fcall().then(function () {\n            return value;\n        });\n    }, function (reason) {\n        // TODO attempt to recycle the rejection with \"this\".\n        return callback.fcall().then(function () {\n            throw reason;\n        });\n    });\n};\n\n/**\n * Terminates a chain of promises, forcing rejections to be\n * thrown as exceptions.\n * @param {Any*} promise at the end of a chain of promises\n * @returns nothing\n */\nQ.done = function (object, fulfilled, rejected, progress) {\n    return Q(object).done(fulfilled, rejected, progress);\n};\n\nPromise.prototype.done = function (fulfilled, rejected, progress) {\n    var onUnhandledError = function (error) {\n        // forward to a future turn so that ``when``\n        // does not catch it and turn it into a rejection.\n        Q.nextTick(function () {\n            makeStackTraceLong(error, promise);\n            if (Q.onerror) {\n                Q.onerror(error);\n            } else {\n                throw error;\n            }\n        });\n    };\n\n    // Avoid unnecessary `nextTick`ing via an unnecessary `when`.\n    var promise = fulfilled || rejected || progress ?\n        this.then(fulfilled, rejected, progress) :\n        this;\n\n    if (typeof process === \"object\" && process && process.domain) {\n        onUnhandledError = process.domain.bind(onUnhandledError);\n    }\n\n    promise.then(void 0, onUnhandledError);\n};\n\n/**\n * Causes a promise to be rejected if it does not get fulfilled before\n * some milliseconds time out.\n * @param {Any*} promise\n * @param {Number} milliseconds timeout\n * @param {Any*} custom error message or Error object (optional)\n * @returns a promise for the resolution of the given promise if it is\n * fulfilled before the timeout, otherwise rejected.\n */\nQ.timeout = function (object, ms, error) {\n    return Q(object).timeout(ms, error);\n};\n\nPromise.prototype.timeout = function (ms, error) {\n    var deferred = defer();\n    var timeoutId = setTimeout(function () {\n        if (!error || \"string\" === typeof error) {\n            error = new Error(error || \"Timed out after \" + ms + \" ms\");\n            error.code = \"ETIMEDOUT\";\n        }\n        deferred.reject(error);\n    }, ms);\n\n    this.then(function (value) {\n        clearTimeout(timeoutId);\n        deferred.resolve(value);\n    }, function (exception) {\n        clearTimeout(timeoutId);\n        deferred.reject(exception);\n    }, deferred.notify);\n\n    return deferred.promise;\n};\n\n/**\n * Returns a promise for the given value (or promised value), some\n * milliseconds after it resolved. Passes rejections immediately.\n * @param {Any*} promise\n * @param {Number} milliseconds\n * @returns a promise for the resolution of the given promise after milliseconds\n * time has elapsed since the resolution of the given promise.\n * If the given promise rejects, that is passed immediately.\n */\nQ.delay = function (object, timeout) {\n    if (timeout === void 0) {\n        timeout = object;\n        object = void 0;\n    }\n    return Q(object).delay(timeout);\n};\n\nPromise.prototype.delay = function (timeout) {\n    return this.then(function (value) {\n        var deferred = defer();\n        setTimeout(function () {\n            deferred.resolve(value);\n        }, timeout);\n        return deferred.promise;\n    });\n};\n\n/**\n * Passes a continuation to a Node function, which is called with the given\n * arguments provided as an array, and returns a promise.\n *\n *      Q.nfapply(FS.readFile, [__filename])\n *      .then(function (content) {\n *      })\n *\n */\nQ.nfapply = function (callback, args) {\n    return Q(callback).nfapply(args);\n};\n\nPromise.prototype.nfapply = function (args) {\n    var deferred = defer();\n    var nodeArgs = array_slice(args);\n    nodeArgs.push(deferred.makeNodeResolver());\n    this.fapply(nodeArgs).fail(deferred.reject);\n    return deferred.promise;\n};\n\n/**\n * Passes a continuation to a Node function, which is called with the given\n * arguments provided individually, and returns a promise.\n * @example\n * Q.nfcall(FS.readFile, __filename)\n * .then(function (content) {\n * })\n *\n */\nQ.nfcall = function (callback /*...args*/) {\n    var args = array_slice(arguments, 1);\n    return Q(callback).nfapply(args);\n};\n\nPromise.prototype.nfcall = function (/*...args*/) {\n    var nodeArgs = array_slice(arguments);\n    var deferred = defer();\n    nodeArgs.push(deferred.makeNodeResolver());\n    this.fapply(nodeArgs).fail(deferred.reject);\n    return deferred.promise;\n};\n\n/**\n * Wraps a NodeJS continuation passing function and returns an equivalent\n * version that returns a promise.\n * @example\n * Q.nfbind(FS.readFile, __filename)(\"utf-8\")\n * .then(console.log)\n * .done()\n */\nQ.nfbind =\nQ.denodeify = function (callback /*...args*/) {\n    if (callback === undefined) {\n        throw new Error(\"Q can't wrap an undefined function\");\n    }\n    var baseArgs = array_slice(arguments, 1);\n    return function () {\n        var nodeArgs = baseArgs.concat(array_slice(arguments));\n        var deferred = defer();\n        nodeArgs.push(deferred.makeNodeResolver());\n        Q(callback).fapply(nodeArgs).fail(deferred.reject);\n        return deferred.promise;\n    };\n};\n\nPromise.prototype.nfbind =\nPromise.prototype.denodeify = function (/*...args*/) {\n    var args = array_slice(arguments);\n    args.unshift(this);\n    return Q.denodeify.apply(void 0, args);\n};\n\nQ.nbind = function (callback, thisp /*...args*/) {\n    var baseArgs = array_slice(arguments, 2);\n    return function () {\n        var nodeArgs = baseArgs.concat(array_slice(arguments));\n        var deferred = defer();\n        nodeArgs.push(deferred.makeNodeResolver());\n        function bound() {\n            return callback.apply(thisp, arguments);\n        }\n        Q(bound).fapply(nodeArgs).fail(deferred.reject);\n        return deferred.promise;\n    };\n};\n\nPromise.prototype.nbind = function (/*thisp, ...args*/) {\n    var args = array_slice(arguments, 0);\n    args.unshift(this);\n    return Q.nbind.apply(void 0, args);\n};\n\n/**\n * Calls a method of a Node-style object that accepts a Node-style\n * callback with a given array of arguments, plus a provided callback.\n * @param object an object that has the named method\n * @param {String} name name of the method of object\n * @param {Array} args arguments to pass to the method; the callback\n * will be provided by Q and appended to these arguments.\n * @returns a promise for the value or error\n */\nQ.nmapply = // XXX As proposed by \"Redsandro\"\nQ.npost = function (object, name, args) {\n    return Q(object).npost(name, args);\n};\n\nPromise.prototype.nmapply = // XXX As proposed by \"Redsandro\"\nPromise.prototype.npost = function (name, args) {\n    var nodeArgs = array_slice(args || []);\n    var deferred = defer();\n    nodeArgs.push(deferred.makeNodeResolver());\n    this.dispatch(\"post\", [name, nodeArgs]).fail(deferred.reject);\n    return deferred.promise;\n};\n\n/**\n * Calls a method of a Node-style object that accepts a Node-style\n * callback, forwarding the given variadic arguments, plus a provided\n * callback argument.\n * @param object an object that has the named method\n * @param {String} name name of the method of object\n * @param ...args arguments to pass to the method; the callback will\n * be provided by Q and appended to these arguments.\n * @returns a promise for the value or error\n */\nQ.nsend = // XXX Based on Mark Miller's proposed \"send\"\nQ.nmcall = // XXX Based on \"Redsandro's\" proposal\nQ.ninvoke = function (object, name /*...args*/) {\n    var nodeArgs = array_slice(arguments, 2);\n    var deferred = defer();\n    nodeArgs.push(deferred.makeNodeResolver());\n    Q(object).dispatch(\"post\", [name, nodeArgs]).fail(deferred.reject);\n    return deferred.promise;\n};\n\nPromise.prototype.nsend = // XXX Based on Mark Miller's proposed \"send\"\nPromise.prototype.nmcall = // XXX Based on \"Redsandro's\" proposal\nPromise.prototype.ninvoke = function (name /*...args*/) {\n    var nodeArgs = array_slice(arguments, 1);\n    var deferred = defer();\n    nodeArgs.push(deferred.makeNodeResolver());\n    this.dispatch(\"post\", [name, nodeArgs]).fail(deferred.reject);\n    return deferred.promise;\n};\n\n/**\n * If a function would like to support both Node continuation-passing-style and\n * promise-returning-style, it can end its internal promise chain with\n * `nodeify(nodeback)`, forwarding the optional nodeback argument.  If the user\n * elects to use a nodeback, the result will be sent there.  If they do not\n * pass a nodeback, they will receive the result promise.\n * @param object a result (or a promise for a result)\n * @param {Function} nodeback a Node.js-style callback\n * @returns either the promise or nothing\n */\nQ.nodeify = nodeify;\nfunction nodeify(object, nodeback) {\n    return Q(object).nodeify(nodeback);\n}\n\nPromise.prototype.nodeify = function (nodeback) {\n    if (nodeback) {\n        this.then(function (value) {\n            Q.nextTick(function () {\n                nodeback(null, value);\n            });\n        }, function (error) {\n            Q.nextTick(function () {\n                nodeback(error);\n            });\n        });\n    } else {\n        return this;\n    }\n};\n\nQ.noConflict = function() {\n    throw new Error(\"Q.noConflict only works when Q is used as a global\");\n};\n\n// All code before this point will be filtered from stack traces.\nvar qEndingLine = captureLine();\n\nreturn Q;\n\n});\n"],"names":["SvgChevronUp16","_ref","color","dataTest","React","height","viewBox","width","xmlns","d","fill","propTypes","PropTypes","_defineProperty","obj","key","value","Object","defineProperty","enumerable","configurable","writable","rightButton","styles","_JSXStyle","id","concat","spacers","dp12","className","SplitButton","Component","constructor","super","arguments","this","open","payload","event","props","onClick","name","state","setState","render","component","children","icon","small","large","primary","secondary","destructive","disabled","type","tabIndex","initialFocus","arrow","IconChevronUp16","IconChevronDown16","ref","anchorRef","Button","cx","onToggle","Layer","onBackdropClick","transparent","Popper","placement","reference","defaultProps","sharedPropTypes","Leaves","Spacer","ArrowDown","Toggle","onOpen","onClose","dynamic","colors","grey400","grey900","grey100","isRequired","Node","label","hasLeaves","toArray","filter","i","length","showArrow","showSpacer","namespace","i18n","addResources","arTranslations","csTranslations","enTranslations","esTranslations","nbTranslations","nlTranslations","ukTranslations","uzTranslations","uz_LatnTranslations","viTranslations","zhTranslations","zh_CNTranslations","UNIT_ID_PATTERN","orgUnitPathRegExp","RegExp","orgUnitPathPropType","propValue","compName","location","propFullName","test","Error","ErrorMessage","grey800","dp4","theme","error","SingleSelectionLabel","checked","onChange","loading","teal700","DisabledSelectionLabel","onToggleOpen","commonStyles","white","teal500","blue600","yellow700","red500","teal900","CheckboxRegular","__hash","grey300","blue700","yellow800","red700","x","y","rx","CheckboxDense","_ref2","grey500","blue800","red800","Checkbox","createRef","e","createHandlerPayload","onBlur","onFocus","onKeyDown","componentDidMount","current","focus","setIndeterminate","indeterminate","componentDidUpdate","prevProps","valid","warning","dense","classes","handleChange","handleFocus","handleKeyDown","handleBlur","uniqueOnStatePropType","mutuallyExclusive","IconEmpty","version","fillRule","stroke","strokeWidth","IconFolderClosed","IconFolderOpen","transform","IconSingle","Icon","hasChildren","IconizedCheckbox","checkboxLabel","LabelContainer","highlighted","teal200","Label","disableSelection","fullPath","hasSelectedDescendants","node","rootId","selected","singleSelection","_ref3","newSelected","path","pathIndex","indexOf","slice","createNewSelected","displayName","loadingSpinnerStyles","LoadingSpinner","CircularLoader","extrasmall","isPathIncluded","includedPaths","some","includedPath","startsWith","ORG_DATA_QUERY","orgUnit","resource","params","fields","OrganisationUnitNodeChildren","autoExpandLoadingError","expanded","isUserDataViewFallback","onChildrenLoaded","onCollapse","onExpand","parentPath","renderNodeLabel","suppressAlphabeticalSorting","OrganisationUnitNode","orgChildren","onComplete","onCompleteCalledRef","useRef","called","data","useDataQuery","variables","useMemo","sort","left","right","localeCompare","useEffect","useOrgChildren","displayChildren","filteredChildren","child","getFilteredChildren","t","map","childPath","orgData","useOrgData","strippedPath","leftTrimToRootId","replace","hasDescendantSelectedPaths","selectedPath","isNotPath","match","isSubPath","isHighlighted","includes","errorMessage","autoExpand","openedOnceDueToError","setOpenedOnce","useState","useOpenState","toString","isSelected","find","curPath","labelContent","showPlaceholder","showChildNodes","RootError","ERRORMESSAGE","nsSeparator","RootLoading","extractAllPathsFromPath","segments","split","withSubPaths","segment","index","join","arr","Array","from","Set","useExpanded","initiallyExpanded","expandedControlled","handleExpandControlled","handleCollapseControlled","isControlled","allInitiallyExpandedPaths","reduce","all","getAllExpandedPaths","setExpanded","handleExpand","handleCollapse","rest","updatedExpanded","createExpandHandlers","useRootOrgData","ids","undefined","query","createRootQuery","rootOrgUnits","refetch","nodes","nodesWithDisplayName","entries","fromEntries","patchMissingDisplayName","OrganisationUnitTree","roots","forceReload","rootIds","filterRootIds","isArray","reloadId","setReloadId","useForceReload","prevReloadId","setPrevReloadId","console","warn","isLoading","rootNode","requiredIf","SingleSelectOption","active","dp8","grey200","InputWrapper","inputRef","classNames","MenuWrapper","maxHeight","menuWidth","selectRef","observeReferenceResize","elevations","e300","Select","debounce","func","wait","immediate","timeout","_len","args","_key","context","callNow","clearTimeout","setTimeout","later","apply","getMenuWidth","stopPropagation","handleClose","handleOpen","defaultPrevented","keyCode","shouldOpen","window","addEventListener","onResize","componentWillUnmount","removeEventListener","offsetWidth","inputProps","options","input","menuProps","handleFocusInput","menu","onOutsideClick","Loading","message","dp16","grey700","fonts","dp24","FilterInput","placeholder","Input","NoMatch","checkIfValidOption","option","filterIgnored","_extends","assign","target","source","prototype","hasOwnProperty","call","FilterableMenu","empty","noMatchText","Menu","renderedOptions","count","onFilterChange","filtered","toLowerCase","hasMatch","Empty","onIgnoredClick","_","preventDefault","isDisabled","isActive","isIgnored","CommonFilterableMenu","InputPrefix","prefix","grey600","InputPlaceholder","InputClearButton","onClear","clearText","Selection","selectedOption","optionChildren","currentOption","findOptionChild","clearable","inputMaxHeight","hasSelection","SingleSelect","filterable","filterPlaceholder","loadingText","CommonLoading","StatusIcon","Actions","centerButtonStyles","IconAddAll","points","IconAddIndividual","IconRemoveAll","IconRemoveIndividual","_ref4","IconMoveDown","_ref5","IconMoveUp","_ref6","AddAll","AddIndividual","Container","Filter","Field","backgroundColor","borderColor","borderRadius","LeftFooter","LeftHeader","LeftSide","IntersectionDetector","threshold","rootRef","isIntersecting","intersectionRef","rootEl","intersectionEl","intersectionObserver","IntersectionObserver","entry","root","observe","disconnect","HTMLElement","EndIntersectionDetector","onEndReached","OptionsContainer","emptyComponent","getOptionClickHandlers","highlightedOptions","renderOption","selectionHandler","toggleHighlightedOption","optionsRef","wrapperRef","resizeCounter","element","counter","setCounter","internalCounter","observer","ResizeObserver","useResizeCounter","highlightedSourceOption","Fragment","RemoveAll","RemoveIndividual","ReorderingActions","disabledDown","disabledUp","onChangeUp","onChangeDown","RightFooter","RightHeader","RightSide","TransferOption","onDoubleClick","doubleClickTimeout","identity","useFilter","initialSearchTerm","externalSearchTerm","filterCallback","internalFilter","setInternalFilter","filterValue","REPLACE_MODE","ADD_MODE","RANGE_MODE","createToggleHighlightedOption","setHighlightedOptions","maxSelections","setLastClicked","lastClicked","mode","toggleValue","values","toggleAdd","to","clickedOptionIndex","findOptionIndex","findIndex","isOption","lastClickedSourceOptionWithoutRangeModeIndex","curOption","firstHighlightedInList","highlightedOption","lower","Math","min","higher","max","newHighlightedSourceOptions","toggleRange","toggleReplace","useHighlightedOptions","altKey","shiftKey","ctrlKey","metaKey","v","getModeByModifierKey","isReorderDownDisabled","highlightedPickedOptions","isReorderUpDisabled","defaultFilterCallback","Transfer","addAllText","addIndividualText","enableOrderChange","filterCallbackPicked","filterLabel","filterLabelPicked","filterPlaceholderPicked","filterablePicked","hideFilterInput","hideFilterInputPicked","initialSearchTermPicked","leftFooter","leftHeader","loadingPicked","optionsWidth","removeAllText","removeIndividualText","rightFooter","rightHeader","searchTerm","searchTermPicked","selectedEmptyComponent","selectedWidth","sourceEmptyPlaceholder","onFilterChangePicked","onEndReachedPicked","actualFilter","actualFilterCallback","sourceOptions","highlightedSourceOptions","setHighlightedSourceOptions","toggleHighlightedSourceOption","actualFilterPicked","actualFilterPickedCallback","setInternalFilterPicked","pickedOptions","setHighlightedPickedOptions","toggleHighlightedPickedOption","selectSingleOption","deselectSingleOption","curSelected","createDoubleClickHandlers","isAddAllDisabled","isAddIndividualDisabled","isRemoveAllDisabled","isRemoveIndividualDisabled","Infinity","accumulatedSelected","enabledSourceOption","addAllSelectableSourceOptions","filteredHighlightedSourceOptions","filteredOption","filteredHighlightedSourceOption","addIndividualSourceOptions","removeAllPickedOptions","filteredHighlightedPickedOptions","removeIndividualPickedOptions","optionIndex","moveHighlightedPickedOptionUp","moveHighlightedPickedOptionDown","requiredIfFactory","condition","propType","propName","componentName","fn","SvgChevronDown16","definition","bootstrap","module","exports","hasStacks","stack","qFileName","qStartingLine","captureLine","noop","nextTick","head","task","next","tail","flushing","requestTick","isNodeJS","laterQueue","flush","domain","enter","runSingle","pop","exit","process","setImmediate","bind","MessageChannel","channel","port1","onmessage","requestPortTick","port2","postMessage","runAfter","push","Function","uncurryThis","f","QReturnValue","array_slice","array_reduce","callback","basis","TypeError","array_indexOf","array_map","thisp","self","collect","object_create","create","Type","object_defineProperty","prop","descriptor","object_hasOwnProperty","object_keys","keys","object","object_toString","ReturnValue","makeStackTraceLong","promise","stacks","p","__minimumStackCounter__","stackCounter","unshift","stackString","lines","desiredLines","line","isInternalFrame","isNodeFrame","filterStackString","stackLine","getFileNameAndLineNumber","attempt1","exec","Number","attempt2","attempt3","fileNameAndLineNumber","fileName","lineNumber","qEndingLine","Q","Promise","isPromiseAlike","deferred","defer","then","resolve","reject","notify","exception","coerce","fulfill","longStackSupport","longStackCounter","resolvedPromise","messages","progressListeners","promiseDispatch","op","operands","valueOf","nearerValue","nearer","isPromise","inspect","substring","become","newPromise","reason","progress","progressListener","resolver","race","answerPs","len","fallback","result","inspected","when","fulfilled","rejected","progressed","Q_DEBUG","makeNodeResolver","passByCopy","that","spread","makePromise","done","_fulfilled","newException","_rejected","newValue","threw","_progressed","onerror","tap","fcall","thenResolve","thenReject","isPending","isFulfilled","isRejected","alternative","unhandledReasons","unhandledRejections","reportedUnhandledRejections","trackUnhandledRejections","resetUnhandledRejections","rejection","at","emit","atReport","splice","untrackRejection","trackRejection","rhs","dispatch","promises","pendingCount","snapshot","any","prev","err","allResolved","getUnhandledReasons","stopUnhandledRejectionTracking","master","array","async","makeGenerator","continuer","verb","arg","StopIteration","generator","errback","isStopIteration","spawn","promised","get","set","del","mapply","post","send","mcall","invoke","fapply","fbind","allSettled","regardless","fail","fin","onUnhandledError","ms","timeoutId","code","delay","nfapply","nodeArgs","nfcall","nfbind","denodeify","baseArgs","nbind","nmapply","npost","nsend","nmcall","ninvoke","nodeify","nodeback","noConflict"],"sourceRoot":""}
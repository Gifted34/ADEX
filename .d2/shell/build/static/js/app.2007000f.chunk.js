(self.webpackChunk_dhis2_app_shell=self.webpackChunk_dhis2_app_shell||[]).push([[2143],{8284:function(e,t,l){"use strict";l.r(t),l.d(t,{default:function(){return xe}});var a=l(969),n=l(1949),i={container:"App_container__KkHQY",display:"App_display__XxcrI",marginBottom:"App_marginBottom__vBHuD",marginLeft:"App_marginLeft__SnKM2",padding:"App_padding__Xsu8z",width:"App_width__PJDSn",orgHeight:"App_orgHeight__J1WGe",periodFields:"App_periodFields__ZACpN",fields:"App_fields__8P+9M",fieldSelected:"App_fieldSelected__C+6h5"},o=l(7526),d=l(7205);function r(){return a.createElement("div",null,a.createElement("div",{style:{border:"1px solid #c4c9cc",backgroundColor:"lightblue",padding:8,width:"100%"}},a.createElement(o.J,null,a.createElement(d.a,null,"Data Exchange Initializer"))))}var s=l(2912),u=l(6475),v=l(5930),c=l(3224),m=l(5690),p=l(7183),y=l(964),E=l(8206),h=l(6268),g=l(9817),S=l(3582),f=l(6309),x=l(8382),b=l(988),T=l(6822),A=l(734);function N(e){var t,l,n,i;const[d,r]=(0,a.useState)([]);return(0,a.useEffect)((()=>{e&&(null===e||void 0===e||e.dataStoreDexValues().then((e=>{r(e)})))}),[e]),a.createElement("div",null,d&&(null===d||void 0===d||null===(t=d.dataStore)||void 0===t||null===(l=t.entries)||void 0===l?void 0:l.length)>0?a.createElement(y.i,null,a.createElement(E.s,null,a.createElement(h.J,null,a.createElement(g.f,null,"Date created"),a.createElement(g.f,null,"Name"),a.createElement(g.f,null,"Target"),a.createElement(g.f,null))),a.createElement(S.R,null,d&&(null===d||void 0===d||null===(n=d.dataStore)||void 0===n||null===(i=n.entries)||void 0===i?void 0:i.map(((t,l)=>{var n,i,d,r,s,u;return a.createElement(f.S,{key:l},a.createElement(x.p,null,null===t||void 0===t||null===(n=t.value)||void 0===n||null===(i=n.createdAt)||void 0===i?void 0:i.split(",")[0]),a.createElement(x.p,null,null===t||void 0===t||null===(d=t.value)||void 0===d?void 0:d.dexname),a.createElement(x.p,null,void 0==(null===t||void 0===t||null===(r=t.value)||void 0===r?void 0:r.url)?null===t||void 0===t||null===(s=t.value)||void 0===s?void 0:s.type:null===t||void 0===t||null===(u=t.value)||void 0===u?void 0:u.url),a.createElement(x.p,{dense:!0},a.createElement(o.J,{start:!0},a.createElement(T.rU,{to:`/view/${null===t||void 0===t?void 0:t.key}`,style:{textDecoration:"none",color:"black"}},a.createElement(m.z,null,"View")),a.createElement(T.rU,{to:`/new-request/${null===t||void 0===t?void 0:t.key}`,style:{textDecoration:"none",color:"black"}},a.createElement(m.z,null,"New request")),a.createElement(m.z,{secondary:!0,onClick:()=>{var l;null===e||void 0===e||e.setOpenUpdate(!(null!==e&&void 0!==e&&e.openUpdate)),l=t,null===e||void 0===e||e.updateEntry(l)}},"Update"),a.createElement(m.z,{destructive:!0,onClick:()=>{var l;null===e||void 0===e||e.setOpenDelete(!(null!==e&&void 0!==e&&e.openDelete)),l=t,null===e||void 0===e||e.deleteEntry(l)}},"Remove"),a.createElement(m.z,{primary:!0,onClick:()=>{var l;null===e||void 0===e||e.setOpenIntegration(!(null!==e&&void 0!==e&&e.openIntegration)),l=t,null===e||void 0===e||e.integrateEntry(l)}},"Initialize integration"))))}))))):a.createElement(b.f,{title:"Initialized data exchange"},"No data is available"),a.createElement(A.j3,null))}function D(e){const t=(0,n.bQ)();return a.createElement("div",{style:{width:"100%"}},a.createElement(o.J,{end:!0},a.createElement(m.z,{primary:!0,onClick:()=>null===e||void 0===e?void 0:e.setOpen(!(null!==e&&void 0!==e&&e.open))},"Create new")),a.createElement(p.i,null),a.createElement("div",{className:"",style:{marginTop:"10px"}},a.createElement(N,{setOpenDelete:null===e||void 0===e?void 0:e.setOpenDelete,openDelete:null===e||void 0===e?void 0:e.openDelete,setOpenUpdate:null===e||void 0===e?void 0:e.setOpenUpdate,openIntegration:null===e||void 0===e?void 0:e.openIntegration,setOpenIntegration:null===e||void 0===e?void 0:e.setOpenIntegration,openUpdate:null===e||void 0===e?void 0:e.openUpdate,dataStoreDexValues:async e=>{const l={dataStore:{resource:"dataStore/DEX_initializer_values",params:{fields:["."]}}};try{return await(null===t||void 0===t?void 0:t.query(l))}catch(a){}},data:[],styles:null===e||void 0===e?void 0:e.classes,deleteEntry:null===e||void 0===e?void 0:e.deleteEntry,updateEntry:null===e||void 0===e?void 0:e.updateEntry,integrateEntry:null===e||void 0===e?void 0:e.integrateEntry})))}var I=l(2200),k=l(3464),$=l(15),w=l(8384),C=l(1611),z=l(9122),L=l(3305),B=l(7773);function M(e){var t,l,n;const i=t=>{null===e||void 0===e||e.setFormInputValues({...null===e||void 0===e?void 0:e.formInputValues,[null===t||void 0===t?void 0:t.name]:null===t||void 0===t?void 0:t.value})};return a.createElement("div",{style:{width:"100%",justifyContent:"center",alignItems:"center"}},a.createElement(C.g,{label:"General Details"},a.createElement("div",{style:{width:"100%"}},a.createElement(z.I,{name:"dexname",type:"text",onChange:i,placeholder:"Name of aggregate data exchange. Unique.",className:null===e||void 0===e||null===(t=e.styles)||void 0===t?void 0:t.marginBottom}),a.createElement(v.x,{className:null===e||void 0===e||null===(l=e.styles)||void 0===l?void 0:l.marginBottom},a.createElement(L.q,{className:"select",onChange:t=>{null===e||void 0===e||e.setType(t.selected)},selected:null===e||void 0===e?void 0:e.type},a.createElement(B.a,{label:"Internal",value:"INTERNAL"}),a.createElement(B.a,{label:"External",value:"EXTERNAL"}))),"EXTERNAL"==(null===e||void 0===e?void 0:e.type)&&a.createElement(z.I,{name:"url",type:"text",onChange:i,className:null===e||void 0===e||null===(n=e.styles)||void 0===n?void 0:n.marginBottom,placeholder:"Base URL of target DHIS 2 instance, do not include the /api part."}))))}function O(e){return a.createElement("div",{style:{width:"100%"}},(null===e||void 0===e?void 0:e.open)&&a.createElement("div",{className:"",style:{marginTop:"10px"}},a.createElement(I.u,{large:!0,position:"middle"},a.createElement(k.r,null,"New Initialization"),a.createElement($.h,null,a.createElement(M,{styles:null===e||void 0===e?void 0:e.styles,formInputValues:null===e||void 0===e?void 0:e.formInputValues,formData:null===e||void 0===e?void 0:e.formData,setType:null===e||void 0===e?void 0:e.setType,type:null===e||void 0===e?void 0:e.type,setFormInputValues:null===e||void 0===e?void 0:e.setFormInputValues})),a.createElement(w.n,null,a.createElement(o.J,{end:!0},a.createElement(m.z,{onClick:()=>{null===e||void 0===e||e.setOpen(!1)},destructive:!0},"Cancel"),a.createElement(m.z,{onClick:()=>{null===e||void 0===e||e.saveGeneralInputValues()},primary:!0},"Save to DataStore"))))))}function R(){return a.createElement("div",{style:{margin:"auto",width:"100%",height:"500px",display:"flex",textAlign:"center",flexDirection:"column",justifyContent:"center",alignItems:"center",fontSize:32}},"Error 404",a.createElement("br",null),"No page found")}var U=l(7087),P=l(2145),W=l(4538),q=l(5327),F=l(9709),H=l(7997);function G(e){var t,l,n,i,o,d;const r=[{id:1,name:"Relative Periods"},{id:2,name:"Fixed Periods"}],[s,u]=(0,a.useState)(1),[c,m]=(0,a.useState)(null===e||void 0===e?void 0:e.year),[p,y]=(0,a.useState)(null===e||void 0===e?void 0:e.period);return a.createElement("div",{className:`${null===e||void 0===e||null===(t=e.styles)||void 0===t?void 0:t.marginTop}`},a.createElement(v.x,null,a.createElement("div",null,a.createElement(F.n,null,null===r||void 0===r?void 0:r.map(((t,l)=>a.createElement(H.O,{className:"tabs",key:l,onClick:()=>{null===e||void 0===e||e.setRelative(1===(null===t||void 0===t?void 0:t.id)),u(null===t||void 0===t?void 0:t.id)},selected:s===(null===t||void 0===t?void 0:t.id)},null===t||void 0===t?void 0:t.name)))),1===s?a.createElement("div",{className:`${null===e||void 0===e||null===(l=e.styles)||void 0===l?void 0:l.marginTop} ${null===e||void 0===e||null===(n=e.styles)||void 0===n?void 0:n.marginBottom}`},a.createElement(C.g,{label:"Period Types"},a.createElement(L.q,{className:"select",onChange:t=>{null===e||void 0===e||e.setPeriod(t.selected),y(t.selected)},placeholder:"Select period",selected:p},null===e||void 0===e||null===(i=e.periodType)||void 0===i?void 0:i.map(((e,t)=>a.createElement(B.a,{key:t,label:null===e||void 0===e?void 0:e.name,value:null===e||void 0===e?void 0:e.name})))))):a.createElement("div",{className:`${null===e||void 0===e||null===(o=e.styles)||void 0===o?void 0:o.Row}`},a.createElement(C.g,{label:"Period Types"},a.createElement(L.q,{className:"select",onChange:t=>{null===e||void 0===e||e.setPeriod(t.selected),y(t.selected)},placeholder:"period",selected:p},null===e||void 0===e||null===(d=e.periodType)||void 0===d?void 0:d.map(((e,t)=>a.createElement(B.a,{key:t,label:null===e||void 0===e?void 0:e.name,value:null===e||void 0===e?void 0:e.name}))))),a.createElement(C.g,{label:"Year"},a.createElement(z.I,{name:"year",type:"number",value:c,onChange:t=>{null===e||void 0===e||e.setPeriods(t.value),m(t.value)}}))))))}const Y=[{name:"Weeks"},{name:"Bi-weeks"},{name:"Months"},{name:"Bi-months"},{name:"Quarters"},{name:"Six-months"},{name:"Financial Years"},{name:"Years"}],V=new class{fixedPeriod(e){let t=[];return t.push(...W.Periods.GetBiMonthly(e)),t.push(...W.Periods.GetBiWeekly(e)),t.push(...W.Periods.GetDaily(e)),t.push(...W.Periods.GetDaily(e)),t.push(...W.Periods.GetMonthly(e)),t.push(...W.Periods.GetQuarterly(e)),t.push(...W.Periods.GetSixMonthly(e)),t.push(...W.Periods.GetWeekly(e)),t.push(...W.Periods.GetYearly(e)),t}relativePeriod(){let e=[];return e.push(...q.RelativePeriods.GetBiMonthly()),e.push(...q.RelativePeriods.GetBiWeekly()),e.push(...q.RelativePeriods.GetDays()),e.push(...q.RelativePeriods.GetDays()),e.push(...q.RelativePeriods.GetFinancialYear()),e.push(...q.RelativePeriods.GetMonthly()),e.push(...q.RelativePeriods.GetQuarterly()),e.push(...q.RelativePeriods.GetSixMonthly()),e.push(...q.RelativePeriods.GetWeekly()),e.push(...q.RelativePeriods.GetYearly()),e}};function Q(e){var t;const[l,n]=(0,a.useState)([]),[i,o]=(0,a.useState)(""),[d,r]=(0,a.useState)((new Date).getFullYear()),[s,u]=(0,a.useState)("Months"),[v,c]=(0,a.useState)(Y),[m,p]=(0,a.useState)(!0),[y,E]=(0,a.useState)([...V.relativePeriod(),...V.fixedPeriod(d)]);return a.createElement("div",{className:null===e||void 0===e||null===(t=e.style)||void 0===t?void 0:t.marginLeft},a.createElement(C.g,{label:"Periods"},a.createElement("div",{style:{padding:"10px",width:"700px"}},a.createElement(P.F,{leftHeader:a.createElement(G,{styles:null===e||void 0===e?void 0:e.styles,periodOption:y,periodType:v,period:s,setPeriod:u,setPeriodOtpions:E,year:d,setRelative:p,setPeriods:e=>{r(e);let t=y;t.push(...V.fixedPeriod(e)),E(_.uniqBy(t,"value"))}}),height:"400px",filterable:!0,hideFilterInput:!0,onChange:t=>{null===e||void 0===e||e.setPeriods(t.selected),n(t.selected)},searchTerm:i,onFilterChange:e=>{o(e)},filterCallback:(e,t)=>{if(m){return e.filter((e=>"relative"===(null===e||void 0===e?void 0:e.dimension)&&e.type===s))}{const t=e.filter((e=>void 0===e.dimension&&e.type===s));return"Years"===s?t:t.filter((e=>e.label.includes(d)))}},options:y,selected:l,selectedEmptyComponent:a.createElement("p",{style:{textAlign:"center",fontSize:"14px",color:"gray"}},"You have not selected anything yet...",a.createElement("br",null))}))))}const J=[{name:"Data elements"},{name:"Indicators"},{name:"Visualizations"}];var X=function(e){const[t,l]=(0,a.useState)();return a.createElement("div",{style:{padding:"5px"}},a.createElement(v.x,null,a.createElement(C.g,null,a.createElement(L.q,{className:"select",placeholder:"Select data dimension type",onChange:t=>{null===e||void 0===e||e.setDx(t.selected),l(t.selected)},selected:t},a.createElement(B.a,{label:"default",value:"default"}),J.map(((e,t)=>a.createElement(B.a,{key:t,label:e.name,value:e.name})))))),a.createElement(v.x,null,a.createElement("div",{style:{marginTop:"10px"}},a.createElement(z.I,{name:"search",onChange:t=>{null===e||void 0===e||e.setFilterText(t.value)},placeholder:"Search field"}))))};function K(e){var t;const[l,n]=(0,a.useState)([]),[i,o]=(0,a.useState)(),[d,r]=(0,a.useState)(),[s,u]=(0,a.useState)();(0,a.useEffect)((()=>{}),[]);return a.createElement("div",{style:{padding:"10px",width:"700px"}},a.createElement(C.g,{label:"Data Dimension",className:`${null===e||void 0===e||null===(t=e.styles)||void 0===t?void 0:t.marginBottom}`}),a.createElement(P.F,{leftHeader:a.createElement(X,{setDx:o,setFilterText:r}),searchTerm:s,onFilterChange:e=>{u(e)},height:"400px",onChange:t=>{n(t.selected),null===e||void 0===e||e.setData(t.selected)},options:(()=>{var t,l,a,n,i;let o=[];return null===e||void 0===e||null===(t=e.indicators)||void 0===t||null===(l=t.filter((e=>void 0!==e.code)))||void 0===l||l.map((e=>{o.push({label:null===e||void 0===e?void 0:e.name,value:null===e||void 0===e?void 0:e.code,type:"Indicators"})})),null===e||void 0===e||null===(a=e.dataElements)||void 0===a||null===(n=a.filter((e=>void 0!==e.code)))||void 0===n||n.map((e=>{o.push({label:null===e||void 0===e?void 0:e.name,value:null===e||void 0===e?void 0:e.code,type:"Data elements"})})),null===e||void 0===e||null===(i=e.visualizations)||void 0===i||i.map((e=>{o.push({label:null===e||void 0===e?void 0:e.displayName,value:null===e||void 0===e?void 0:e.id,type:"Visualizations"})})),o})(),filterCallback:e=>{if(void 0===i||"default"===i)return void 0!==d?e.filter((e=>e.label.includes(d))):e;const t=e.filter((e=>(null===e||void 0===e?void 0:e.type)===i));return void 0===d?t:t.filter((e=>e.label.includes(d)))},selected:l,filterable:!0,hideFilterInput:!0,selectedEmptyComponent:a.createElement("p",{style:{textAlign:"center",fontSize:"14px",color:"gray"}},"You have not selected anything yet...",a.createElement("br",null))}))}var j=l(7966);function Z(e){var t;const[l,n]=(0,a.useState)([]);return a.createElement("div",{className:null===e||void 0===e||null===(t=e.styles)||void 0===t?void 0:t.orgHeight},a.createElement(C.g,{label:"Organization units"},a.createElement(j.b,{name:"Organisation Units",onChange:t=>{null===e||void 0===e||e.setOrg(t.selected),n(t.selected),console.log(t.selected)},roots:(e=>{let t=[];return null===e||void 0===e||e.map((e=>{1==(null===e||void 0===e?void 0:e.level)&&(null===t||void 0===t||t.push(null===e||void 0===e?void 0:e.id))})),t})(null===e||void 0===e?void 0:e.orgUnits),hideMemberCount:!1,onSelectClick:e=>{},selected:l})))}function ee(e){var t,l,i,d,r,p,y,E,h,g,S,f,x,b,N,D,I;const k=(0,n.bQ)(),$=(0,A.TH)(),w=null===e||void 0===e||null===(t=e.data)||void 0===t||null===(l=t.organisationUnits)||void 0===l?void 0:l.organisationUnits,L=null===e||void 0===e||null===(i=e.data)||void 0===i||null===(d=i.visualizations)||void 0===d?void 0:d.visualizations,B=null===e||void 0===e||null===(r=e.data)||void 0===r||null===(p=r.dataElements)||void 0===p?void 0:p.dataElements,M=null===e||void 0===e||null===(y=e.data)||void 0===y||null===(E=y.indicators)||void 0===E?void 0:E.indicators,O=`dataStore/DEX_initializer_values/${$.pathname.split("/").slice(-1)[0]}`,R=(0,A.s0)(),[P,W]=(0,a.useState)(),[q,F]=(0,a.useState)(),[H,G]=(0,a.useState)(),[Y,V]=(0,a.useState)(),[J,X]=(0,a.useState)(),[j,ee]=(0,a.useState)(!0),[te,le]=(0,a.useState)(!0),[ae,ne]=(0,a.useState)(),[ie,oe]=(0,a.useState)(),[de,re]=(0,a.useState)(!1),[se,ue]=(0,a.useState)(),ve=async e=>{const t={resource:O,type:"update",data:e};re(!1),await k.mutate(t).then((e=>{200==e.httpStatusCode&&(re(!1),ee(!1))})).catch((e=>{ne(e),re(!1),le(!1)}))};return(0,a.useEffect)((()=>{(async()=>{const e={dataStore:{resource:O,params:{fields:["."]}}};try{try{const t=await k.query(e);oe(t.dataStore)}catch(t){}}catch(t){}})()}),[]),a.createElement("div",{className:null===e||void 0===e||null===(h=e.style)||void 0===h?void 0:h.padding},de&&a.createElement(U.m,{translucent:!0},a.createElement(s.M,null,a.createElement(u.V,{large:!0}))),a.createElement(v.x,{className:null===e||void 0===e||null===(g=e.style)||void 0===g?void 0:g.display},a.createElement(v.x,{className:null===e||void 0===e||null===(S=e.style)||void 0===S?void 0:S.padding},a.createElement(Z,{orgUnits:w,setOrg:e=>{let t=[];null===e||void 0===e||e.map((e=>{const l=e.split("/");t.push(...l.slice(-1))})),X(t)}})),a.createElement("div",null,a.createElement(v.x,{className:`${null===e||void 0===e||null===(f=e.style)||void 0===f?void 0:f.width} ${null===e||void 0===e||null===(x=e.style)||void 0===x?void 0:x.padding}`},a.createElement(C.g,{label:"Name"},a.createElement(z.I,{onChange:e=>{G(e.value)},placeholder:"Enter request name"}))),a.createElement("div",{className:null===e||void 0===e||null===(b=e.style)||void 0===b?void 0:b.display},a.createElement(v.x,{className:null===e||void 0===e||null===(N=e.style)||void 0===N?void 0:N.padding},a.createElement(Q,{setPeriods:V})),a.createElement(v.x,{className:null===e||void 0===e||null===(D=e.style)||void 0===D?void 0:D.padding},a.createElement(K,{setData:e=>{ue(e);const t=[];L.map((e=>t.push(e.id))),W(_.intersection(e,t)),F(_.difference(e,_.intersection(e,t)))},dataElements:B,indicators:M,visualizations:L}))),a.createElement("div",{className:null===e||void 0===e||null===(I=e.style)||void 0===I?void 0:I.padding},a.createElement(o.J,{end:!0},a.createElement(m.z,{primary:!0,large:!0,onClick:()=>(()=>{if(re(!0),void 0===H||null===H)re(!1),ne("Request name is required"),le(!1);else if(void 0===se||(null===se||void 0===se?void 0:se.length)<1)re(!1),ne("No data elements,indicators,or visualisations selected"),le(!1);else if(void 0===J||(null===J||void 0===J?void 0:J.length)<1)re(!1),ne("No organisation units selected"),le(!1);else if(void 0===Y||(null===Y||void 0===Y?void 0:Y.length)<1)re(!1),ne("No periods selected"),le(!1);else{var e;if(void 0===(null===ie||void 0===ie||null===(e=ie.source)||void 0===e?void 0:e.requests)){var t={createdAt:ie.createdAt,dexname:ie.dexname,type:ie.type,url:ie.url,source:{requests:[{name:H,visualization:P,dx:q,pe:Y,ou:J,inputIdScheme:"code",outputIdScheme:"code"}]}};ve(t)}else{var l;let e=null===ie||void 0===ie||null===(l=ie.source)||void 0===l?void 0:l.requests;e.push({name:H,visualization:P,dx:q,pe:Y,ou:J,inputIdScheme:"code",outputIdScheme:"code"}),console.log(e),ve({createdAt:ie.createdAt,dexname:ie.dexname,type:ie.type,url:ie.url,source:{requests:e}})}}})()},"Save"),a.createElement(T.rU,{to:"/",style:{textDecoration:"none",color:"white"}},a.createElement(m.z,{large:!0},"Cancel"))),a.createElement(c.N,{warning:!0,hidden:te,onHidden:()=>le(!0),duration:2e3},ae),a.createElement(c.N,{success:!0,hidden:j,duration:2e3,onHidden:()=>{ee(!0),R("/")}},"Innitialisation saved succesifuly")))))}var te=l(5590),le=l(2238),ae=l(5838),ne=l(9214),ie=l(3255),oe=l(8922),de=l(4354),re=l(7958),se=l(8717),ue=l(2415),ve=l(8255);var ce=function(e){const t=null===e||void 0===e?void 0:e.requests,l=null===e||void 0===e?void 0:e.indicators,n=null===e||void 0===e?void 0:e.dataElements,i=null===e||void 0===e?void 0:e.orgUnits,d=null===e||void 0===e?void 0:e.visualisations,[r,s]=(0,a.useState)(!1);return a.createElement(a.Fragment,null,r&&a.createElement(I.u,{fluid:!0,position:"middle"},a.createElement($.h,null,a.createElement(v.x,null,"Are you sure you want to delete Request"," ",a.createElement("span",{style:{fontWeight:"bold"}},null===t||void 0===t?void 0:t.name)," ?...")),a.createElement(w.n,null,a.createElement(o.J,{end:!0},a.createElement(m.z,{primary:!0,onClick:()=>s(!1)},"No"),a.createElement(m.z,{destructive:!0,onClick:()=>{s(!1),null===e||void 0===e||e.deleteRequest(t)}},"Yes")))),a.createElement(se.U,null,a.createElement(ve.W,null,a.createElement("span",{style:{fontFamily:"sans-serif",fontWeight:"normal",fontSize:"15px"}},null===t||void 0===t?void 0:t.name)),a.createElement(ve.W,null,void 0!==i&&(()=>{var e;let l=[];return null===t||void 0===t||null===(e=t.ou)||void 0===e||e.map((e=>{const t=(null===i||void 0===i?void 0:i.filter((t=>t.id===e)))[0].name;null===l||void 0===l||l.push(t)})),null===l||void 0===l?void 0:l.map((e=>a.createElement("div",{style:{padding:"5px"}},a.createElement("span",{style:{fontFamily:"sans-serif",fontWeight:"normal",fontSize:"15px"}},e))))})()),a.createElement(ve.W,null,void 0!==d&&(()=>{var e;let l=[];return null===t||void 0===t||null===(e=t.visualization)||void 0===e||e.map((e=>{var t;const a=null===d||void 0===d?void 0:d.filter((t=>t.id===e));l.push(null===(t=a[0])||void 0===t?void 0:t.displayName)})),null===l||void 0===l?void 0:l.map((e=>a.createElement("div",{key:e,style:{padding:"5px"}},a.createElement("span",{style:{fontFamily:"sans-serif",fontWeight:"normal",fontSize:"15px"}},e))))})()),a.createElement(ve.W,null,void 0!==n&&void 0!==l&&(()=>{var e;return console.log(n),null===t||void 0===t||null===(e=t.dx)||void 0===e?void 0:e.map((e=>{const t=null===n||void 0===n?void 0:n.filter((t=>t.code===e));if((null===t||void 0===t?void 0:t.length)<1){var i,o;const t=null===l||void 0===l?void 0:l.filter((t=>t.code===e));return a.createElement("div",{key:null===(i=t[0])||void 0===i?void 0:i.displayName,style:{padding:"5px"}},a.createElement("span",{style:{fontFamily:"sans-serif",fontWeight:"normal",fontSize:"15px"}},null===(o=t[0])||void 0===o?void 0:o.displayName))}var d,r;return console.log(t),a.createElement("div",{key:null===(d=t[0])||void 0===d?void 0:d.displayName,style:{padding:"5px"}},a.createElement("span",{style:{fontFamily:"sans-serif",fontWeight:"normal",fontSize:"15px"}},null===(r=t[0])||void 0===r?void 0:r.displayName))}))})()),a.createElement(ve.W,null,(()=>{var e;return null===t||void 0===t||null===(e=t.pe)||void 0===e?void 0:e.map((e=>a.createElement("div",{key:e,style:{padding:"5px"}},a.createElement("span",{style:{fontFamily:"sans-serif",fontWeight:"normal",fontSize:"15px"}},e))))})()),a.createElement(ve.W,null,a.createElement(m.z,{destructive:!0,onClick:()=>s(!0)},"Delete Request"))))};var me=function(e){var t;const l=null===e||void 0===e?void 0:e.orgUnits,n=null===e||void 0===e?void 0:e.indicators,i=null===e||void 0===e?void 0:e.dataExchange,o=null===e||void 0===e?void 0:e.dataElements,d=null===e||void 0===e?void 0:e.visualisations,r=null===i||void 0===i||null===(t=i.source)||void 0===t?void 0:t.requests;return(0,a.useEffect)((()=>{console.log(i)}),[]),a.createElement("div",{style:{padding:"30px"}},a.createElement(re.w,null,a.createElement(E.s,null,a.createElement(se.U,null,a.createElement(ue.p,null,"Name"),a.createElement(ue.p,null,"Organisation units"),a.createElement(ue.p,null,"Visualisations"),a.createElement(ue.p,null,"Data elements / indicators"),a.createElement(ue.p,null,"Periods"),a.createElement(ue.p,null,"Actions"))),a.createElement(S.R,null,void 0!==r&&(null===r||void 0===r?void 0:r.map((t=>a.createElement(ce,{requests:t,dataExchange:i,deleteRequest:null===e||void 0===e?void 0:e.deleteRequest,indicators:n,orgUnits:l,dataElements:o,visualisations:d})))))))};function pe(e){const t=`dataStore/DEX_initializer_values/${(0,A.TH)().pathname.split("/").slice(-1)[0]}`,[l,i]=(0,a.useState)(),[d,r]=(0,a.useState)(),[y,E]=(0,a.useState)(),[h,g]=(0,a.useState)(),[S,f]=(0,a.useState)(),[x,b]=(0,a.useState)(!1),[_,N]=(0,a.useState)(!0),[D,I]=(0,a.useState)(!0),k={organisationUnits:{resource:"organisationUnits",params:{paging:!1,fields:["id,name,displayName"]}},visualizations:{resource:"visualizations",params:{paging:!1,field:["id","displayName"]}},indicators:{resource:"indicators",params:{paging:!1,fields:["id","name","displayName","code"]}},dataElements:{resource:"dataElements",params:{paging:!1,fields:["id","name","formName","displayName","code"]}},periodTypes:{resource:"periodTypes",params:{fields:["*"]}},dataStore:{resource:t,params:{paging:!1,fields:["*"]}}},$=(0,n.bQ)();(0,a.useEffect)((()=>{(async()=>{var e,t,l,a;const n=await $.query(k);i(null===n||void 0===n?void 0:n.dataStore),g(null===n||void 0===n||null===(e=n.visualizations)||void 0===e?void 0:e.visualizations),r(null===n||void 0===n||null===(t=n.indicators)||void 0===t?void 0:t.indicators),E(null===n||void 0===n||null===(l=n.dataElements)||void 0===l?void 0:l.dataElements),f(null===n||void 0===n||null===(a=n.organisationUnits)||void 0===a?void 0:a.organisationUnits)})()}),[]);return a.createElement("div",{style:{width:"100%"}},x&&a.createElement(U.m,{translucent:!0},a.createElement(s.M,null,a.createElement(u.V,{large:!0}))),a.createElement(o.J,{end:!0},a.createElement(T.rU,{to:"/",style:{textDecoration:"none",color:"white"}},a.createElement(m.z,{primary:!0},"Back"))),a.createElement(p.i,null),a.createElement("div",{className:`${null===e||void 0===e?void 0:e.styles.padding}`},a.createElement(v.x,null,a.createElement("span",{style:{padding:"10px",fontFamily:"sans-serif",fontWeight:"bold",fontSize:"20px"}}," ","Agreggate exchange Details"," "),a.createElement(p.i,null),a.createElement(v.x,null,a.createElement(te.s,null,a.createElement(le.I,null,a.createElement(ae.K,null,a.createElement(ne.e,null,"Created at"),a.createElement(ne.e,null,"Name"),a.createElement(ne.e,null,"Target"),a.createElement(ne.e,null,"Type"))),a.createElement(ie.j,null,a.createElement(oe.p,null,a.createElement(de.O,null,null===l||void 0===l?void 0:l.createdAt),a.createElement(de.O,null,null===l||void 0===l?void 0:l.dexname),a.createElement(de.O,null,null===l||void 0===l?void 0:l.url),a.createElement(de.O,null,null===l||void 0===l?void 0:l.type))))),a.createElement(p.i,null),a.createElement(v.x,null,a.createElement("span",{style:{padding:"20px",fontFamily:"sans-serif",fontWeight:"normal",fontSize:"20px"}}," ","Requests"," "),a.createElement(me,{key:null===l||void 0===l?void 0:l.url,deleteRequest:async e=>{var a;b(!0);const n=null===l||void 0===l||null===(a=l.source)||void 0===a?void 0:a.requests.filter((t=>t.name!==e.name)),o={resource:t,type:"update",data:{createdAt:null===l||void 0===l?void 0:l.createdAt,dexname:null===l||void 0===l?void 0:l.dexname,type:null===l||void 0===l?void 0:l.type,url:null===l||void 0===l?void 0:l.url,source:{requests:n}}};i(null===o||void 0===o?void 0:o.data),await $.mutate(o).then((e=>{200===e.httpStatusCode&&(b(!1),N(!1))})).catch((e=>{b(!1),I(!1)}))},orgUnits:S,indicators:d,dataExchange:l,dataElements:y,visualisations:h})))),a.createElement("div",{style:{alignContent:"center",justifyContent:"center"}},a.createElement(s.M,null,a.createElement(c.N,{success:!0,hidden:_,duration:2e3,onhidden:()=>N(!0)},"Request deleted succesifuly"),a.createElement(c.N,{warning:!0,hidden:D,duration:2e3,onhidden:()=>I(!0)},"Failled to delete request"))))}function ye(e){var t;let{openDelete:l,setOpenDelete:n,data:i,deleteDataEntry:d}=e;return a.createElement("div",null,l&&a.createElement(I.u,{large:!0,position:"middle"},a.createElement(k.r,null,"Delete Entry"),a.createElement($.h,null,null!==i&&void 0!==i&&null!==(t=i.value)&&void 0!==t&&t.initialized?a.createElement(a.Fragment,null):a.createElement(k.r,null,"This entry is not yet initialized in data exchange!"),a.createElement(k.r,null,"Are sure you want to delete this entry?"),a.createElement("p",null,i&&(null===i||void 0===i?void 0:i.name))),a.createElement(w.n,null,a.createElement(o.J,{end:!0},a.createElement(m.z,{onClick:()=>n(!1),destructive:!0},"No"),a.createElement(m.z,{onClick:()=>{d(i)},primary:!0},"Yes")))))}function Ee(e){var t,l,n,i,d;const[r,s]=(0,a.useState)({dexname:"",url:""});return(0,a.useEffect)((()=>{var t,l,a,n;s({...r,dexname:null===e||void 0===e||null===(t=e.data)||void 0===t||null===(l=t.value)||void 0===l?void 0:l.dexname,url:null===e||void 0===e||null===(a=e.data)||void 0===a||null===(n=a.value)||void 0===n?void 0:n.url})}),[e]),a.createElement("div",{style:{width:"100%"}},(null===e||void 0===e?void 0:e.openUpdate)&&a.createElement("div",{className:"",style:{marginTop:"10px"}},a.createElement(I.u,{large:!0,position:"middle"},a.createElement(k.r,null,"Update Initialization"),a.createElement($.h,null,a.createElement("div",{style:{width:"100%",justifyContent:"center",alignItems:"center"}},a.createElement(C.g,{label:"General Details"},a.createElement("div",{style:{width:"100%"}},a.createElement(z.I,{name:"dexname",type:"text",onChange:e=>{s({...r,dexname:e.value})},className:null===e||void 0===e||null===(t=e.styles)||void 0===t?void 0:t.marginBottom,value:null===r||void 0===r?void 0:r.dexname}),a.createElement(v.x,{className:null===e||void 0===e||null===(l=e.styles)||void 0===l?void 0:l.marginBottom},a.createElement(L.q,{className:"select",onChange:t=>{null===e||void 0===e||e.setType(t.selected)},selected:null===e||void 0===e||null===(n=e.data)||void 0===n||null===(i=n.value)||void 0===i?void 0:i.type},a.createElement(B.a,{label:"Internal",value:"INTERNAL"}),a.createElement(B.a,{label:"External",value:"EXTERNAL"}))),"EXTERNAL"==(null===e||void 0===e?void 0:e.type)&&a.createElement(z.I,{name:"url",type:"text",onChange:e=>{s({...r,url:e.value})},value:null===r||void 0===r?void 0:r.url,className:null===e||void 0===e||null===(d=e.styles)||void 0===d?void 0:d.marginBottom}))))),a.createElement(w.n,null,a.createElement(o.J,{end:!0},a.createElement(m.z,{onClick:()=>{null===e||void 0===e||e.setOpenUpdate(!1)},destructive:!0},"Cancel"),a.createElement(m.z,{onClick:t=>{null===e||void 0===e||e.updateGeneralInputValues({data:null===e||void 0===e?void 0:e.data,values:r})},primary:!0},"Save to Initialization"))))))}function he(e){var t,l,n,i,d;const r=t=>{null===e||void 0===e||e.setAuthValues({...null===e||void 0===e?void 0:e.authValues,[null===t||void 0===t?void 0:t.name]:null===t||void 0===t?void 0:t.value})};return a.createElement("div",{style:{width:"100%"}},(null===e||void 0===e?void 0:e.openIntegration)&&a.createElement("div",{className:"",style:{marginTop:"10px"}},a.createElement(I.u,{large:!0,position:"middle"},a.createElement(k.r,null,"Initialize Integration"),a.createElement($.h,null,a.createElement("div",{style:{width:"100%",justifyContent:"center",alignItems:"center"}},a.createElement(C.g,{label:"User credentials"},a.createElement("div",{style:{width:"100%"}},"EXTERNAL"==(null===e||void 0===e?void 0:e.type)&&a.createElement(v.x,{className:null===e||void 0===e||null===(t=e.styles)||void 0===t?void 0:t.marginBottom},a.createElement(L.q,{className:null===e||void 0===e||null===(l=e.styles)||void 0===l?void 0:l.marginBottom,selected:null===e||void 0===e?void 0:e.authType,onChange:t=>{null===e||void 0===e||e.setAuthType(t.selected)}},a.createElement(B.a,{label:"Basic auth",value:"BASICAUTH"}),a.createElement(B.a,{label:"Access Token",value:"TOKEN"})),a.createElement("div",{className:""},"BASICAUTH"==(null===e||void 0===e?void 0:e.authType)?a.createElement("div",{style:{width:"500px",display:"flex",flexFlow:"row",gap:"10px"}},a.createElement(z.I,{name:"username",type:"text",onChange:r,placeholder:"Username",className:null===e||void 0===e||null===(n=e.styles)||void 0===n?void 0:n.marginBottom}),a.createElement(z.I,{name:"password",onChange:r,type:"password",className:null===e||void 0===e||null===(i=e.styles)||void 0===i?void 0:i.marginBottom,placeholder:"Password"})):a.createElement("div",null,a.createElement(z.I,{name:"token",type:"text",onChange:r,placeholder:"Paste the access token here...",className:null===e||void 0===e||null===(d=e.styles)||void 0===d?void 0:d.marginBottom})))))))),a.createElement(w.n,null,a.createElement(o.J,{end:!0},a.createElement(m.z,{onClick:()=>{null===e||void 0===e||e.setOpenIntegration(!1)},destructive:!0},"Cancel"),a.createElement(m.z,{onClick:()=>{null===e||void 0===e||e.initializeIntegration(null===e||void 0===e?void 0:e.data)},primary:!0},"Save to Initialization"))))))}var ge=l(7697),Se=l.n(ge);const fe={organisationUnits:{resource:"organisationUnits",params:{paging:!1,fields:["id,name,level,path,displayName,code,children,ancestors,created,href,user,users,userAccesses"],order:"level"}},visualizations:{resource:"visualizations",params:{paging:!1,field:["id","displayName"]}},indicators:{resource:"indicators",params:{paging:!1,fields:["id","name","displayName","code"]}},dataElements:{resource:"dataElements",params:{paging:!1,fields:["id","name","formName","displayName","code"]}},periodTypes:{resource:"periodTypes",params:{fields:["*"]}},aggregateDataExchanges:{resource:"aggregateDataExchanges",params:{fields:["*"]}},dataStore:{resource:"dataStore",params:{paging:!1,fields:["*"]}}};var xe=()=>{const[e,t]=(0,a.useState)({dexname:"",url:""}),[l,o]=(0,a.useState)({dexname:"",url:""}),[d,m]=(0,a.useState)({username:"",password:"",token:""}),[p,y]=(0,a.useState)("EXTERNAL"),[E,h]=(0,a.useState)(!1),[g,S]=(0,a.useState)(!1),[f,x]=(0,a.useState)(!1),[b,_]=(0,a.useState)(!1),[N,I]=(0,a.useState)(),[k,$]=(0,a.useState)(),[w,C]=(0,a.useState)(),z=(0,n.bQ)(),[L,B]=(0,a.useState)(),[M,U]=(0,a.useState)([]),[P,W]=(0,a.useState)([]),[q,F]=(0,a.useState)(!0),[H,G]=(0,a.useState)(""),[Y,V]=(0,a.useState)(!1),[Q,J]=(0,a.useState)({TOKEN:"TOKEN",BASICAUTH:"BASICAUTH"}),{loading:X,error:K,data:j,refetch:Z}=(0,n.u_)(fe),te=e=>{z.mutate(e).then((e=>{201==e.httpStatusCode&&(_(!1),V(!0),F(!1),G("Data exchange initialization is successfull\nPlease use the Data Exchange app to submit the Data."))})).catch((e=>{F(!1),G("Error occured. Either server or the inputs causes this error.")}))};if(K)return a.createElement("span",null," Error : ",K.message);if(X)return a.createElement(s.M,null,a.createElement(u.V,{large:!0}));return a.createElement("div",null,a.createElement("div",null,a.createElement(r,null),a.createElement("br",null),a.createElement("div",{style:{padding:"20px"}},a.createElement(T.VK,null,a.createElement(A.Z5,null,a.createElement(A.AW,{index:!0,element:a.createElement(D,{data:j,styles:i,open:E,setOpenUpdate:x,openUpdate:f,openIntegration:b,setOpenIntegration:_,setOpen:h,setOpenDelete:S,openDelete:g,deleteEntry:e=>{I(e)},updateEntry:e=>{$(e)},integrateEntry:e=>{C(e)}})}),a.createElement(A.AW,{path:"/view/:key",element:a.createElement(pe,{data:j,styles:i})}),a.createElement(A.AW,{path:"/new-request/:key",element:a.createElement(ee,{data:j,style:i})}),a.createElement(A.AW,{path:"*",element:a.createElement(R,null)})))),a.createElement(v.x,null,1==Y?a.createElement(c.N,{hidden:q,success:!0,duration:4e3,onHidden:e=>{F(!0)}},H):a.createElement(c.N,{hidden:q,warning:!0,duration:4e3,onHidden:e=>{F(!0)}},H))),a.createElement(O,{open:E,setOpen:h,styles:i,setType:y,formInputValues:e,type:p,setFormInputValues:t,saveGeneralInputValues:()=>{if(null==p||void 0==p||""==p||null==(null===e||void 0===e?void 0:e.dexname)||void 0==(null===e||void 0===e?void 0:e.dexname)||""==(null===e||void 0===e?void 0:e.dexname)||null==(null===e||void 0===e?void 0:e.url)||void 0==(null===e||void 0===e?void 0:e.url)||""==(null===e||void 0===e?void 0:e.url))V(!0),F(!1),G("Error occured.");else{let t={resource:`dataStore/DEX_initializer_values/${(new Date).getTime()}`,type:"create",data:{createdAt:(new Date).toLocaleString(),dexname:null===e||void 0===e?void 0:e.dexname,url:null===e||void 0===e?void 0:e.url,type:p}};z.mutate(t).then((e=>{201==e.httpStatusCode&&(h(!E),V(!0),F(!1),G("Data saved in the datastore successfully."))})).catch((e=>{F(!1),G("Error occured. Either server or the inputs causes this error.")}))}}}),a.createElement(Ee,{setType:y,styles:i,type:p,setOpenUpdate:x,openUpdate:f,setUpdateFormInputValues:o,updateFormInputValues:l,updateGeneralInputValues:e=>{let{data:t,values:l}=e;var a,n;""==(null===l||void 0===l?void 0:l.dexname)||null==(null===l||void 0===l?void 0:l.dexname)||void 0==(null===l||void 0===l?void 0:l.dexname)||""==(null===l||void 0===l?void 0:l.url)||null==(null===l||void 0===l?void 0:l.url)||void 0==(null===l||void 0===l?void 0:l.url)||(void 0==(null===k||void 0===k||null===(a=k.value)||void 0===a?void 0:a.source)||null==(null===k||void 0===k||null===(n=k.value)||void 0===n?void 0:n.source)?z.mutate({resource:`dataStore/DEX_initializer_values/${null===t||void 0===t?void 0:t.key}`,type:"update",data:e=>{var t;let{}=e;return{createdAt:null===k||void 0===k||null===(t=k.value)||void 0===t?void 0:t.createdAt,updatedAt:(new Date).toLocaleDateString(),dexname:null===l||void 0===l?void 0:l.dexname,type:p,url:null===l||void 0===l?void 0:l.url}}}).then((e=>{200==e.httpStatusCode&&(x(!f),V(!0),F(!1),G("Data saved in the datastore successfully."))})).catch((e=>{F(!1),G("Error occured. Either server or the inputs causes this error.")})):z.mutate({resource:`dataStore/DEX_initializer_values/${null===t||void 0===t?void 0:t.key}`,type:"update",data:e=>{var t,a;let{}=e;return{createdAt:null===k||void 0===k||null===(t=k.value)||void 0===t?void 0:t.createdAt,updatedAt:(new Date).toLocaleDateString(),dexname:null===l||void 0===l?void 0:l.dexname,source:null===k||void 0===k||null===(a=k.value)||void 0===a?void 0:a.source,type:p,url:null===l||void 0===l?void 0:l.url}}}).then((e=>{200==e.httpStatusCode&&(x(!f),V(!0),F(!1),G("Data saved in the datastore successfully."))})).catch((e=>{F(!1),G("Error occured. Either server or the inputs causes this error.")})))},data:k}),a.createElement(he,{setAuthType:J,styles:i,type:p,authType:Q,setOpenIntegration:_,openIntegration:b,setAuthValues:m,authValues:d,initializeIntegration:e=>{if((null===L||void 0===L?void 0:L.type)==(null===p||void 0===p?void 0:p.EXTERNAL)){var t,l,a,n,i;if(""==(null===w||void 0===w||null===(t=w.value)||void 0===t?void 0:t.url))G("Please enter target DHIS2 instance url"),F(!1);else if(0==(null===Se()||void 0===Se()?void 0:Se().isValidUrl(null===w||void 0===w||null===(l=w.value)||void 0===l?void 0:l.url)))G("The url format is invalid."),F(!1);else if(1==((null===Q||void 0===Q?void 0:Q.authType)==Q.BASICAUTH))if((null===w||void 0===w||null===(a=w.value)||void 0===a||null===(n=a.source)||void 0===n||null===(i=n.requests)||void 0===i?void 0:i.length)>0){var o,r,s;let e=[];if(null===w||void 0===w||null===(o=w.value)||void 0===o||null===(r=o.source)||void 0===r||null===(s=r.requests)||void 0===s||s.map((t=>{e.push({name:null===t||void 0===t?void 0:t.name,visualization:null===t||void 0===t?void 0:t.visualizations,dx:null===t||void 0===t?void 0:t.dx,pe:null===t||void 0===t?void 0:t.pe,ou:null===t||void 0===t?void 0:t.ou,inputIdScheme:"code",outputIdScheme:"code"})})),void 0==(null===d||void 0===d?void 0:d.username)||""==(null===d||void 0===d?void 0:d.username)||void 0==(null===d||void 0===d?void 0:d.password)||""==(null===d||void 0===d?void 0:d.password))G("Username or password is missing"),F(!1);else{var u,v,c;let t={resource:"aggregateDataExchanges",type:"create",data:{name:null===w||void 0===w||null===(u=w.value)||void 0===u?void 0:u.dexname,source:{requests:e},target:{type:null===w||void 0===w||null===(v=w.value)||void 0===v?void 0:v.type,api:{url:null===w||void 0===w||null===(c=w.value)||void 0===c?void 0:c.url,username:null===d||void 0===d?void 0:d.username,password:null===d||void 0===d?void 0:d.password},request:{idScheme:"code"}}}};te(t)}}}else{var m,y,E,h,g;let e={resource:"aggregateDataExchanges",type:"create",data:{name:null===w||void 0===w||null===(m=w.value)||void 0===m?void 0:m.dexname,source:{requests:null===w||void 0===w||null===(y=w.value)||void 0===y||null===(E=y.source)||void 0===E?void 0:E.request},target:{type:null===w||void 0===w||null===(h=w.value)||void 0===h?void 0:h.type,api:{url:null===w||void 0===w||null===(g=w.value)||void 0===g?void 0:g.url,accessToken:null===d||void 0===d?void 0:d.token},request:{idScheme:"code"}}}};te(e)}},data:w}),a.createElement(ye,{setOpenDelete:S,openDelete:g,deleteDataEntry:e=>{if(null==(null===e||void 0===e?void 0:e.key)||void 0==(null===e||void 0===e?void 0:e.key)||""==(null===e||void 0===e?void 0:e.key));else{let t={resource:"dataStore/DEX_initializer_values",id:null===e||void 0===e?void 0:e.key,type:"delete"};z.mutate(t).then((e=>{200==e.httpStatusCode&&(S(!g),V(!0),F(!1),G("Data saved in the datastore successfully."))})).catch((e=>{F(!1),G("Error occured. Either server or the inputs causes this error.")}))}},data:N}))}},4538:function(e){const t=(e,t)=>{const l=new Date(t,0,1),a=7*(e-1)+(1-l.getDay());return l.setDate(l.getDate()+a),l},l=e=>e<10?`0${e}`:e,a=(e,l)=>{const a=t(e,l),n=new Date(a);return n.setDate(n.getDate()+6),n},n=(e,n)=>{var i,o,d,r,s,u;return`${null===(i=t(e+1,n))||void 0===i?void 0:i.getFullYear()}-${(null===(o=t(e+1,n))||void 0===o?void 0:o.getMonth())+1}-${l(null===(d=t(e+1,n))||void 0===d?void 0:d.getDate())} \n    - ${null===(r=a(e+1,n))||void 0===r?void 0:r.getFullYear()}-${null===(s=a(e+1,n))||void 0===s?void 0:s.getMonth()}-${l(null===(u=a(e+1,n))||void 0===u?void 0:u.getDate())}\n    `};function i(e,t){var l=new Date(t,0,1),a=7*(1+2*(e-1)-1)+1;return new Date(l.getTime()+24*(a+1)*60*60*1e3)}function o(e,t){var l=new Date(t,0,1),a=7*(1+2*(e-1)-1)+1;return new Date(l.getTime()+24*(a+14)*60*60*1e3)}let d={GetYearly:()=>{let e=(new Date).getFullYear(),t=[];for(let l=0;l<10;l++)t.push({type:"Years",label:""+(e-l),value:""+(e-l)});return null===t||void 0===t?void 0:t.reverse()},getFirstPosition:e=>e[0],GetWeekly:e=>{let t=[];for(let a=0;a<52;a++)t.push({type:"Weeks",label:`Week ${l(a+1)} - ${n(a,e)}`,value:`${e}W${a+1}`});return t},GetBiWeekly:e=>{let t=[];for(let l=0;l<26;l++)t.push({type:"Bi-weeks",label:`BiWeek-${l+1} ${i(l+1,e).toISOString().split("T")[0]} - ${o(l+1,e).toISOString().split("T")[0]}`,value:`${e}BiW${l+1}`});return t},GetDaily:e=>{const t=[],l=(e,t)=>new Date(t,e,0).getDate();for(let a=1;a<13;a++)for(let n=1;n<=l(a,e);n++)t.push({type:"Days",label:`${e}-${a}-${n}`,value:`${e}${a}${n}`});return t},GetMonthly:e=>[{type:"Months",label:`January ${e} `,value:`${e}01`},{type:"Months",label:`February ${e}`,value:`${e}02`},{type:"Months",label:`March ${e}`,value:`${e}03`},{type:"Months",label:`April ${e}`,value:`${e}04`},{type:"Months",label:`May ${e}`,value:`${e}05`},{type:"Months",label:`June ${e}`,value:`${e}06`},{type:"Months",label:`July ${e}`,value:`${e}07`},{type:"Months",label:`August ${e}`,value:`${e}08`},{type:"Months",label:`September ${e}`,value:`${e}09`},{type:"Months",label:`October ${e}`,value:`${e}010`},{type:"Months",label:`November ${e}`,value:`${e}11`},{type:"Months",label:`December ${e}`,value:`${e}12`}],GetBiMonthly:e=>[{type:"Bi-months",label:`January-February ${e}`,value:`${e}"01B"`},{type:"Bi-months",label:`March-April ${e}`,value:`${e}"02B"`},{type:"Bi-months",label:`May-June ${e}`,value:`${e}"03B"`},{type:"Bi-months",label:`July-August ${e}`,value:`${e}"04B"`},{type:"Bi-months",label:`September-October ${e}`,value:`${e}"05B"`},{type:"Bi-months",label:`November-December ${e}`,value:`${e}"06B"`}],GetQuarterly:e=>[{type:"Quarters",label:`January-March ${e}`,value:`${e}"Q1"`},{type:"Quarters",label:`April-June ${e}`,value:`${e}"Q2"`},{type:"Quarters",label:`July-September ${e}`,value:`${e}"Q3"`},{type:"Quarters",label:`October-December ${e}`,value:`${e}"Q4"`}],GetSixMonthly:e=>[{type:"Six-months",label:`January-June ${e}`,value:`${e}S1`},{type:"Six-months",label:`July-December ${e}`,value:`${e}S2`}],GetSixMonthlyApril:e=>sixMonthlyApril};e.exports={Periods:d}},5327:function(e){e.exports={RelativePeriods:{GetDays:()=>[{dimension:"relative",type:"Days",label:"Today",value:"TODAY"},{dimension:"relative",type:"Days",label:"Yesterday",value:"YESTERDAY"},{dimension:"relative",type:"Days",label:"Last 3 days",value:"LAST_3_DAYS"},{dimension:"relative",type:"Days",label:"Last 7 days",value:"LAST_7_DAYS"},{dimension:"relative",type:"Days",label:"Last 14 days",value:"LAST_14_DAYS"}],GetYearly:()=>[{dimension:"relative",type:"Years",label:"This year",value:"THIS_YEAR"},{dimension:"relative",type:"Years",label:"Last year",value:"LAST_YEAR"},{dimension:"relative",type:"Years",label:"Last 5 years",value:"LAST_5_YEARS"},{dimension:"relative",type:"Years",label:"Last 10 years",value:"LAST_10_YEARS"}],GetWeekly:()=>[{dimension:"relative",type:"Weeks",label:"This week",value:"THIS_WEEK"},{dimension:"relative",type:"Weeks",label:"Last week",value:"LAST_WEEK"},{dimension:"relative",type:"Weeks",label:"Last 4 weeks",value:"LAST_4_WEEKS"},{dimension:"relative",type:"Weeks",label:"Last 12 weeks",value:"LAST_12_WEEKS"},{dimension:"relative",type:"Weeks",label:"Last 52 weeks",value:"LAST_52_WEEKS"}],GetBiWeekly:()=>[{dimension:"relative",type:"Bi-weeks",label:"This bi-week",value:"THIS_BIWEEK"},{dimension:"relative",type:"Bi-weeks",label:"Last bi-week",value:"LAST_BIWEEK"},{dimension:"relative",type:"Bi-weeks",label:"Last 4-biweeks",value:"LAST_4_BIWEEKS"}],GetMonthly:()=>[{dimension:"relative",type:"Months",label:"This month",value:"THIS_MONTH"},{dimension:"relative",type:"Months",label:"Last month",value:"LAST_MONTH"},{dimension:"relative",type:"Months",label:"Last 3 months",value:"LAST_3_MONTHS"},{dimension:"relative",type:"Months",label:"Last 6 months",value:"LAST_6_MONTHS"},{dimension:"relative",type:"Months",label:"Last 12 months",value:"LAST_12_MONTHS"},{dimension:"relative",type:"Months",label:"Months this year",value:"MONTHS_THIS_YEAR"}],GetBiMonthly:()=>[{dimension:"relative",type:"Bi-months",label:"This bi-month",value:"THIS_BIMONTH"},{dimension:"relative",type:"Bi-months",label:"Last bi-month",value:"LAST_BIMONTH"},{dimension:"relative",type:"Bi-months",label:"Last 6-months",value:"LAST_6_BIMONTHS"},{dimension:"relative",type:"Bi-months",label:"Last 12-months",value:"LAST_12_MONTHS"},{dimension:"relative",type:"Bi-months",label:"Months this year",value:"BIMONTHS_THIS_YEAR"}],GetQuarterly:()=>[{dimension:"relative",type:"Quarters",label:"This quarter",value:"THIS_QUARTER"},{dimension:"relative",type:"Quarters",label:"Last quarter",value:"LAST_QUARTER"},{dimension:"relative",type:"Quarters",label:"Last 4-quarters",value:"LAST_4_QUARTERS"},{dimension:"relative",type:"Quarters",label:"Quarters this year",value:"QUARTERS_THIS_YEAR"}],GetSixMonthly:()=>[{dimension:"relative",type:"Six-months",label:"This six-month",value:"THIS_SIX_MONTH"},{dimension:"relative",type:"Six-months",label:"Last 6-months",value:"LAST_SIX_MONTH"},{dimension:"relative",type:"Six-months",label:"Last 2-six-months",value:"LAST_2_SIXMONTHS"}],GetFinancialYear:()=>[{dimension:"relative",type:"Financial Years",label:"This financial year",value:"THIS_FINANCIAL_YEAR"},{dimension:"relative",type:"Financial Years",label:"Last financial year",value:"LAST_FINANCIAL_YEAR"},{dimension:"relative",type:"Financial Years",label:"Last 5 financial year",value:"LAST_5_FINANCIAL_YEARS"}]}}},7697:function(e){const t={isValidUrl:e=>{try{return new URL(e),!0}catch(t){return!1}}};e.exports=t}}]);
//# sourceMappingURL=app.2007000f.chunk.js.map